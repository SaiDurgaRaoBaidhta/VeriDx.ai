var LP=Object.defineProperty;var eS=u=>{throw TypeError(u)};var OP=(u,e,t)=>e in u?LP(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t;var K=(u,e,t)=>OP(u,typeof e!="symbol"?e+"":e,t),Xy=(u,e,t)=>e.has(u)||eS("Cannot "+t);var o=(u,e,t)=>(Xy(u,e,"read from private field"),t?t.call(u):e.get(u)),P=(u,e,t)=>e.has(u)?eS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(u):e.set(u,t),w=(u,e,t,n)=>(Xy(u,e,"write to private field"),n?n.call(u,t):e.set(u,t),t),k=(u,e,t)=>(Xy(u,e,"access private method"),t);var Qe=(u,e,t,n)=>({set _(r){w(u,e,r,t)},get _(){return o(u,e,n)}});function FP(u,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in u)){const i=Object.getOwnPropertyDescriptor(n,r);i&&Object.defineProperty(u,r,i.get?i:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function tE(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Yy={exports:{}},Nd={},Ky={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function jP(){if(nS)return Ut;nS=1;var u=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function E(B,W,dt){this.props=B,this.context=W,this.refs=b,this.updater=dt||x}E.prototype.isReactComponent={},E.prototype.setState=function(B,W){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,W,"setState")},E.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=E.prototype;function R(B,W,dt){this.props=B,this.context=W,this.refs=b,this.updater=dt||x}var N=R.prototype=new T;N.constructor=R,A(N,E.prototype),N.isPureReactComponent=!0;var D=Array.isArray,M=Object.prototype.hasOwnProperty,L={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function U(B,W,dt){var yt,bt={},Z=null,Q=null;if(W!=null)for(yt in W.ref!==void 0&&(Q=W.ref),W.key!==void 0&&(Z=""+W.key),W)M.call(W,yt)&&!F.hasOwnProperty(yt)&&(bt[yt]=W[yt]);var nt=arguments.length-2;if(nt===1)bt.children=dt;else if(1<nt){for(var gt=Array(nt),Mt=0;Mt<nt;Mt++)gt[Mt]=arguments[Mt+2];bt.children=gt}if(B&&B.defaultProps)for(yt in nt=B.defaultProps,nt)bt[yt]===void 0&&(bt[yt]=nt[yt]);return{$$typeof:u,type:B,key:Z,ref:Q,props:bt,_owner:L.current}}function z(B,W){return{$$typeof:u,type:B.type,key:W,ref:B.ref,props:B.props,_owner:B._owner}}function G(B){return typeof B=="object"&&B!==null&&B.$$typeof===u}function X(B){var W={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(dt){return W[dt]})}var ot=/\/+/g;function q(B,W){return typeof B=="object"&&B!==null&&B.key!=null?X(""+B.key):W.toString(36)}function st(B,W,dt,yt,bt){var Z=typeof B;(Z==="undefined"||Z==="boolean")&&(B=null);var Q=!1;if(B===null)Q=!0;else switch(Z){case"string":case"number":Q=!0;break;case"object":switch(B.$$typeof){case u:case e:Q=!0}}if(Q)return Q=B,bt=bt(Q),B=yt===""?"."+q(Q,0):yt,D(bt)?(dt="",B!=null&&(dt=B.replace(ot,"$&/")+"/"),st(bt,W,dt,"",function(Mt){return Mt})):bt!=null&&(G(bt)&&(bt=z(bt,dt+(!bt.key||Q&&Q.key===bt.key?"":(""+bt.key).replace(ot,"$&/")+"/")+B)),W.push(bt)),1;if(Q=0,yt=yt===""?".":yt+":",D(B))for(var nt=0;nt<B.length;nt++){Z=B[nt];var gt=yt+q(Z,nt);Q+=st(Z,W,dt,gt,bt)}else if(gt=v(B),typeof gt=="function")for(B=gt.call(B),nt=0;!(Z=B.next()).done;)Z=Z.value,gt=yt+q(Z,nt++),Q+=st(Z,W,dt,gt,bt);else if(Z==="object")throw W=String(B),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Q}function ht(B,W,dt){if(B==null)return B;var yt=[],bt=0;return st(B,yt,"","",function(Z){return W.call(dt,Z,bt++)}),yt}function tt(B){if(B._status===-1){var W=B._result;W=W(),W.then(function(dt){(B._status===0||B._status===-1)&&(B._status=1,B._result=dt)},function(dt){(B._status===0||B._status===-1)&&(B._status=2,B._result=dt)}),B._status===-1&&(B._status=0,B._result=W)}if(B._status===1)return B._result.default;throw B._result}var J={current:null},Y={transition:null},ct={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:Y,ReactCurrentOwner:L};function it(){throw Error("act(...) is not supported in production builds of React.")}return Ut.Children={map:ht,forEach:function(B,W,dt){ht(B,function(){W.apply(this,arguments)},dt)},count:function(B){var W=0;return ht(B,function(){W++}),W},toArray:function(B){return ht(B,function(W){return W})||[]},only:function(B){if(!G(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ut.Component=E,Ut.Fragment=t,Ut.Profiler=r,Ut.PureComponent=R,Ut.StrictMode=n,Ut.Suspense=h,Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ct,Ut.act=it,Ut.cloneElement=function(B,W,dt){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var yt=A({},B.props),bt=B.key,Z=B.ref,Q=B._owner;if(W!=null){if(W.ref!==void 0&&(Z=W.ref,Q=L.current),W.key!==void 0&&(bt=""+W.key),B.type&&B.type.defaultProps)var nt=B.type.defaultProps;for(gt in W)M.call(W,gt)&&!F.hasOwnProperty(gt)&&(yt[gt]=W[gt]===void 0&&nt!==void 0?nt[gt]:W[gt])}var gt=arguments.length-2;if(gt===1)yt.children=dt;else if(1<gt){nt=Array(gt);for(var Mt=0;Mt<gt;Mt++)nt[Mt]=arguments[Mt+2];yt.children=nt}return{$$typeof:u,type:B.type,key:bt,ref:Z,props:yt,_owner:Q}},Ut.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},Ut.createElement=U,Ut.createFactory=function(B){var W=U.bind(null,B);return W.type=B,W},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(B){return{$$typeof:c,render:B}},Ut.isValidElement=G,Ut.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:tt}},Ut.memo=function(B,W){return{$$typeof:f,type:B,compare:W===void 0?null:W}},Ut.startTransition=function(B){var W=Y.transition;Y.transition={};try{B()}finally{Y.transition=W}},Ut.unstable_act=it,Ut.useCallback=function(B,W){return J.current.useCallback(B,W)},Ut.useContext=function(B){return J.current.useContext(B)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(B){return J.current.useDeferredValue(B)},Ut.useEffect=function(B,W){return J.current.useEffect(B,W)},Ut.useId=function(){return J.current.useId()},Ut.useImperativeHandle=function(B,W,dt){return J.current.useImperativeHandle(B,W,dt)},Ut.useInsertionEffect=function(B,W){return J.current.useInsertionEffect(B,W)},Ut.useLayoutEffect=function(B,W){return J.current.useLayoutEffect(B,W)},Ut.useMemo=function(B,W){return J.current.useMemo(B,W)},Ut.useReducer=function(B,W,dt){return J.current.useReducer(B,W,dt)},Ut.useRef=function(B){return J.current.useRef(B)},Ut.useState=function(B){return J.current.useState(B)},Ut.useSyncExternalStore=function(B,W,dt){return J.current.useSyncExternalStore(B,W,dt)},Ut.useTransition=function(){return J.current.useTransition()},Ut.version="18.3.1",Ut}var rS;function Vw(){return rS||(rS=1,Ky.exports=jP()),Ky.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function BP(){if(sS)return Nd;sS=1;var u=Vw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,f){var p,g={},v=null,x=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(x=h.ref);for(p in h)n.call(h,p)&&!i.hasOwnProperty(p)&&(g[p]=h[p]);if(c&&c.defaultProps)for(p in h=c.defaultProps,h)g[p]===void 0&&(g[p]=h[p]);return{$$typeof:e,type:c,key:v,ref:x,props:g,_owner:r.current}}return Nd.Fragment=t,Nd.jsx=l,Nd.jsxs=l,Nd}var iS;function _P(){return iS||(iS=1,Yy.exports=BP()),Yy.exports}var C=_P(),et=Vw();const eE=tE(et),UP=FP({__proto__:null,default:eE},[et]);var wg={},Qy={exports:{}},tr={},Jy={exports:{}},Zy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function zP(){return aS||(aS=1,(function(u){function e(Y,ct){var it=Y.length;Y.push(ct);t:for(;0<it;){var B=it-1>>>1,W=Y[B];if(0<r(W,ct))Y[B]=ct,Y[it]=W,it=B;else break t}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ct=Y[0],it=Y.pop();if(it!==ct){Y[0]=it;t:for(var B=0,W=Y.length,dt=W>>>1;B<dt;){var yt=2*(B+1)-1,bt=Y[yt],Z=yt+1,Q=Y[Z];if(0>r(bt,it))Z<W&&0>r(Q,bt)?(Y[B]=Q,Y[Z]=it,B=Z):(Y[B]=bt,Y[yt]=it,B=yt);else if(Z<W&&0>r(Q,it))Y[B]=Q,Y[Z]=it,B=Z;else break t}}return ct}function r(Y,ct){var it=Y.sortIndex-ct.sortIndex;return it!==0?it:Y.id-ct.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;u.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();u.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,g=null,v=3,x=!1,A=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Y){for(var ct=t(f);ct!==null;){if(ct.callback===null)n(f);else if(ct.startTime<=Y)n(f),ct.sortIndex=ct.expirationTime,e(h,ct);else break;ct=t(f)}}function D(Y){if(b=!1,N(Y),!A)if(t(h)!==null)A=!0,tt(M);else{var ct=t(f);ct!==null&&J(D,ct.startTime-Y)}}function M(Y,ct){A=!1,b&&(b=!1,T(U),U=-1),x=!0;var it=v;try{for(N(ct),g=t(h);g!==null&&(!(g.expirationTime>ct)||Y&&!X());){var B=g.callback;if(typeof B=="function"){g.callback=null,v=g.priorityLevel;var W=B(g.expirationTime<=ct);ct=u.unstable_now(),typeof W=="function"?g.callback=W:g===t(h)&&n(h),N(ct)}else n(h);g=t(h)}if(g!==null)var dt=!0;else{var yt=t(f);yt!==null&&J(D,yt.startTime-ct),dt=!1}return dt}finally{g=null,v=it,x=!1}}var L=!1,F=null,U=-1,z=5,G=-1;function X(){return!(u.unstable_now()-G<z)}function ot(){if(F!==null){var Y=u.unstable_now();G=Y;var ct=!0;try{ct=F(!0,Y)}finally{ct?q():(L=!1,F=null)}}else L=!1}var q;if(typeof R=="function")q=function(){R(ot)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,ht=st.port2;st.port1.onmessage=ot,q=function(){ht.postMessage(null)}}else q=function(){E(ot,0)};function tt(Y){F=Y,L||(L=!0,q())}function J(Y,ct){U=E(function(){Y(u.unstable_now())},ct)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(Y){Y.callback=null},u.unstable_continueExecution=function(){A||x||(A=!0,tt(M))},u.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Y?Math.floor(1e3/Y):5},u.unstable_getCurrentPriorityLevel=function(){return v},u.unstable_getFirstCallbackNode=function(){return t(h)},u.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var ct=3;break;default:ct=v}var it=v;v=ct;try{return Y()}finally{v=it}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(Y,ct){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var it=v;v=Y;try{return ct()}finally{v=it}},u.unstable_scheduleCallback=function(Y,ct,it){var B=u.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?B+it:B):it=B,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=it+W,Y={id:p++,callback:ct,priorityLevel:Y,startTime:it,expirationTime:W,sortIndex:-1},it>B?(Y.sortIndex=it,e(f,Y),t(h)===null&&Y===t(f)&&(b?(T(U),U=-1):b=!0,J(D,it-B))):(Y.sortIndex=W,e(h,Y),A||x||(A=!0,tt(M))),Y},u.unstable_shouldYield=X,u.unstable_wrapCallback=function(Y){var ct=v;return function(){var it=v;v=ct;try{return Y.apply(this,arguments)}finally{v=it}}}})(Zy)),Zy}var oS;function HP(){return oS||(oS=1,Jy.exports=zP()),Jy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS;function $P(){if(lS)return tr;lS=1;var u=Vw(),e=HP();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function i(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(r[s]=a,s=0;s<a.length;s++)n.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(s){return h.call(g,s)?!0:h.call(p,s)?!1:f.test(s)?g[s]=!0:(p[s]=!0,!1)}function x(s,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,a,d,m){if(a===null||typeof a>"u"||x(s,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,d,m,y,S,I){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=S,this.removeEmptyString=I}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){E[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];E[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){E[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){E[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){E[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){E[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){E[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){E[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){E[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function R(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(T,R);E[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(T,R);E[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(T,R);E[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){E[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){E[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,a,d,m){var y=E.hasOwnProperty(a)?E[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(A(a,d,y,m)&&(d=null),m||y===null?v(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):y.mustUseProperty?s[y.propertyName]=d===null?y.type===3?!1:"":d:(a=y.attributeName,m=y.attributeNamespace,d===null?s.removeAttribute(a):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?s.setAttributeNS(m,a,d):s.setAttribute(a,d))))}var D=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),L=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),X=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ct(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var it=Object.assign,B;function W(s){if(B===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||""}return`
`+B+s}var dt=!1;function yt(s,a){if(!s||dt)return"";dt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(V){var m=V}Reflect.construct(s,[],a)}else{try{a.call()}catch(V){m=V}s.call(a.prototype)}else{try{throw Error()}catch(V){m=V}s()}}catch(V){if(V&&m&&typeof V.stack=="string"){for(var y=V.stack.split(`
`),S=m.stack.split(`
`),I=y.length-1,O=S.length-1;1<=I&&0<=O&&y[I]!==S[O];)O--;for(;1<=I&&0<=O;I--,O--)if(y[I]!==S[O]){if(I!==1||O!==1)do if(I--,O--,0>O||y[I]!==S[O]){var j=`
`+y[I].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=I&&0<=O);break}}}finally{dt=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?W(s):""}function bt(s){switch(s.tag){case 5:return W(s.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return s=yt(s.type,!1),s;case 11:return s=yt(s.type.render,!1),s;case 1:return s=yt(s.type,!0),s;default:return""}}function Z(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case F:return"Fragment";case L:return"Portal";case z:return"Profiler";case U:return"StrictMode";case q:return"Suspense";case st:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case X:return(s.displayName||"Context")+".Consumer";case G:return(s._context.displayName||"Context")+".Provider";case ot:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ht:return a=s.displayName||null,a!==null?a:Z(s.type)||"Memo";case tt:a=s._payload,s=s._init;try{return Z(s(a))}catch{}}return null}function Q(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(a);case 8:return a===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function nt(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function gt(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Mt(s){var a=gt(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,S=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(I){m=""+I,S.call(this,I)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ct(s){s._valueTracker||(s._valueTracker=Mt(s))}function te(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return s&&(m=gt(s)?s.checked?"true":"false":s.value),s=m,s!==d?(a.setValue(s),!0):!1}function Zt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Tn(s,a){var d=a.checked;return it({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function nn(s,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=nt(a.value!=null?a.value:d),s._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Fe(s,a){a=a.checked,a!=null&&N(s,"checked",a,!1)}function Os(s,a){Fe(s,a);var d=nt(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?xa(s,a.type,d):a.hasOwnProperty("defaultValue")&&xa(s,a.type,nt(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Tc(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function xa(s,a,d){(a!=="number"||Zt(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var Vh=Array.isArray;function Pc(s,a,d,m){if(s=s.options,a){a={};for(var y=0;y<d.length;y++)a["$"+d[y]]=!0;for(d=0;d<s.length;d++)y=a.hasOwnProperty("$"+s[d].value),s[d].selected!==y&&(s[d].selected=y),y&&m&&(s[d].defaultSelected=!0)}else{for(d=""+nt(d),a=null,y=0;y<s.length;y++){if(s[y].value===d){s[y].selected=!0,m&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function r0(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return it({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function h1(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(t(92));if(Vh(d)){if(1<d.length)throw Error(t(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:nt(d)}}function d1(s,a){var d=nt(a.value),m=nt(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),m!=null&&(s.defaultValue=""+m)}function f1(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function p1(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function s0(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?p1(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var dm,m1=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,y){MSApp.execUnsafeLocalFunction(function(){return s(a,d,m,y)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(dm=dm||document.createElement("div"),dm.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=dm.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Wh(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var Gh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BT=["Webkit","ms","Moz","O"];Object.keys(Gh).forEach(function(s){BT.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Gh[a]=Gh[s]})});function g1(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Gh.hasOwnProperty(s)&&Gh[s]?(""+a).trim():a+"px"}function v1(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=g1(d,a[d],m);d==="float"&&(d="cssFloat"),m?s.setProperty(d,y):s[d]=y}}var _T=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function i0(s,a){if(a){if(_T[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function a0(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o0=null;function l0(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var c0=null,kc=null,Nc=null;function y1(s){if(s=pd(s)){if(typeof c0!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Om(a),c0(s.stateNode,s.type,a))}}function x1(s){kc?Nc?Nc.push(s):Nc=[s]:kc=s}function w1(){if(kc){var s=kc,a=Nc;if(Nc=kc=null,y1(s),a)for(s=0;s<a.length;s++)y1(a[s])}}function b1(s,a){return s(a)}function A1(){}var u0=!1;function S1(s,a,d){if(u0)return s(a,d);u0=!0;try{return b1(s,a,d)}finally{u0=!1,(kc!==null||Nc!==null)&&(A1(),w1())}}function Xh(s,a){var d=s.stateNode;if(d===null)return null;var m=Om(d);if(m===null)return null;d=m[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break t;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(t(231,a,typeof d));return d}var h0=!1;if(c)try{var Yh={};Object.defineProperty(Yh,"passive",{get:function(){h0=!0}}),window.addEventListener("test",Yh,Yh),window.removeEventListener("test",Yh,Yh)}catch{h0=!1}function UT(s,a,d,m,y,S,I,O,j){var V=Array.prototype.slice.call(arguments,3);try{a.apply(d,V)}catch(at){this.onError(at)}}var Kh=!1,fm=null,pm=!1,d0=null,zT={onError:function(s){Kh=!0,fm=s}};function HT(s,a,d,m,y,S,I,O,j){Kh=!1,fm=null,UT.apply(zT,arguments)}function $T(s,a,d,m,y,S,I,O,j){if(HT.apply(this,arguments),Kh){if(Kh){var V=fm;Kh=!1,fm=null}else throw Error(t(198));pm||(pm=!0,d0=V)}}function Ho(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function E1(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function C1(s){if(Ho(s)!==s)throw Error(t(188))}function VT(s){var a=s.alternate;if(!a){if(a=Ho(s),a===null)throw Error(t(188));return a!==s?null:s}for(var d=s,m=a;;){var y=d.return;if(y===null)break;var S=y.alternate;if(S===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===d)return C1(y),s;if(S===m)return C1(y),a;S=S.sibling}throw Error(t(188))}if(d.return!==m.return)d=y,m=S;else{for(var I=!1,O=y.child;O;){if(O===d){I=!0,d=y,m=S;break}if(O===m){I=!0,m=y,d=S;break}O=O.sibling}if(!I){for(O=S.child;O;){if(O===d){I=!0,d=S,m=y;break}if(O===m){I=!0,m=S,d=y;break}O=O.sibling}if(!I)throw Error(t(189))}}if(d.alternate!==m)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?s:a}function T1(s){return s=VT(s),s!==null?P1(s):null}function P1(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=P1(s);if(a!==null)return a;s=s.sibling}return null}var k1=e.unstable_scheduleCallback,N1=e.unstable_cancelCallback,WT=e.unstable_shouldYield,GT=e.unstable_requestPaint,je=e.unstable_now,XT=e.unstable_getCurrentPriorityLevel,f0=e.unstable_ImmediatePriority,R1=e.unstable_UserBlockingPriority,mm=e.unstable_NormalPriority,YT=e.unstable_LowPriority,I1=e.unstable_IdlePriority,gm=null,Fs=null;function KT(s){if(Fs&&typeof Fs.onCommitFiberRoot=="function")try{Fs.onCommitFiberRoot(gm,s,void 0,(s.current.flags&128)===128)}catch{}}var ds=Math.clz32?Math.clz32:ZT,QT=Math.log,JT=Math.LN2;function ZT(s){return s>>>=0,s===0?32:31-(QT(s)/JT|0)|0}var vm=64,ym=4194304;function Qh(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function xm(s,a){var d=s.pendingLanes;if(d===0)return 0;var m=0,y=s.suspendedLanes,S=s.pingedLanes,I=d&268435455;if(I!==0){var O=I&~y;O!==0?m=Qh(O):(S&=I,S!==0&&(m=Qh(S)))}else I=d&~y,I!==0?m=Qh(I):S!==0&&(m=Qh(S));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,S=a&-a,y>=S||y===16&&(S&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)d=31-ds(a),y=1<<d,m|=s[d],a&=~y;return m}function qT(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t2(s,a){for(var d=s.suspendedLanes,m=s.pingedLanes,y=s.expirationTimes,S=s.pendingLanes;0<S;){var I=31-ds(S),O=1<<I,j=y[I];j===-1?((O&d)===0||(O&m)!==0)&&(y[I]=qT(O,a)):j<=a&&(s.expiredLanes|=O),S&=~O}}function p0(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function M1(){var s=vm;return vm<<=1,(vm&4194240)===0&&(vm=64),s}function m0(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function Jh(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-ds(a),s[a]=d}function e2(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<d;){var y=31-ds(d),S=1<<y;a[y]=0,m[y]=-1,s[y]=-1,d&=~S}}function g0(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var m=31-ds(d),y=1<<m;y&a|s[m]&a&&(s[m]|=a),d&=~y}}var ee=0;function D1(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var L1,v0,O1,F1,j1,y0=!1,wm=[],wa=null,ba=null,Aa=null,Zh=new Map,qh=new Map,Sa=[],n2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B1(s,a){switch(s){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":Zh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qh.delete(a.pointerId)}}function td(s,a,d,m,y,S){return s===null||s.nativeEvent!==S?(s={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:S,targetContainers:[y]},a!==null&&(a=pd(a),a!==null&&v0(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function r2(s,a,d,m,y){switch(a){case"focusin":return wa=td(wa,s,a,d,m,y),!0;case"dragenter":return ba=td(ba,s,a,d,m,y),!0;case"mouseover":return Aa=td(Aa,s,a,d,m,y),!0;case"pointerover":var S=y.pointerId;return Zh.set(S,td(Zh.get(S)||null,s,a,d,m,y)),!0;case"gotpointercapture":return S=y.pointerId,qh.set(S,td(qh.get(S)||null,s,a,d,m,y)),!0}return!1}function _1(s){var a=$o(s.target);if(a!==null){var d=Ho(a);if(d!==null){if(a=d.tag,a===13){if(a=E1(d),a!==null){s.blockedOn=a,j1(s.priority,function(){O1(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bm(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=w0(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);o0=m,d.target.dispatchEvent(m),o0=null}else return a=pd(d),a!==null&&v0(a),s.blockedOn=d,!1;a.shift()}return!0}function U1(s,a,d){bm(s)&&d.delete(a)}function s2(){y0=!1,wa!==null&&bm(wa)&&(wa=null),ba!==null&&bm(ba)&&(ba=null),Aa!==null&&bm(Aa)&&(Aa=null),Zh.forEach(U1),qh.forEach(U1)}function ed(s,a){s.blockedOn===a&&(s.blockedOn=null,y0||(y0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,s2)))}function nd(s){function a(y){return ed(y,s)}if(0<wm.length){ed(wm[0],s);for(var d=1;d<wm.length;d++){var m=wm[d];m.blockedOn===s&&(m.blockedOn=null)}}for(wa!==null&&ed(wa,s),ba!==null&&ed(ba,s),Aa!==null&&ed(Aa,s),Zh.forEach(a),qh.forEach(a),d=0;d<Sa.length;d++)m=Sa[d],m.blockedOn===s&&(m.blockedOn=null);for(;0<Sa.length&&(d=Sa[0],d.blockedOn===null);)_1(d),d.blockedOn===null&&Sa.shift()}var Rc=D.ReactCurrentBatchConfig,Am=!0;function i2(s,a,d,m){var y=ee,S=Rc.transition;Rc.transition=null;try{ee=1,x0(s,a,d,m)}finally{ee=y,Rc.transition=S}}function a2(s,a,d,m){var y=ee,S=Rc.transition;Rc.transition=null;try{ee=4,x0(s,a,d,m)}finally{ee=y,Rc.transition=S}}function x0(s,a,d,m){if(Am){var y=w0(s,a,d,m);if(y===null)j0(s,a,m,Sm,d),B1(s,m);else if(r2(y,s,a,d,m))m.stopPropagation();else if(B1(s,m),a&4&&-1<n2.indexOf(s)){for(;y!==null;){var S=pd(y);if(S!==null&&L1(S),S=w0(s,a,d,m),S===null&&j0(s,a,m,Sm,d),S===y)break;y=S}y!==null&&m.stopPropagation()}else j0(s,a,m,null,d)}}var Sm=null;function w0(s,a,d,m){if(Sm=null,s=l0(m),s=$o(s),s!==null)if(a=Ho(s),a===null)s=null;else if(d=a.tag,d===13){if(s=E1(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Sm=s,null}function z1(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XT()){case f0:return 1;case R1:return 4;case mm:case YT:return 16;case I1:return 536870912;default:return 16}default:return 16}}var Ea=null,b0=null,Em=null;function H1(){if(Em)return Em;var s,a=b0,d=a.length,m,y="value"in Ea?Ea.value:Ea.textContent,S=y.length;for(s=0;s<d&&a[s]===y[s];s++);var I=d-s;for(m=1;m<=I&&a[d-m]===y[S-m];m++);return Em=y.slice(s,1<m?1-m:void 0)}function Cm(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Tm(){return!0}function $1(){return!1}function dr(s){function a(d,m,y,S,I){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=S,this.target=I,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(d=s[O],this[O]=d?d(S):S[O]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Tm:$1,this.isPropagationStopped=$1,this}return it(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Tm)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Tm)},persist:function(){},isPersistent:Tm}),a}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A0=dr(Ic),rd=it({},Ic,{view:0,detail:0}),o2=dr(rd),S0,E0,sd,Pm=it({},rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T0,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==sd&&(sd&&s.type==="mousemove"?(S0=s.screenX-sd.screenX,E0=s.screenY-sd.screenY):E0=S0=0,sd=s),S0)},movementY:function(s){return"movementY"in s?s.movementY:E0}}),V1=dr(Pm),l2=it({},Pm,{dataTransfer:0}),c2=dr(l2),u2=it({},rd,{relatedTarget:0}),C0=dr(u2),h2=it({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),d2=dr(h2),f2=it({},Ic,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),p2=dr(f2),m2=it({},Ic,{data:0}),W1=dr(m2),g2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=y2[s])?!!a[s]:!1}function T0(){return x2}var w2=it({},rd,{key:function(s){if(s.key){var a=g2[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Cm(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?v2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T0,charCode:function(s){return s.type==="keypress"?Cm(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Cm(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),b2=dr(w2),A2=it({},Pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G1=dr(A2),S2=it({},rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T0}),E2=dr(S2),C2=it({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),T2=dr(C2),P2=it({},Pm,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),k2=dr(P2),N2=[9,13,27,32],P0=c&&"CompositionEvent"in window,id=null;c&&"documentMode"in document&&(id=document.documentMode);var R2=c&&"TextEvent"in window&&!id,X1=c&&(!P0||id&&8<id&&11>=id),Y1=" ",K1=!1;function Q1(s,a){switch(s){case"keyup":return N2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Mc=!1;function I2(s,a){switch(s){case"compositionend":return J1(a);case"keypress":return a.which!==32?null:(K1=!0,Y1);case"textInput":return s=a.data,s===Y1&&K1?null:s;default:return null}}function M2(s,a){if(Mc)return s==="compositionend"||!P0&&Q1(s,a)?(s=H1(),Em=b0=Ea=null,Mc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return X1&&a.locale!=="ko"?null:a.data;default:return null}}var D2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z1(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!D2[s.type]:a==="textarea"}function q1(s,a,d,m){x1(m),a=Mm(a,"onChange"),0<a.length&&(d=new A0("onChange","change",null,d,m),s.push({event:d,listeners:a}))}var ad=null,od=null;function L2(s){vb(s,0)}function km(s){var a=jc(s);if(te(a))return s}function O2(s,a){if(s==="change")return a}var tb=!1;if(c){var k0;if(c){var N0="oninput"in document;if(!N0){var eb=document.createElement("div");eb.setAttribute("oninput","return;"),N0=typeof eb.oninput=="function"}k0=N0}else k0=!1;tb=k0&&(!document.documentMode||9<document.documentMode)}function nb(){ad&&(ad.detachEvent("onpropertychange",rb),od=ad=null)}function rb(s){if(s.propertyName==="value"&&km(od)){var a=[];q1(a,od,s,l0(s)),S1(L2,a)}}function F2(s,a,d){s==="focusin"?(nb(),ad=a,od=d,ad.attachEvent("onpropertychange",rb)):s==="focusout"&&nb()}function j2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return km(od)}function B2(s,a){if(s==="click")return km(a)}function _2(s,a){if(s==="input"||s==="change")return km(a)}function U2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var fs=typeof Object.is=="function"?Object.is:U2;function ld(s,a){if(fs(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!h.call(a,y)||!fs(s[y],a[y]))return!1}return!0}function sb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ib(s,a){var d=sb(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=a&&m>=a)return{node:d,offset:a-s};s=m}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=sb(d)}}function ab(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?ab(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ob(){for(var s=window,a=Zt();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=Zt(s.document)}return a}function R0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function z2(s){var a=ob(),d=s.focusedElem,m=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&ab(d.ownerDocument.documentElement,d)){if(m!==null&&R0(d)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=d.textContent.length,S=Math.min(m.start,y);m=m.end===void 0?S:Math.min(m.end,y),!s.extend&&S>m&&(y=m,m=S,S=y),y=ib(d,S);var I=ib(d,m);y&&I&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),S>m?(s.addRange(a),s.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var H2=c&&"documentMode"in document&&11>=document.documentMode,Dc=null,I0=null,cd=null,M0=!1;function lb(s,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;M0||Dc==null||Dc!==Zt(m)||(m=Dc,"selectionStart"in m&&R0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),cd&&ld(cd,m)||(cd=m,m=Mm(I0,"onSelect"),0<m.length&&(a=new A0("onSelect","select",null,a,d),s.push({event:a,listeners:m}),a.target=Dc)))}function Nm(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var Lc={animationend:Nm("Animation","AnimationEnd"),animationiteration:Nm("Animation","AnimationIteration"),animationstart:Nm("Animation","AnimationStart"),transitionend:Nm("Transition","TransitionEnd")},D0={},cb={};c&&(cb=document.createElement("div").style,"AnimationEvent"in window||(delete Lc.animationend.animation,delete Lc.animationiteration.animation,delete Lc.animationstart.animation),"TransitionEvent"in window||delete Lc.transitionend.transition);function Rm(s){if(D0[s])return D0[s];if(!Lc[s])return s;var a=Lc[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in cb)return D0[s]=a[d];return s}var ub=Rm("animationend"),hb=Rm("animationiteration"),db=Rm("animationstart"),fb=Rm("transitionend"),pb=new Map,mb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ca(s,a){pb.set(s,a),i(a,[s])}for(var L0=0;L0<mb.length;L0++){var O0=mb[L0],$2=O0.toLowerCase(),V2=O0[0].toUpperCase()+O0.slice(1);Ca($2,"on"+V2)}Ca(ub,"onAnimationEnd"),Ca(hb,"onAnimationIteration"),Ca(db,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca(fb,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ud));function gb(s,a,d){var m=s.type||"unknown-event";s.currentTarget=d,$T(m,a,void 0,s),s.currentTarget=null}function vb(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],y=m.event;m=m.listeners;t:{var S=void 0;if(a)for(var I=m.length-1;0<=I;I--){var O=m[I],j=O.instance,V=O.currentTarget;if(O=O.listener,j!==S&&y.isPropagationStopped())break t;gb(y,O,V),S=j}else for(I=0;I<m.length;I++){if(O=m[I],j=O.instance,V=O.currentTarget,O=O.listener,j!==S&&y.isPropagationStopped())break t;gb(y,O,V),S=j}}}if(pm)throw s=d0,pm=!1,d0=null,s}function ve(s,a){var d=a[$0];d===void 0&&(d=a[$0]=new Set);var m=s+"__bubble";d.has(m)||(yb(a,s,2,!1),d.add(m))}function F0(s,a,d){var m=0;a&&(m|=4),yb(d,s,m,a)}var Im="_reactListening"+Math.random().toString(36).slice(2);function hd(s){if(!s[Im]){s[Im]=!0,n.forEach(function(d){d!=="selectionchange"&&(W2.has(d)||F0(d,!1,s),F0(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Im]||(a[Im]=!0,F0("selectionchange",!1,a))}}function yb(s,a,d,m){switch(z1(a)){case 1:var y=i2;break;case 4:y=a2;break;default:y=x0}d=y.bind(null,a,d,s),y=void 0,!h0||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?s.addEventListener(a,d,{capture:!0,passive:y}):s.addEventListener(a,d,!0):y!==void 0?s.addEventListener(a,d,{passive:y}):s.addEventListener(a,d,!1)}function j0(s,a,d,m,y){var S=m;if((a&1)===0&&(a&2)===0&&m!==null)t:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var O=m.stateNode.containerInfo;if(O===y||O.nodeType===8&&O.parentNode===y)break;if(I===4)for(I=m.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===y||j.nodeType===8&&j.parentNode===y))return;I=I.return}for(;O!==null;){if(I=$o(O),I===null)return;if(j=I.tag,j===5||j===6){m=S=I;continue t}O=O.parentNode}}m=m.return}S1(function(){var V=S,at=l0(d),lt=[];t:{var rt=pb.get(s);if(rt!==void 0){var mt=A0,At=s;switch(s){case"keypress":if(Cm(d)===0)break t;case"keydown":case"keyup":mt=b2;break;case"focusin":At="focus",mt=C0;break;case"focusout":At="blur",mt=C0;break;case"beforeblur":case"afterblur":mt=C0;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=V1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=c2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=E2;break;case ub:case hb:case db:mt=d2;break;case fb:mt=T2;break;case"scroll":mt=o2;break;case"wheel":mt=k2;break;case"copy":case"cut":case"paste":mt=p2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=G1}var St=(a&4)!==0,Be=!St&&s==="scroll",H=St?rt!==null?rt+"Capture":null:rt;St=[];for(var _=V,$;_!==null;){$=_;var ut=$.stateNode;if($.tag===5&&ut!==null&&($=ut,H!==null&&(ut=Xh(_,H),ut!=null&&St.push(dd(_,ut,$)))),Be)break;_=_.return}0<St.length&&(rt=new mt(rt,At,null,d,at),lt.push({event:rt,listeners:St}))}}if((a&7)===0){t:{if(rt=s==="mouseover"||s==="pointerover",mt=s==="mouseout"||s==="pointerout",rt&&d!==o0&&(At=d.relatedTarget||d.fromElement)&&($o(At)||At[gi]))break t;if((mt||rt)&&(rt=at.window===at?at:(rt=at.ownerDocument)?rt.defaultView||rt.parentWindow:window,mt?(At=d.relatedTarget||d.toElement,mt=V,At=At?$o(At):null,At!==null&&(Be=Ho(At),At!==Be||At.tag!==5&&At.tag!==6)&&(At=null)):(mt=null,At=V),mt!==At)){if(St=V1,ut="onMouseLeave",H="onMouseEnter",_="mouse",(s==="pointerout"||s==="pointerover")&&(St=G1,ut="onPointerLeave",H="onPointerEnter",_="pointer"),Be=mt==null?rt:jc(mt),$=At==null?rt:jc(At),rt=new St(ut,_+"leave",mt,d,at),rt.target=Be,rt.relatedTarget=$,ut=null,$o(at)===V&&(St=new St(H,_+"enter",At,d,at),St.target=$,St.relatedTarget=Be,ut=St),Be=ut,mt&&At)e:{for(St=mt,H=At,_=0,$=St;$;$=Oc($))_++;for($=0,ut=H;ut;ut=Oc(ut))$++;for(;0<_-$;)St=Oc(St),_--;for(;0<$-_;)H=Oc(H),$--;for(;_--;){if(St===H||H!==null&&St===H.alternate)break e;St=Oc(St),H=Oc(H)}St=null}else St=null;mt!==null&&xb(lt,rt,mt,St,!1),At!==null&&Be!==null&&xb(lt,Be,At,St,!0)}}t:{if(rt=V?jc(V):window,mt=rt.nodeName&&rt.nodeName.toLowerCase(),mt==="select"||mt==="input"&&rt.type==="file")var Tt=O2;else if(Z1(rt))if(tb)Tt=_2;else{Tt=j2;var Pt=F2}else(mt=rt.nodeName)&&mt.toLowerCase()==="input"&&(rt.type==="checkbox"||rt.type==="radio")&&(Tt=B2);if(Tt&&(Tt=Tt(s,V))){q1(lt,Tt,d,at);break t}Pt&&Pt(s,rt,V),s==="focusout"&&(Pt=rt._wrapperState)&&Pt.controlled&&rt.type==="number"&&xa(rt,"number",rt.value)}switch(Pt=V?jc(V):window,s){case"focusin":(Z1(Pt)||Pt.contentEditable==="true")&&(Dc=Pt,I0=V,cd=null);break;case"focusout":cd=I0=Dc=null;break;case"mousedown":M0=!0;break;case"contextmenu":case"mouseup":case"dragend":M0=!1,lb(lt,d,at);break;case"selectionchange":if(H2)break;case"keydown":case"keyup":lb(lt,d,at)}var kt;if(P0)t:{switch(s){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else Mc?Q1(s,d)&&(It="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(It="onCompositionStart");It&&(X1&&d.locale!=="ko"&&(Mc||It!=="onCompositionStart"?It==="onCompositionEnd"&&Mc&&(kt=H1()):(Ea=at,b0="value"in Ea?Ea.value:Ea.textContent,Mc=!0)),Pt=Mm(V,It),0<Pt.length&&(It=new W1(It,s,null,d,at),lt.push({event:It,listeners:Pt}),kt?It.data=kt:(kt=J1(d),kt!==null&&(It.data=kt)))),(kt=R2?I2(s,d):M2(s,d))&&(V=Mm(V,"onBeforeInput"),0<V.length&&(at=new W1("onBeforeInput","beforeinput",null,d,at),lt.push({event:at,listeners:V}),at.data=kt))}vb(lt,a)})}function dd(s,a,d){return{instance:s,listener:a,currentTarget:d}}function Mm(s,a){for(var d=a+"Capture",m=[];s!==null;){var y=s,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=Xh(s,d),S!=null&&m.unshift(dd(s,S,y)),S=Xh(s,a),S!=null&&m.push(dd(s,S,y))),s=s.return}return m}function Oc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function xb(s,a,d,m,y){for(var S=a._reactName,I=[];d!==null&&d!==m;){var O=d,j=O.alternate,V=O.stateNode;if(j!==null&&j===m)break;O.tag===5&&V!==null&&(O=V,y?(j=Xh(d,S),j!=null&&I.unshift(dd(d,j,O))):y||(j=Xh(d,S),j!=null&&I.push(dd(d,j,O)))),d=d.return}I.length!==0&&s.push({event:a,listeners:I})}var G2=/\r\n?/g,X2=/\u0000|\uFFFD/g;function wb(s){return(typeof s=="string"?s:""+s).replace(G2,`
`).replace(X2,"")}function Dm(s,a,d){if(a=wb(a),wb(s)!==a&&d)throw Error(t(425))}function Lm(){}var B0=null,_0=null;function U0(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var z0=typeof setTimeout=="function"?setTimeout:void 0,Y2=typeof clearTimeout=="function"?clearTimeout:void 0,bb=typeof Promise=="function"?Promise:void 0,K2=typeof queueMicrotask=="function"?queueMicrotask:typeof bb<"u"?function(s){return bb.resolve(null).then(s).catch(Q2)}:z0;function Q2(s){setTimeout(function(){throw s})}function H0(s,a){var d=a,m=0;do{var y=d.nextSibling;if(s.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){s.removeChild(y),nd(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);nd(a)}function Ta(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Ab(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var Fc=Math.random().toString(36).slice(2),js="__reactFiber$"+Fc,fd="__reactProps$"+Fc,gi="__reactContainer$"+Fc,$0="__reactEvents$"+Fc,J2="__reactListeners$"+Fc,Z2="__reactHandles$"+Fc;function $o(s){var a=s[js];if(a)return a;for(var d=s.parentNode;d;){if(a=d[gi]||d[js]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=Ab(s);s!==null;){if(d=s[js])return d;s=Ab(s)}return a}s=d,d=s.parentNode}return null}function pd(s){return s=s[js]||s[gi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function jc(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Om(s){return s[fd]||null}var V0=[],Bc=-1;function Pa(s){return{current:s}}function ye(s){0>Bc||(s.current=V0[Bc],V0[Bc]=null,Bc--)}function fe(s,a){Bc++,V0[Bc]=s.current,s.current=a}var ka={},Pn=Pa(ka),Kn=Pa(!1),Vo=ka;function _c(s,a){var d=s.type.contextTypes;if(!d)return ka;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in d)y[S]=a[S];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function Qn(s){return s=s.childContextTypes,s!=null}function Fm(){ye(Kn),ye(Pn)}function Sb(s,a,d){if(Pn.current!==ka)throw Error(t(168));fe(Pn,a),fe(Kn,d)}function Eb(s,a,d){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(t(108,Q(s)||"Unknown",y));return it({},d,m)}function jm(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ka,Vo=Pn.current,fe(Pn,s),fe(Kn,Kn.current),!0}function Cb(s,a,d){var m=s.stateNode;if(!m)throw Error(t(169));d?(s=Eb(s,a,Vo),m.__reactInternalMemoizedMergedChildContext=s,ye(Kn),ye(Pn),fe(Pn,s)):ye(Kn),fe(Kn,d)}var vi=null,Bm=!1,W0=!1;function Tb(s){vi===null?vi=[s]:vi.push(s)}function q2(s){Bm=!0,Tb(s)}function Na(){if(!W0&&vi!==null){W0=!0;var s=0,a=ee;try{var d=vi;for(ee=1;s<d.length;s++){var m=d[s];do m=m(!0);while(m!==null)}vi=null,Bm=!1}catch(y){throw vi!==null&&(vi=vi.slice(s+1)),k1(f0,Na),y}finally{ee=a,W0=!1}}return null}var Uc=[],zc=0,_m=null,Um=0,zr=[],Hr=0,Wo=null,yi=1,xi="";function Go(s,a){Uc[zc++]=Um,Uc[zc++]=_m,_m=s,Um=a}function Pb(s,a,d){zr[Hr++]=yi,zr[Hr++]=xi,zr[Hr++]=Wo,Wo=s;var m=yi;s=xi;var y=32-ds(m)-1;m&=~(1<<y),d+=1;var S=32-ds(a)+y;if(30<S){var I=y-y%5;S=(m&(1<<I)-1).toString(32),m>>=I,y-=I,yi=1<<32-ds(a)+y|d<<y|m,xi=S+s}else yi=1<<S|d<<y|m,xi=s}function G0(s){s.return!==null&&(Go(s,1),Pb(s,1,0))}function X0(s){for(;s===_m;)_m=Uc[--zc],Uc[zc]=null,Um=Uc[--zc],Uc[zc]=null;for(;s===Wo;)Wo=zr[--Hr],zr[Hr]=null,xi=zr[--Hr],zr[Hr]=null,yi=zr[--Hr],zr[Hr]=null}var fr=null,pr=null,we=!1,ps=null;function kb(s,a){var d=Gr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function Nb(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,fr=s,pr=Ta(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,fr=s,pr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Wo!==null?{id:yi,overflow:xi}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Gr(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,fr=s,pr=null,!0):!1;default:return!1}}function Y0(s){return(s.mode&1)!==0&&(s.flags&128)===0}function K0(s){if(we){var a=pr;if(a){var d=a;if(!Nb(s,a)){if(Y0(s))throw Error(t(418));a=Ta(d.nextSibling);var m=fr;a&&Nb(s,a)?kb(m,d):(s.flags=s.flags&-4097|2,we=!1,fr=s)}}else{if(Y0(s))throw Error(t(418));s.flags=s.flags&-4097|2,we=!1,fr=s}}}function Rb(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;fr=s}function zm(s){if(s!==fr)return!1;if(!we)return Rb(s),we=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!U0(s.type,s.memoizedProps)),a&&(a=pr)){if(Y0(s))throw Ib(),Error(t(418));for(;a;)kb(s,a),a=Ta(a.nextSibling)}if(Rb(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){pr=Ta(s.nextSibling);break t}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}pr=null}}else pr=fr?Ta(s.stateNode.nextSibling):null;return!0}function Ib(){for(var s=pr;s;)s=Ta(s.nextSibling)}function Hc(){pr=fr=null,we=!1}function Q0(s){ps===null?ps=[s]:ps.push(s)}var tP=D.ReactCurrentBatchConfig;function md(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var m=d.stateNode}if(!m)throw Error(t(147,s));var y=m,S=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===S?a.ref:(a=function(I){var O=y.refs;I===null?delete O[S]:O[S]=I},a._stringRef=S,a)}if(typeof s!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,s))}return s}function Hm(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Mb(s){var a=s._init;return a(s._payload)}function Db(s){function a(H,_){if(s){var $=H.deletions;$===null?(H.deletions=[_],H.flags|=16):$.push(_)}}function d(H,_){if(!s)return null;for(;_!==null;)a(H,_),_=_.sibling;return null}function m(H,_){for(H=new Map;_!==null;)_.key!==null?H.set(_.key,_):H.set(_.index,_),_=_.sibling;return H}function y(H,_){return H=ja(H,_),H.index=0,H.sibling=null,H}function S(H,_,$){return H.index=$,s?($=H.alternate,$!==null?($=$.index,$<_?(H.flags|=2,_):$):(H.flags|=2,_)):(H.flags|=1048576,_)}function I(H){return s&&H.alternate===null&&(H.flags|=2),H}function O(H,_,$,ut){return _===null||_.tag!==6?(_=zy($,H.mode,ut),_.return=H,_):(_=y(_,$),_.return=H,_)}function j(H,_,$,ut){var Tt=$.type;return Tt===F?at(H,_,$.props.children,ut,$.key):_!==null&&(_.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===tt&&Mb(Tt)===_.type)?(ut=y(_,$.props),ut.ref=md(H,_,$),ut.return=H,ut):(ut=dg($.type,$.key,$.props,null,H.mode,ut),ut.ref=md(H,_,$),ut.return=H,ut)}function V(H,_,$,ut){return _===null||_.tag!==4||_.stateNode.containerInfo!==$.containerInfo||_.stateNode.implementation!==$.implementation?(_=Hy($,H.mode,ut),_.return=H,_):(_=y(_,$.children||[]),_.return=H,_)}function at(H,_,$,ut,Tt){return _===null||_.tag!==7?(_=tl($,H.mode,ut,Tt),_.return=H,_):(_=y(_,$),_.return=H,_)}function lt(H,_,$){if(typeof _=="string"&&_!==""||typeof _=="number")return _=zy(""+_,H.mode,$),_.return=H,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case M:return $=dg(_.type,_.key,_.props,null,H.mode,$),$.ref=md(H,null,_),$.return=H,$;case L:return _=Hy(_,H.mode,$),_.return=H,_;case tt:var ut=_._init;return lt(H,ut(_._payload),$)}if(Vh(_)||ct(_))return _=tl(_,H.mode,$,null),_.return=H,_;Hm(H,_)}return null}function rt(H,_,$,ut){var Tt=_!==null?_.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return Tt!==null?null:O(H,_,""+$,ut);if(typeof $=="object"&&$!==null){switch($.$$typeof){case M:return $.key===Tt?j(H,_,$,ut):null;case L:return $.key===Tt?V(H,_,$,ut):null;case tt:return Tt=$._init,rt(H,_,Tt($._payload),ut)}if(Vh($)||ct($))return Tt!==null?null:at(H,_,$,ut,null);Hm(H,$)}return null}function mt(H,_,$,ut,Tt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return H=H.get($)||null,O(_,H,""+ut,Tt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case M:return H=H.get(ut.key===null?$:ut.key)||null,j(_,H,ut,Tt);case L:return H=H.get(ut.key===null?$:ut.key)||null,V(_,H,ut,Tt);case tt:var Pt=ut._init;return mt(H,_,$,Pt(ut._payload),Tt)}if(Vh(ut)||ct(ut))return H=H.get($)||null,at(_,H,ut,Tt,null);Hm(_,ut)}return null}function At(H,_,$,ut){for(var Tt=null,Pt=null,kt=_,It=_=0,an=null;kt!==null&&It<$.length;It++){kt.index>It?(an=kt,kt=null):an=kt.sibling;var Yt=rt(H,kt,$[It],ut);if(Yt===null){kt===null&&(kt=an);break}s&&kt&&Yt.alternate===null&&a(H,kt),_=S(Yt,_,It),Pt===null?Tt=Yt:Pt.sibling=Yt,Pt=Yt,kt=an}if(It===$.length)return d(H,kt),we&&Go(H,It),Tt;if(kt===null){for(;It<$.length;It++)kt=lt(H,$[It],ut),kt!==null&&(_=S(kt,_,It),Pt===null?Tt=kt:Pt.sibling=kt,Pt=kt);return we&&Go(H,It),Tt}for(kt=m(H,kt);It<$.length;It++)an=mt(kt,H,It,$[It],ut),an!==null&&(s&&an.alternate!==null&&kt.delete(an.key===null?It:an.key),_=S(an,_,It),Pt===null?Tt=an:Pt.sibling=an,Pt=an);return s&&kt.forEach(function(Ba){return a(H,Ba)}),we&&Go(H,It),Tt}function St(H,_,$,ut){var Tt=ct($);if(typeof Tt!="function")throw Error(t(150));if($=Tt.call($),$==null)throw Error(t(151));for(var Pt=Tt=null,kt=_,It=_=0,an=null,Yt=$.next();kt!==null&&!Yt.done;It++,Yt=$.next()){kt.index>It?(an=kt,kt=null):an=kt.sibling;var Ba=rt(H,kt,Yt.value,ut);if(Ba===null){kt===null&&(kt=an);break}s&&kt&&Ba.alternate===null&&a(H,kt),_=S(Ba,_,It),Pt===null?Tt=Ba:Pt.sibling=Ba,Pt=Ba,kt=an}if(Yt.done)return d(H,kt),we&&Go(H,It),Tt;if(kt===null){for(;!Yt.done;It++,Yt=$.next())Yt=lt(H,Yt.value,ut),Yt!==null&&(_=S(Yt,_,It),Pt===null?Tt=Yt:Pt.sibling=Yt,Pt=Yt);return we&&Go(H,It),Tt}for(kt=m(H,kt);!Yt.done;It++,Yt=$.next())Yt=mt(kt,H,It,Yt.value,ut),Yt!==null&&(s&&Yt.alternate!==null&&kt.delete(Yt.key===null?It:Yt.key),_=S(Yt,_,It),Pt===null?Tt=Yt:Pt.sibling=Yt,Pt=Yt);return s&&kt.forEach(function(DP){return a(H,DP)}),we&&Go(H,It),Tt}function Be(H,_,$,ut){if(typeof $=="object"&&$!==null&&$.type===F&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case M:t:{for(var Tt=$.key,Pt=_;Pt!==null;){if(Pt.key===Tt){if(Tt=$.type,Tt===F){if(Pt.tag===7){d(H,Pt.sibling),_=y(Pt,$.props.children),_.return=H,H=_;break t}}else if(Pt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===tt&&Mb(Tt)===Pt.type){d(H,Pt.sibling),_=y(Pt,$.props),_.ref=md(H,Pt,$),_.return=H,H=_;break t}d(H,Pt);break}else a(H,Pt);Pt=Pt.sibling}$.type===F?(_=tl($.props.children,H.mode,ut,$.key),_.return=H,H=_):(ut=dg($.type,$.key,$.props,null,H.mode,ut),ut.ref=md(H,_,$),ut.return=H,H=ut)}return I(H);case L:t:{for(Pt=$.key;_!==null;){if(_.key===Pt)if(_.tag===4&&_.stateNode.containerInfo===$.containerInfo&&_.stateNode.implementation===$.implementation){d(H,_.sibling),_=y(_,$.children||[]),_.return=H,H=_;break t}else{d(H,_);break}else a(H,_);_=_.sibling}_=Hy($,H.mode,ut),_.return=H,H=_}return I(H);case tt:return Pt=$._init,Be(H,_,Pt($._payload),ut)}if(Vh($))return At(H,_,$,ut);if(ct($))return St(H,_,$,ut);Hm(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,_!==null&&_.tag===6?(d(H,_.sibling),_=y(_,$),_.return=H,H=_):(d(H,_),_=zy($,H.mode,ut),_.return=H,H=_),I(H)):d(H,_)}return Be}var $c=Db(!0),Lb=Db(!1),$m=Pa(null),Vm=null,Vc=null,J0=null;function Z0(){J0=Vc=Vm=null}function q0(s){var a=$m.current;ye($m),s._currentValue=a}function ty(s,a,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===d)break;s=s.return}}function Wc(s,a){Vm=s,J0=Vc=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Jn=!0),s.firstContext=null)}function $r(s){var a=s._currentValue;if(J0!==s)if(s={context:s,memoizedValue:a,next:null},Vc===null){if(Vm===null)throw Error(t(308));Vc=s,Vm.dependencies={lanes:0,firstContext:s}}else Vc=Vc.next=s;return a}var Xo=null;function ey(s){Xo===null?Xo=[s]:Xo.push(s)}function Ob(s,a,d,m){var y=a.interleaved;return y===null?(d.next=d,ey(a)):(d.next=y.next,y.next=d),a.interleaved=d,wi(s,m)}function wi(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var Ra=!1;function ny(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fb(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function bi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ia(s,a,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Wt&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,wi(s,d)}return y=m.interleaved,y===null?(a.next=a,ey(m)):(a.next=y.next,y.next=a),m.interleaved=a,wi(s,d)}function Wm(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,g0(s,d)}}function jb(s,a){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var I={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?y=S=I:S=S.next=I,d=d.next}while(d!==null);S===null?y=S=a:S=S.next=a}else y=S=a;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:m.shared,effects:m.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function Gm(s,a,d,m){var y=s.updateQueue;Ra=!1;var S=y.firstBaseUpdate,I=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var j=O,V=j.next;j.next=null,I===null?S=V:I.next=V,I=j;var at=s.alternate;at!==null&&(at=at.updateQueue,O=at.lastBaseUpdate,O!==I&&(O===null?at.firstBaseUpdate=V:O.next=V,at.lastBaseUpdate=j))}if(S!==null){var lt=y.baseState;I=0,at=V=j=null,O=S;do{var rt=O.lane,mt=O.eventTime;if((m&rt)===rt){at!==null&&(at=at.next={eventTime:mt,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});t:{var At=s,St=O;switch(rt=a,mt=d,St.tag){case 1:if(At=St.payload,typeof At=="function"){lt=At.call(mt,lt,rt);break t}lt=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=St.payload,rt=typeof At=="function"?At.call(mt,lt,rt):At,rt==null)break t;lt=it({},lt,rt);break t;case 2:Ra=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,rt=y.effects,rt===null?y.effects=[O]:rt.push(O))}else mt={eventTime:mt,lane:rt,tag:O.tag,payload:O.payload,callback:O.callback,next:null},at===null?(V=at=mt,j=lt):at=at.next=mt,I|=rt;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;rt=O,O=rt.next,rt.next=null,y.lastBaseUpdate=rt,y.shared.pending=null}}while(!0);if(at===null&&(j=lt),y.baseState=j,y.firstBaseUpdate=V,y.lastBaseUpdate=at,a=y.shared.interleaved,a!==null){y=a;do I|=y.lane,y=y.next;while(y!==a)}else S===null&&(y.shared.lanes=0);Qo|=I,s.lanes=I,s.memoizedState=lt}}function Bb(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(t(191,y));y.call(m)}}}var gd={},Bs=Pa(gd),vd=Pa(gd),yd=Pa(gd);function Yo(s){if(s===gd)throw Error(t(174));return s}function ry(s,a){switch(fe(yd,a),fe(vd,s),fe(Bs,gd),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:s0(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=s0(a,s)}ye(Bs),fe(Bs,a)}function Gc(){ye(Bs),ye(vd),ye(yd)}function _b(s){Yo(yd.current);var a=Yo(Bs.current),d=s0(a,s.type);a!==d&&(fe(vd,s),fe(Bs,d))}function sy(s){vd.current===s&&(ye(Bs),ye(vd))}var Ee=Pa(0);function Xm(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var iy=[];function ay(){for(var s=0;s<iy.length;s++)iy[s]._workInProgressVersionPrimary=null;iy.length=0}var Ym=D.ReactCurrentDispatcher,oy=D.ReactCurrentBatchConfig,Ko=0,Ce=null,Ye=null,rn=null,Km=!1,xd=!1,wd=0,eP=0;function kn(){throw Error(t(321))}function ly(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!fs(s[d],a[d]))return!1;return!0}function cy(s,a,d,m,y,S){if(Ko=S,Ce=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ym.current=s===null||s.memoizedState===null?iP:aP,s=d(m,y),xd){S=0;do{if(xd=!1,wd=0,25<=S)throw Error(t(301));S+=1,rn=Ye=null,a.updateQueue=null,Ym.current=oP,s=d(m,y)}while(xd)}if(Ym.current=Zm,a=Ye!==null&&Ye.next!==null,Ko=0,rn=Ye=Ce=null,Km=!1,a)throw Error(t(300));return s}function uy(){var s=wd!==0;return wd=0,s}function _s(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Ce.memoizedState=rn=s:rn=rn.next=s,rn}function Vr(){if(Ye===null){var s=Ce.alternate;s=s!==null?s.memoizedState:null}else s=Ye.next;var a=rn===null?Ce.memoizedState:rn.next;if(a!==null)rn=a,Ye=s;else{if(s===null)throw Error(t(310));Ye=s,s={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},rn===null?Ce.memoizedState=rn=s:rn=rn.next=s}return rn}function bd(s,a){return typeof a=="function"?a(s):a}function hy(s){var a=Vr(),d=a.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=s;var m=Ye,y=m.baseQueue,S=d.pending;if(S!==null){if(y!==null){var I=y.next;y.next=S.next,S.next=I}m.baseQueue=y=S,d.pending=null}if(y!==null){S=y.next,m=m.baseState;var O=I=null,j=null,V=S;do{var at=V.lane;if((Ko&at)===at)j!==null&&(j=j.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),m=V.hasEagerState?V.eagerState:s(m,V.action);else{var lt={lane:at,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};j===null?(O=j=lt,I=m):j=j.next=lt,Ce.lanes|=at,Qo|=at}V=V.next}while(V!==null&&V!==S);j===null?I=m:j.next=O,fs(m,a.memoizedState)||(Jn=!0),a.memoizedState=m,a.baseState=I,a.baseQueue=j,d.lastRenderedState=m}if(s=d.interleaved,s!==null){y=s;do S=y.lane,Ce.lanes|=S,Qo|=S,y=y.next;while(y!==s)}else y===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function dy(s){var a=Vr(),d=a.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=s;var m=d.dispatch,y=d.pending,S=a.memoizedState;if(y!==null){d.pending=null;var I=y=y.next;do S=s(S,I.action),I=I.next;while(I!==y);fs(S,a.memoizedState)||(Jn=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),d.lastRenderedState=S}return[S,m]}function Ub(){}function zb(s,a){var d=Ce,m=Vr(),y=a(),S=!fs(m.memoizedState,y);if(S&&(m.memoizedState=y,Jn=!0),m=m.queue,fy(Vb.bind(null,d,m,s),[s]),m.getSnapshot!==a||S||rn!==null&&rn.memoizedState.tag&1){if(d.flags|=2048,Ad(9,$b.bind(null,d,m,y,a),void 0,null),sn===null)throw Error(t(349));(Ko&30)!==0||Hb(d,a,y)}return y}function Hb(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=Ce.updateQueue,a===null?(a={lastEffect:null,stores:null},Ce.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function $b(s,a,d,m){a.value=d,a.getSnapshot=m,Wb(a)&&Gb(s)}function Vb(s,a,d){return d(function(){Wb(a)&&Gb(s)})}function Wb(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!fs(s,d)}catch{return!0}}function Gb(s){var a=wi(s,1);a!==null&&ys(a,s,1,-1)}function Xb(s){var a=_s();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:s},a.queue=s,s=s.dispatch=sP.bind(null,Ce,s),[a.memoizedState,s]}function Ad(s,a,d,m){return s={tag:s,create:a,destroy:d,deps:m,next:null},a=Ce.updateQueue,a===null?(a={lastEffect:null,stores:null},Ce.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,a.lastEffect=s)),s}function Yb(){return Vr().memoizedState}function Qm(s,a,d,m){var y=_s();Ce.flags|=s,y.memoizedState=Ad(1|a,d,void 0,m===void 0?null:m)}function Jm(s,a,d,m){var y=Vr();m=m===void 0?null:m;var S=void 0;if(Ye!==null){var I=Ye.memoizedState;if(S=I.destroy,m!==null&&ly(m,I.deps)){y.memoizedState=Ad(a,d,S,m);return}}Ce.flags|=s,y.memoizedState=Ad(1|a,d,S,m)}function Kb(s,a){return Qm(8390656,8,s,a)}function fy(s,a){return Jm(2048,8,s,a)}function Qb(s,a){return Jm(4,2,s,a)}function Jb(s,a){return Jm(4,4,s,a)}function Zb(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function qb(s,a,d){return d=d!=null?d.concat([s]):null,Jm(4,4,Zb.bind(null,a,s),d)}function py(){}function tA(s,a){var d=Vr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&ly(a,m[1])?m[0]:(d.memoizedState=[s,a],s)}function eA(s,a){var d=Vr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&ly(a,m[1])?m[0]:(s=s(),d.memoizedState=[s,a],s)}function nA(s,a,d){return(Ko&21)===0?(s.baseState&&(s.baseState=!1,Jn=!0),s.memoizedState=d):(fs(d,a)||(d=M1(),Ce.lanes|=d,Qo|=d,s.baseState=!0),a)}function nP(s,a){var d=ee;ee=d!==0&&4>d?d:4,s(!0);var m=oy.transition;oy.transition={};try{s(!1),a()}finally{ee=d,oy.transition=m}}function rA(){return Vr().memoizedState}function rP(s,a,d){var m=Oa(s);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},sA(s))iA(a,d);else if(d=Ob(s,a,d,m),d!==null){var y=Un();ys(d,s,m,y),aA(d,a,m)}}function sP(s,a,d){var m=Oa(s),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(sA(s))iA(a,y);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var I=a.lastRenderedState,O=S(I,d);if(y.hasEagerState=!0,y.eagerState=O,fs(O,I)){var j=a.interleaved;j===null?(y.next=y,ey(a)):(y.next=j.next,j.next=y),a.interleaved=y;return}}catch{}finally{}d=Ob(s,a,y,m),d!==null&&(y=Un(),ys(d,s,m,y),aA(d,a,m))}}function sA(s){var a=s.alternate;return s===Ce||a!==null&&a===Ce}function iA(s,a){xd=Km=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function aA(s,a,d){if((d&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,g0(s,d)}}var Zm={readContext:$r,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},iP={readContext:$r,useCallback:function(s,a){return _s().memoizedState=[s,a===void 0?null:a],s},useContext:$r,useEffect:Kb,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,Qm(4194308,4,Zb.bind(null,a,s),d)},useLayoutEffect:function(s,a){return Qm(4194308,4,s,a)},useInsertionEffect:function(s,a){return Qm(4,2,s,a)},useMemo:function(s,a){var d=_s();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var m=_s();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=rP.bind(null,Ce,s),[m.memoizedState,s]},useRef:function(s){var a=_s();return s={current:s},a.memoizedState=s},useState:Xb,useDebugValue:py,useDeferredValue:function(s){return _s().memoizedState=s},useTransition:function(){var s=Xb(!1),a=s[0];return s=nP.bind(null,s[1]),_s().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var m=Ce,y=_s();if(we){if(d===void 0)throw Error(t(407));d=d()}else{if(d=a(),sn===null)throw Error(t(349));(Ko&30)!==0||Hb(m,a,d)}y.memoizedState=d;var S={value:d,getSnapshot:a};return y.queue=S,Kb(Vb.bind(null,m,S,s),[s]),m.flags|=2048,Ad(9,$b.bind(null,m,S,d,a),void 0,null),d},useId:function(){var s=_s(),a=sn.identifierPrefix;if(we){var d=xi,m=yi;d=(m&~(1<<32-ds(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=wd++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=eP++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},aP={readContext:$r,useCallback:tA,useContext:$r,useEffect:fy,useImperativeHandle:qb,useInsertionEffect:Qb,useLayoutEffect:Jb,useMemo:eA,useReducer:hy,useRef:Yb,useState:function(){return hy(bd)},useDebugValue:py,useDeferredValue:function(s){var a=Vr();return nA(a,Ye.memoizedState,s)},useTransition:function(){var s=hy(bd)[0],a=Vr().memoizedState;return[s,a]},useMutableSource:Ub,useSyncExternalStore:zb,useId:rA,unstable_isNewReconciler:!1},oP={readContext:$r,useCallback:tA,useContext:$r,useEffect:fy,useImperativeHandle:qb,useInsertionEffect:Qb,useLayoutEffect:Jb,useMemo:eA,useReducer:dy,useRef:Yb,useState:function(){return dy(bd)},useDebugValue:py,useDeferredValue:function(s){var a=Vr();return Ye===null?a.memoizedState=s:nA(a,Ye.memoizedState,s)},useTransition:function(){var s=dy(bd)[0],a=Vr().memoizedState;return[s,a]},useMutableSource:Ub,useSyncExternalStore:zb,useId:rA,unstable_isNewReconciler:!1};function ms(s,a){if(s&&s.defaultProps){a=it({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function my(s,a,d,m){a=s.memoizedState,d=d(m,a),d=d==null?a:it({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var qm={isMounted:function(s){return(s=s._reactInternals)?Ho(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var m=Un(),y=Oa(s),S=bi(m,y);S.payload=a,d!=null&&(S.callback=d),a=Ia(s,S,y),a!==null&&(ys(a,s,y,m),Wm(a,s,y))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var m=Un(),y=Oa(s),S=bi(m,y);S.tag=1,S.payload=a,d!=null&&(S.callback=d),a=Ia(s,S,y),a!==null&&(ys(a,s,y,m),Wm(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=Un(),m=Oa(s),y=bi(d,m);y.tag=2,a!=null&&(y.callback=a),a=Ia(s,y,m),a!==null&&(ys(a,s,m,d),Wm(a,s,m))}};function oA(s,a,d,m,y,S,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,S,I):a.prototype&&a.prototype.isPureReactComponent?!ld(d,m)||!ld(y,S):!0}function lA(s,a,d){var m=!1,y=ka,S=a.contextType;return typeof S=="object"&&S!==null?S=$r(S):(y=Qn(a)?Vo:Pn.current,m=a.contextTypes,S=(m=m!=null)?_c(s,y):ka),a=new a(d,S),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=qm,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=S),a}function cA(s,a,d,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==s&&qm.enqueueReplaceState(a,a.state,null)}function gy(s,a,d,m){var y=s.stateNode;y.props=d,y.state=s.memoizedState,y.refs={},ny(s);var S=a.contextType;typeof S=="object"&&S!==null?y.context=$r(S):(S=Qn(a)?Vo:Pn.current,y.context=_c(s,S)),y.state=s.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(my(s,a,S,d),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&qm.enqueueReplaceState(y,y.state,null),Gm(s,d,y,m),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Xc(s,a){try{var d="",m=a;do d+=bt(m),m=m.return;while(m);var y=d}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:a,stack:y,digest:null}}function vy(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function yy(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var lP=typeof WeakMap=="function"?WeakMap:Map;function uA(s,a,d){d=bi(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){ag||(ag=!0,Dy=m),yy(s,a)},d}function hA(s,a,d){d=bi(-1,d),d.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;d.payload=function(){return m(y)},d.callback=function(){yy(s,a)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){yy(s,a),typeof m!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),d}function dA(s,a,d){var m=s.pingCache;if(m===null){m=s.pingCache=new lP;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(d)||(y.add(d),s=AP.bind(null,s,a,d),a.then(s,s))}function fA(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function pA(s,a,d,m,y){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=bi(-1,1),a.tag=2,Ia(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var cP=D.ReactCurrentOwner,Jn=!1;function _n(s,a,d,m){a.child=s===null?Lb(a,null,d,m):$c(a,s.child,d,m)}function mA(s,a,d,m,y){d=d.render;var S=a.ref;return Wc(a,y),m=cy(s,a,d,m,S,y),d=uy(),s!==null&&!Jn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Ai(s,a,y)):(we&&d&&G0(a),a.flags|=1,_n(s,a,m,y),a.child)}function gA(s,a,d,m,y){if(s===null){var S=d.type;return typeof S=="function"&&!Uy(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=S,vA(s,a,S,m,y)):(s=dg(d.type,null,m,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(S=s.child,(s.lanes&y)===0){var I=S.memoizedProps;if(d=d.compare,d=d!==null?d:ld,d(I,m)&&s.ref===a.ref)return Ai(s,a,y)}return a.flags|=1,s=ja(S,m),s.ref=a.ref,s.return=a,a.child=s}function vA(s,a,d,m,y){if(s!==null){var S=s.memoizedProps;if(ld(S,m)&&s.ref===a.ref)if(Jn=!1,a.pendingProps=m=S,(s.lanes&y)!==0)(s.flags&131072)!==0&&(Jn=!0);else return a.lanes=s.lanes,Ai(s,a,y)}return xy(s,a,d,m,y)}function yA(s,a,d){var m=a.pendingProps,y=m.children,S=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Kc,mr),mr|=d;else{if((d&1073741824)===0)return s=S!==null?S.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,fe(Kc,mr),mr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:d,fe(Kc,mr),mr|=m}else S!==null?(m=S.baseLanes|d,a.memoizedState=null):m=d,fe(Kc,mr),mr|=m;return _n(s,a,y,d),a.child}function xA(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function xy(s,a,d,m,y){var S=Qn(d)?Vo:Pn.current;return S=_c(a,S),Wc(a,y),d=cy(s,a,d,m,S,y),m=uy(),s!==null&&!Jn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Ai(s,a,y)):(we&&m&&G0(a),a.flags|=1,_n(s,a,d,y),a.child)}function wA(s,a,d,m,y){if(Qn(d)){var S=!0;jm(a)}else S=!1;if(Wc(a,y),a.stateNode===null)eg(s,a),lA(a,d,m),gy(a,d,m,y),m=!0;else if(s===null){var I=a.stateNode,O=a.memoizedProps;I.props=O;var j=I.context,V=d.contextType;typeof V=="object"&&V!==null?V=$r(V):(V=Qn(d)?Vo:Pn.current,V=_c(a,V));var at=d.getDerivedStateFromProps,lt=typeof at=="function"||typeof I.getSnapshotBeforeUpdate=="function";lt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==m||j!==V)&&cA(a,I,m,V),Ra=!1;var rt=a.memoizedState;I.state=rt,Gm(a,m,I,y),j=a.memoizedState,O!==m||rt!==j||Kn.current||Ra?(typeof at=="function"&&(my(a,d,at,m),j=a.memoizedState),(O=Ra||oA(a,d,O,m,rt,j,V))?(lt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=j),I.props=m,I.state=j,I.context=V,m=O):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{I=a.stateNode,Fb(s,a),O=a.memoizedProps,V=a.type===a.elementType?O:ms(a.type,O),I.props=V,lt=a.pendingProps,rt=I.context,j=d.contextType,typeof j=="object"&&j!==null?j=$r(j):(j=Qn(d)?Vo:Pn.current,j=_c(a,j));var mt=d.getDerivedStateFromProps;(at=typeof mt=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==lt||rt!==j)&&cA(a,I,m,j),Ra=!1,rt=a.memoizedState,I.state=rt,Gm(a,m,I,y);var At=a.memoizedState;O!==lt||rt!==At||Kn.current||Ra?(typeof mt=="function"&&(my(a,d,mt,m),At=a.memoizedState),(V=Ra||oA(a,d,V,m,rt,At,j)||!1)?(at||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(m,At,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(m,At,j)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&rt===s.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&rt===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=At),I.props=m,I.state=At,I.context=j,m=V):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&rt===s.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&rt===s.memoizedState||(a.flags|=1024),m=!1)}return wy(s,a,d,m,S,y)}function wy(s,a,d,m,y,S){xA(s,a);var I=(a.flags&128)!==0;if(!m&&!I)return y&&Cb(a,d,!1),Ai(s,a,S);m=a.stateNode,cP.current=a;var O=I&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&I?(a.child=$c(a,s.child,null,S),a.child=$c(a,null,O,S)):_n(s,a,O,S),a.memoizedState=m.state,y&&Cb(a,d,!0),a.child}function bA(s){var a=s.stateNode;a.pendingContext?Sb(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Sb(s,a.context,!1),ry(s,a.containerInfo)}function AA(s,a,d,m,y){return Hc(),Q0(y),a.flags|=256,_n(s,a,d,m),a.child}var by={dehydrated:null,treeContext:null,retryLane:0};function Ay(s){return{baseLanes:s,cachePool:null,transitions:null}}function SA(s,a,d){var m=a.pendingProps,y=Ee.current,S=!1,I=(a.flags&128)!==0,O;if((O=I)||(O=s!==null&&s.memoizedState===null?!1:(y&2)!==0),O?(S=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),fe(Ee,y&1),s===null)return K0(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(I=m.children,s=m.fallback,S?(m=a.mode,S=a.child,I={mode:"hidden",children:I},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=I):S=fg(I,m,0,null),s=tl(s,m,d,null),S.return=a,s.return=a,S.sibling=s,a.child=S,a.child.memoizedState=Ay(d),a.memoizedState=by,s):Sy(a,I));if(y=s.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return uP(s,a,I,m,O,y,d);if(S){S=m.fallback,I=a.mode,y=s.child,O=y.sibling;var j={mode:"hidden",children:m.children};return(I&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=j,a.deletions=null):(m=ja(y,j),m.subtreeFlags=y.subtreeFlags&14680064),O!==null?S=ja(O,S):(S=tl(S,I,d,null),S.flags|=2),S.return=a,m.return=a,m.sibling=S,a.child=m,m=S,S=a.child,I=s.child.memoizedState,I=I===null?Ay(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},S.memoizedState=I,S.childLanes=s.childLanes&~d,a.memoizedState=by,m}return S=s.child,s=S.sibling,m=ja(S,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=m,a.memoizedState=null,m}function Sy(s,a){return a=fg({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function tg(s,a,d,m){return m!==null&&Q0(m),$c(a,s.child,null,d),s=Sy(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function uP(s,a,d,m,y,S,I){if(d)return a.flags&256?(a.flags&=-257,m=vy(Error(t(422))),tg(s,a,I,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(S=m.fallback,y=a.mode,m=fg({mode:"visible",children:m.children},y,0,null),S=tl(S,y,I,null),S.flags|=2,m.return=a,S.return=a,m.sibling=S,a.child=m,(a.mode&1)!==0&&$c(a,s.child,null,I),a.child.memoizedState=Ay(I),a.memoizedState=by,S);if((a.mode&1)===0)return tg(s,a,I,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var O=m.dgst;return m=O,S=Error(t(419)),m=vy(S,m,void 0),tg(s,a,I,m)}if(O=(I&s.childLanes)!==0,Jn||O){if(m=sn,m!==null){switch(I&-I){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|I))!==0?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,wi(s,y),ys(m,s,y,-1))}return _y(),m=vy(Error(t(421))),tg(s,a,I,m)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=SP.bind(null,s),y._reactRetry=a,null):(s=S.treeContext,pr=Ta(y.nextSibling),fr=a,we=!0,ps=null,s!==null&&(zr[Hr++]=yi,zr[Hr++]=xi,zr[Hr++]=Wo,yi=s.id,xi=s.overflow,Wo=a),a=Sy(a,m.children),a.flags|=4096,a)}function EA(s,a,d){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),ty(s.return,a,d)}function Ey(s,a,d,m,y){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=d,S.tailMode=y)}function CA(s,a,d){var m=a.pendingProps,y=m.revealOrder,S=m.tail;if(_n(s,a,m.children,d),m=Ee.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&EA(s,d,a);else if(s.tag===19)EA(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(fe(Ee,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(d=a.child,y=null;d!==null;)s=d.alternate,s!==null&&Xm(s)===null&&(y=d),d=d.sibling;d=y,d===null?(y=a.child,a.child=null):(y=d.sibling,d.sibling=null),Ey(a,!1,y,d,S);break;case"backwards":for(d=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&Xm(s)===null){a.child=y;break}s=y.sibling,y.sibling=d,d=y,y=s}Ey(a,!0,d,null,S);break;case"together":Ey(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function eg(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ai(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),Qo|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,d=ja(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=ja(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function hP(s,a,d){switch(a.tag){case 3:bA(a),Hc();break;case 5:_b(a);break;case 1:Qn(a.type)&&jm(a);break;case 4:ry(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;fe($m,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(fe(Ee,Ee.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?SA(s,a,d):(fe(Ee,Ee.current&1),s=Ai(s,a,d),s!==null?s.sibling:null);fe(Ee,Ee.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(s.flags&128)!==0){if(m)return CA(s,a,d);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),fe(Ee,Ee.current),m)break;return null;case 22:case 23:return a.lanes=0,yA(s,a,d)}return Ai(s,a,d)}var TA,Cy,PA,kA;TA=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Cy=function(){},PA=function(s,a,d,m){var y=s.memoizedProps;if(y!==m){s=a.stateNode,Yo(Bs.current);var S=null;switch(d){case"input":y=Tn(s,y),m=Tn(s,m),S=[];break;case"select":y=it({},y,{value:void 0}),m=it({},m,{value:void 0}),S=[];break;case"textarea":y=r0(s,y),m=r0(s,m),S=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Lm)}i0(d,m);var I;d=null;for(V in y)if(!m.hasOwnProperty(V)&&y.hasOwnProperty(V)&&y[V]!=null)if(V==="style"){var O=y[V];for(I in O)O.hasOwnProperty(I)&&(d||(d={}),d[I]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(r.hasOwnProperty(V)?S||(S=[]):(S=S||[]).push(V,null));for(V in m){var j=m[V];if(O=y!=null?y[V]:void 0,m.hasOwnProperty(V)&&j!==O&&(j!=null||O!=null))if(V==="style")if(O){for(I in O)!O.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(d||(d={}),d[I]="");for(I in j)j.hasOwnProperty(I)&&O[I]!==j[I]&&(d||(d={}),d[I]=j[I])}else d||(S||(S=[]),S.push(V,d)),d=j;else V==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,O=O?O.__html:void 0,j!=null&&O!==j&&(S=S||[]).push(V,j)):V==="children"?typeof j!="string"&&typeof j!="number"||(S=S||[]).push(V,""+j):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(r.hasOwnProperty(V)?(j!=null&&V==="onScroll"&&ve("scroll",s),S||O===j||(S=[])):(S=S||[]).push(V,j))}d&&(S=S||[]).push("style",d);var V=S;(a.updateQueue=V)&&(a.flags|=4)}},kA=function(s,a,d,m){d!==m&&(a.flags|=4)};function Sd(s,a){if(!we)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Nn(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(a)for(var y=s.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=m,s.childLanes=d,a}function dP(s,a,d){var m=a.pendingProps;switch(X0(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(a),null;case 1:return Qn(a.type)&&Fm(),Nn(a),null;case 3:return m=a.stateNode,Gc(),ye(Kn),ye(Pn),ay(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(zm(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ps!==null&&(Fy(ps),ps=null))),Cy(s,a),Nn(a),null;case 5:sy(a);var y=Yo(yd.current);if(d=a.type,s!==null&&a.stateNode!=null)PA(s,a,d,m,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(t(166));return Nn(a),null}if(s=Yo(Bs.current),zm(a)){m=a.stateNode,d=a.type;var S=a.memoizedProps;switch(m[js]=a,m[fd]=S,s=(a.mode&1)!==0,d){case"dialog":ve("cancel",m),ve("close",m);break;case"iframe":case"object":case"embed":ve("load",m);break;case"video":case"audio":for(y=0;y<ud.length;y++)ve(ud[y],m);break;case"source":ve("error",m);break;case"img":case"image":case"link":ve("error",m),ve("load",m);break;case"details":ve("toggle",m);break;case"input":nn(m,S),ve("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},ve("invalid",m);break;case"textarea":h1(m,S),ve("invalid",m)}i0(d,S),y=null;for(var I in S)if(S.hasOwnProperty(I)){var O=S[I];I==="children"?typeof O=="string"?m.textContent!==O&&(S.suppressHydrationWarning!==!0&&Dm(m.textContent,O,s),y=["children",O]):typeof O=="number"&&m.textContent!==""+O&&(S.suppressHydrationWarning!==!0&&Dm(m.textContent,O,s),y=["children",""+O]):r.hasOwnProperty(I)&&O!=null&&I==="onScroll"&&ve("scroll",m)}switch(d){case"input":Ct(m),Tc(m,S,!0);break;case"textarea":Ct(m),f1(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=Lm)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{I=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=p1(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=I.createElement(d,{is:m.is}):(s=I.createElement(d),d==="select"&&(I=s,m.multiple?I.multiple=!0:m.size&&(I.size=m.size))):s=I.createElementNS(s,d),s[js]=a,s[fd]=m,TA(s,a,!1,!1),a.stateNode=s;t:{switch(I=a0(d,m),d){case"dialog":ve("cancel",s),ve("close",s),y=m;break;case"iframe":case"object":case"embed":ve("load",s),y=m;break;case"video":case"audio":for(y=0;y<ud.length;y++)ve(ud[y],s);y=m;break;case"source":ve("error",s),y=m;break;case"img":case"image":case"link":ve("error",s),ve("load",s),y=m;break;case"details":ve("toggle",s),y=m;break;case"input":nn(s,m),y=Tn(s,m),ve("invalid",s);break;case"option":y=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},y=it({},m,{value:void 0}),ve("invalid",s);break;case"textarea":h1(s,m),y=r0(s,m),ve("invalid",s);break;default:y=m}i0(d,y),O=y;for(S in O)if(O.hasOwnProperty(S)){var j=O[S];S==="style"?v1(s,j):S==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&m1(s,j)):S==="children"?typeof j=="string"?(d!=="textarea"||j!=="")&&Wh(s,j):typeof j=="number"&&Wh(s,""+j):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(r.hasOwnProperty(S)?j!=null&&S==="onScroll"&&ve("scroll",s):j!=null&&N(s,S,j,I))}switch(d){case"input":Ct(s),Tc(s,m,!1);break;case"textarea":Ct(s),f1(s);break;case"option":m.value!=null&&s.setAttribute("value",""+nt(m.value));break;case"select":s.multiple=!!m.multiple,S=m.value,S!=null?Pc(s,!!m.multiple,S,!1):m.defaultValue!=null&&Pc(s,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=Lm)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break t;case"img":m=!0;break t;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Nn(a),null;case 6:if(s&&a.stateNode!=null)kA(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(t(166));if(d=Yo(yd.current),Yo(Bs.current),zm(a)){if(m=a.stateNode,d=a.memoizedProps,m[js]=a,(S=m.nodeValue!==d)&&(s=fr,s!==null))switch(s.tag){case 3:Dm(m.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Dm(m.nodeValue,d,(s.mode&1)!==0)}S&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[js]=a,a.stateNode=m}return Nn(a),null;case 13:if(ye(Ee),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(we&&pr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ib(),Hc(),a.flags|=98560,S=!1;else if(S=zm(a),m!==null&&m.dehydrated!==null){if(s===null){if(!S)throw Error(t(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[js]=a}else Hc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nn(a),S=!1}else ps!==null&&(Fy(ps),ps=null),S=!0;if(!S)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Ee.current&1)!==0?Ke===0&&(Ke=3):_y())),a.updateQueue!==null&&(a.flags|=4),Nn(a),null);case 4:return Gc(),Cy(s,a),s===null&&hd(a.stateNode.containerInfo),Nn(a),null;case 10:return q0(a.type._context),Nn(a),null;case 17:return Qn(a.type)&&Fm(),Nn(a),null;case 19:if(ye(Ee),S=a.memoizedState,S===null)return Nn(a),null;if(m=(a.flags&128)!==0,I=S.rendering,I===null)if(m)Sd(S,!1);else{if(Ke!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(I=Xm(s),I!==null){for(a.flags|=128,Sd(S,!1),m=I.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)S=d,s=m,S.flags&=14680066,I=S.alternate,I===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=I.childLanes,S.lanes=I.lanes,S.child=I.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=I.memoizedProps,S.memoizedState=I.memoizedState,S.updateQueue=I.updateQueue,S.type=I.type,s=I.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return fe(Ee,Ee.current&1|2),a.child}s=s.sibling}S.tail!==null&&je()>Qc&&(a.flags|=128,m=!0,Sd(S,!1),a.lanes=4194304)}else{if(!m)if(s=Xm(I),s!==null){if(a.flags|=128,m=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Sd(S,!0),S.tail===null&&S.tailMode==="hidden"&&!I.alternate&&!we)return Nn(a),null}else 2*je()-S.renderingStartTime>Qc&&d!==1073741824&&(a.flags|=128,m=!0,Sd(S,!1),a.lanes=4194304);S.isBackwards?(I.sibling=a.child,a.child=I):(d=S.last,d!==null?d.sibling=I:a.child=I,S.last=I)}return S.tail!==null?(a=S.tail,S.rendering=a,S.tail=a.sibling,S.renderingStartTime=je(),a.sibling=null,d=Ee.current,fe(Ee,m?d&1|2:d&1),a):(Nn(a),null);case 22:case 23:return By(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(mr&1073741824)!==0&&(Nn(a),a.subtreeFlags&6&&(a.flags|=8192)):Nn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function fP(s,a){switch(X0(a),a.tag){case 1:return Qn(a.type)&&Fm(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Gc(),ye(Kn),ye(Pn),ay(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return sy(a),null;case 13:if(ye(Ee),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Hc()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ye(Ee),null;case 4:return Gc(),null;case 10:return q0(a.type._context),null;case 22:case 23:return By(),null;case 24:return null;default:return null}}var ng=!1,Rn=!1,pP=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Yc(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Re(s,a,m)}else d.current=null}function Ty(s,a,d){try{d()}catch(m){Re(s,a,m)}}var NA=!1;function mP(s,a){if(B0=Am,s=ob(),R0(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else t:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break t}var I=0,O=-1,j=-1,V=0,at=0,lt=s,rt=null;e:for(;;){for(var mt;lt!==d||y!==0&&lt.nodeType!==3||(O=I+y),lt!==S||m!==0&&lt.nodeType!==3||(j=I+m),lt.nodeType===3&&(I+=lt.nodeValue.length),(mt=lt.firstChild)!==null;)rt=lt,lt=mt;for(;;){if(lt===s)break e;if(rt===d&&++V===y&&(O=I),rt===S&&++at===m&&(j=I),(mt=lt.nextSibling)!==null)break;lt=rt,rt=lt.parentNode}lt=mt}d=O===-1||j===-1?null:{start:O,end:j}}else d=null}d=d||{start:0,end:0}}else d=null;for(_0={focusedElem:s,selectionRange:d},Am=!1,wt=a;wt!==null;)if(a=wt,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,wt=s;else for(;wt!==null;){a=wt;try{var At=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var St=At.memoizedProps,Be=At.memoizedState,H=a.stateNode,_=H.getSnapshotBeforeUpdate(a.elementType===a.type?St:ms(a.type,St),Be);H.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var $=a.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ut){Re(a,a.return,ut)}if(s=a.sibling,s!==null){s.return=a.return,wt=s;break}wt=a.return}return At=NA,NA=!1,At}function Ed(s,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&s)===s){var S=y.destroy;y.destroy=void 0,S!==void 0&&Ty(a,d,S)}y=y.next}while(y!==m)}}function rg(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function Py(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function RA(s){var a=s.alternate;a!==null&&(s.alternate=null,RA(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[js],delete a[fd],delete a[$0],delete a[J2],delete a[Z2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function IA(s){return s.tag===5||s.tag===3||s.tag===4}function MA(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||IA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ky(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Lm));else if(m!==4&&(s=s.child,s!==null))for(ky(s,a,d),s=s.sibling;s!==null;)ky(s,a,d),s=s.sibling}function Ny(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Ny(s,a,d),s=s.sibling;s!==null;)Ny(s,a,d),s=s.sibling}var pn=null,gs=!1;function Ma(s,a,d){for(d=d.child;d!==null;)DA(s,a,d),d=d.sibling}function DA(s,a,d){if(Fs&&typeof Fs.onCommitFiberUnmount=="function")try{Fs.onCommitFiberUnmount(gm,d)}catch{}switch(d.tag){case 5:Rn||Yc(d,a);case 6:var m=pn,y=gs;pn=null,Ma(s,a,d),pn=m,gs=y,pn!==null&&(gs?(s=pn,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):pn.removeChild(d.stateNode));break;case 18:pn!==null&&(gs?(s=pn,d=d.stateNode,s.nodeType===8?H0(s.parentNode,d):s.nodeType===1&&H0(s,d),nd(s)):H0(pn,d.stateNode));break;case 4:m=pn,y=gs,pn=d.stateNode.containerInfo,gs=!0,Ma(s,a,d),pn=m,gs=y;break;case 0:case 11:case 14:case 15:if(!Rn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var S=y,I=S.destroy;S=S.tag,I!==void 0&&((S&2)!==0||(S&4)!==0)&&Ty(d,a,I),y=y.next}while(y!==m)}Ma(s,a,d);break;case 1:if(!Rn&&(Yc(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(O){Re(d,a,O)}Ma(s,a,d);break;case 21:Ma(s,a,d);break;case 22:d.mode&1?(Rn=(m=Rn)||d.memoizedState!==null,Ma(s,a,d),Rn=m):Ma(s,a,d);break;default:Ma(s,a,d)}}function LA(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new pP),a.forEach(function(m){var y=EP.bind(null,s,m);d.has(m)||(d.add(m),m.then(y,y))})}}function vs(s,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var S=s,I=a,O=I;t:for(;O!==null;){switch(O.tag){case 5:pn=O.stateNode,gs=!1;break t;case 3:pn=O.stateNode.containerInfo,gs=!0;break t;case 4:pn=O.stateNode.containerInfo,gs=!0;break t}O=O.return}if(pn===null)throw Error(t(160));DA(S,I,y),pn=null,gs=!1;var j=y.alternate;j!==null&&(j.return=null),y.return=null}catch(V){Re(y,a,V)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)OA(a,s),a=a.sibling}function OA(s,a){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(vs(a,s),Us(s),m&4){try{Ed(3,s,s.return),rg(3,s)}catch(St){Re(s,s.return,St)}try{Ed(5,s,s.return)}catch(St){Re(s,s.return,St)}}break;case 1:vs(a,s),Us(s),m&512&&d!==null&&Yc(d,d.return);break;case 5:if(vs(a,s),Us(s),m&512&&d!==null&&Yc(d,d.return),s.flags&32){var y=s.stateNode;try{Wh(y,"")}catch(St){Re(s,s.return,St)}}if(m&4&&(y=s.stateNode,y!=null)){var S=s.memoizedProps,I=d!==null?d.memoizedProps:S,O=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{O==="input"&&S.type==="radio"&&S.name!=null&&Fe(y,S),a0(O,I);var V=a0(O,S);for(I=0;I<j.length;I+=2){var at=j[I],lt=j[I+1];at==="style"?v1(y,lt):at==="dangerouslySetInnerHTML"?m1(y,lt):at==="children"?Wh(y,lt):N(y,at,lt,V)}switch(O){case"input":Os(y,S);break;case"textarea":d1(y,S);break;case"select":var rt=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var mt=S.value;mt!=null?Pc(y,!!S.multiple,mt,!1):rt!==!!S.multiple&&(S.defaultValue!=null?Pc(y,!!S.multiple,S.defaultValue,!0):Pc(y,!!S.multiple,S.multiple?[]:"",!1))}y[fd]=S}catch(St){Re(s,s.return,St)}}break;case 6:if(vs(a,s),Us(s),m&4){if(s.stateNode===null)throw Error(t(162));y=s.stateNode,S=s.memoizedProps;try{y.nodeValue=S}catch(St){Re(s,s.return,St)}}break;case 3:if(vs(a,s),Us(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{nd(a.containerInfo)}catch(St){Re(s,s.return,St)}break;case 4:vs(a,s),Us(s);break;case 13:vs(a,s),Us(s),y=s.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(My=je())),m&4&&LA(s);break;case 22:if(at=d!==null&&d.memoizedState!==null,s.mode&1?(Rn=(V=Rn)||at,vs(a,s),Rn=V):vs(a,s),Us(s),m&8192){if(V=s.memoizedState!==null,(s.stateNode.isHidden=V)&&!at&&(s.mode&1)!==0)for(wt=s,at=s.child;at!==null;){for(lt=wt=at;wt!==null;){switch(rt=wt,mt=rt.child,rt.tag){case 0:case 11:case 14:case 15:Ed(4,rt,rt.return);break;case 1:Yc(rt,rt.return);var At=rt.stateNode;if(typeof At.componentWillUnmount=="function"){m=rt,d=rt.return;try{a=m,At.props=a.memoizedProps,At.state=a.memoizedState,At.componentWillUnmount()}catch(St){Re(m,d,St)}}break;case 5:Yc(rt,rt.return);break;case 22:if(rt.memoizedState!==null){BA(lt);continue}}mt!==null?(mt.return=rt,wt=mt):BA(lt)}at=at.sibling}t:for(at=null,lt=s;;){if(lt.tag===5){if(at===null){at=lt;try{y=lt.stateNode,V?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(O=lt.stateNode,j=lt.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,O.style.display=g1("display",I))}catch(St){Re(s,s.return,St)}}}else if(lt.tag===6){if(at===null)try{lt.stateNode.nodeValue=V?"":lt.memoizedProps}catch(St){Re(s,s.return,St)}}else if((lt.tag!==22&&lt.tag!==23||lt.memoizedState===null||lt===s)&&lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===s)break t;for(;lt.sibling===null;){if(lt.return===null||lt.return===s)break t;at===lt&&(at=null),lt=lt.return}at===lt&&(at=null),lt.sibling.return=lt.return,lt=lt.sibling}}break;case 19:vs(a,s),Us(s),m&4&&LA(s);break;case 21:break;default:vs(a,s),Us(s)}}function Us(s){var a=s.flags;if(a&2){try{t:{for(var d=s.return;d!==null;){if(IA(d)){var m=d;break t}d=d.return}throw Error(t(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Wh(y,""),m.flags&=-33);var S=MA(s);Ny(s,S,y);break;case 3:case 4:var I=m.stateNode.containerInfo,O=MA(s);ky(s,O,I);break;default:throw Error(t(161))}}catch(j){Re(s,s.return,j)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function gP(s,a,d){wt=s,FA(s)}function FA(s,a,d){for(var m=(s.mode&1)!==0;wt!==null;){var y=wt,S=y.child;if(y.tag===22&&m){var I=y.memoizedState!==null||ng;if(!I){var O=y.alternate,j=O!==null&&O.memoizedState!==null||Rn;O=ng;var V=Rn;if(ng=I,(Rn=j)&&!V)for(wt=y;wt!==null;)I=wt,j=I.child,I.tag===22&&I.memoizedState!==null?_A(y):j!==null?(j.return=I,wt=j):_A(y);for(;S!==null;)wt=S,FA(S),S=S.sibling;wt=y,ng=O,Rn=V}jA(s)}else(y.subtreeFlags&8772)!==0&&S!==null?(S.return=y,wt=S):jA(s)}}function jA(s){for(;wt!==null;){var a=wt;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Rn||rg(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Rn)if(d===null)m.componentDidMount();else{var y=a.elementType===a.type?d.memoizedProps:ms(a.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=a.updateQueue;S!==null&&Bb(a,S,m);break;case 3:var I=a.updateQueue;if(I!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Bb(a,I,d)}break;case 5:var O=a.stateNode;if(d===null&&a.flags&4){d=O;var j=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&d.focus();break;case"img":j.src&&(d.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var V=a.alternate;if(V!==null){var at=V.memoizedState;if(at!==null){var lt=at.dehydrated;lt!==null&&nd(lt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Rn||a.flags&512&&Py(a)}catch(rt){Re(a,a.return,rt)}}if(a===s){wt=null;break}if(d=a.sibling,d!==null){d.return=a.return,wt=d;break}wt=a.return}}function BA(s){for(;wt!==null;){var a=wt;if(a===s){wt=null;break}var d=a.sibling;if(d!==null){d.return=a.return,wt=d;break}wt=a.return}}function _A(s){for(;wt!==null;){var a=wt;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{rg(4,a)}catch(j){Re(a,d,j)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(j){Re(a,y,j)}}var S=a.return;try{Py(a)}catch(j){Re(a,S,j)}break;case 5:var I=a.return;try{Py(a)}catch(j){Re(a,I,j)}}}catch(j){Re(a,a.return,j)}if(a===s){wt=null;break}var O=a.sibling;if(O!==null){O.return=a.return,wt=O;break}wt=a.return}}var vP=Math.ceil,sg=D.ReactCurrentDispatcher,Ry=D.ReactCurrentOwner,Wr=D.ReactCurrentBatchConfig,Wt=0,sn=null,He=null,mn=0,mr=0,Kc=Pa(0),Ke=0,Cd=null,Qo=0,ig=0,Iy=0,Td=null,Zn=null,My=0,Qc=1/0,Si=null,ag=!1,Dy=null,Da=null,og=!1,La=null,lg=0,Pd=0,Ly=null,cg=-1,ug=0;function Un(){return(Wt&6)!==0?je():cg!==-1?cg:cg=je()}function Oa(s){return(s.mode&1)===0?1:(Wt&2)!==0&&mn!==0?mn&-mn:tP.transition!==null?(ug===0&&(ug=M1()),ug):(s=ee,s!==0||(s=window.event,s=s===void 0?16:z1(s.type)),s)}function ys(s,a,d,m){if(50<Pd)throw Pd=0,Ly=null,Error(t(185));Jh(s,d,m),((Wt&2)===0||s!==sn)&&(s===sn&&((Wt&2)===0&&(ig|=d),Ke===4&&Fa(s,mn)),qn(s,m),d===1&&Wt===0&&(a.mode&1)===0&&(Qc=je()+500,Bm&&Na()))}function qn(s,a){var d=s.callbackNode;t2(s,a);var m=xm(s,s===sn?mn:0);if(m===0)d!==null&&N1(d),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(d!=null&&N1(d),a===1)s.tag===0?q2(zA.bind(null,s)):Tb(zA.bind(null,s)),K2(function(){(Wt&6)===0&&Na()}),d=null;else{switch(D1(m)){case 1:d=f0;break;case 4:d=R1;break;case 16:d=mm;break;case 536870912:d=I1;break;default:d=mm}d=KA(d,UA.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function UA(s,a){if(cg=-1,ug=0,(Wt&6)!==0)throw Error(t(327));var d=s.callbackNode;if(Jc()&&s.callbackNode!==d)return null;var m=xm(s,s===sn?mn:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=hg(s,m);else{a=m;var y=Wt;Wt|=2;var S=$A();(sn!==s||mn!==a)&&(Si=null,Qc=je()+500,Zo(s,a));do try{wP();break}catch(O){HA(s,O)}while(!0);Z0(),sg.current=S,Wt=y,He!==null?a=0:(sn=null,mn=0,a=Ke)}if(a!==0){if(a===2&&(y=p0(s),y!==0&&(m=y,a=Oy(s,y))),a===1)throw d=Cd,Zo(s,0),Fa(s,m),qn(s,je()),d;if(a===6)Fa(s,m);else{if(y=s.current.alternate,(m&30)===0&&!yP(y)&&(a=hg(s,m),a===2&&(S=p0(s),S!==0&&(m=S,a=Oy(s,S))),a===1))throw d=Cd,Zo(s,0),Fa(s,m),qn(s,je()),d;switch(s.finishedWork=y,s.finishedLanes=m,a){case 0:case 1:throw Error(t(345));case 2:qo(s,Zn,Si);break;case 3:if(Fa(s,m),(m&130023424)===m&&(a=My+500-je(),10<a)){if(xm(s,0)!==0)break;if(y=s.suspendedLanes,(y&m)!==m){Un(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=z0(qo.bind(null,s,Zn,Si),a);break}qo(s,Zn,Si);break;case 4:if(Fa(s,m),(m&4194240)===m)break;for(a=s.eventTimes,y=-1;0<m;){var I=31-ds(m);S=1<<I,I=a[I],I>y&&(y=I),m&=~S}if(m=y,m=je()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*vP(m/1960))-m,10<m){s.timeoutHandle=z0(qo.bind(null,s,Zn,Si),m);break}qo(s,Zn,Si);break;case 5:qo(s,Zn,Si);break;default:throw Error(t(329))}}}return qn(s,je()),s.callbackNode===d?UA.bind(null,s):null}function Oy(s,a){var d=Td;return s.current.memoizedState.isDehydrated&&(Zo(s,a).flags|=256),s=hg(s,a),s!==2&&(a=Zn,Zn=d,a!==null&&Fy(a)),s}function Fy(s){Zn===null?Zn=s:Zn.push.apply(Zn,s)}function yP(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],S=y.getSnapshot;y=y.value;try{if(!fs(S(),y))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Fa(s,a){for(a&=~Iy,a&=~ig,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-ds(a),m=1<<d;s[d]=-1,a&=~m}}function zA(s){if((Wt&6)!==0)throw Error(t(327));Jc();var a=xm(s,0);if((a&1)===0)return qn(s,je()),null;var d=hg(s,a);if(s.tag!==0&&d===2){var m=p0(s);m!==0&&(a=m,d=Oy(s,m))}if(d===1)throw d=Cd,Zo(s,0),Fa(s,a),qn(s,je()),d;if(d===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,qo(s,Zn,Si),qn(s,je()),null}function jy(s,a){var d=Wt;Wt|=1;try{return s(a)}finally{Wt=d,Wt===0&&(Qc=je()+500,Bm&&Na())}}function Jo(s){La!==null&&La.tag===0&&(Wt&6)===0&&Jc();var a=Wt;Wt|=1;var d=Wr.transition,m=ee;try{if(Wr.transition=null,ee=1,s)return s()}finally{ee=m,Wr.transition=d,Wt=a,(Wt&6)===0&&Na()}}function By(){mr=Kc.current,ye(Kc)}function Zo(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,Y2(d)),He!==null)for(d=He.return;d!==null;){var m=d;switch(X0(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Fm();break;case 3:Gc(),ye(Kn),ye(Pn),ay();break;case 5:sy(m);break;case 4:Gc();break;case 13:ye(Ee);break;case 19:ye(Ee);break;case 10:q0(m.type._context);break;case 22:case 23:By()}d=d.return}if(sn=s,He=s=ja(s.current,null),mn=mr=a,Ke=0,Cd=null,Iy=ig=Qo=0,Zn=Td=null,Xo!==null){for(a=0;a<Xo.length;a++)if(d=Xo[a],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,S=d.pending;if(S!==null){var I=S.next;S.next=y,m.next=I}d.pending=m}Xo=null}return s}function HA(s,a){do{var d=He;try{if(Z0(),Ym.current=Zm,Km){for(var m=Ce.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Km=!1}if(Ko=0,rn=Ye=Ce=null,xd=!1,wd=0,Ry.current=null,d===null||d.return===null){Ke=1,Cd=a,He=null;break}t:{var S=s,I=d.return,O=d,j=a;if(a=mn,O.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var V=j,at=O,lt=at.tag;if((at.mode&1)===0&&(lt===0||lt===11||lt===15)){var rt=at.alternate;rt?(at.updateQueue=rt.updateQueue,at.memoizedState=rt.memoizedState,at.lanes=rt.lanes):(at.updateQueue=null,at.memoizedState=null)}var mt=fA(I);if(mt!==null){mt.flags&=-257,pA(mt,I,O,S,a),mt.mode&1&&dA(S,V,a),a=mt,j=V;var At=a.updateQueue;if(At===null){var St=new Set;St.add(j),a.updateQueue=St}else At.add(j);break t}else{if((a&1)===0){dA(S,V,a),_y();break t}j=Error(t(426))}}else if(we&&O.mode&1){var Be=fA(I);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),pA(Be,I,O,S,a),Q0(Xc(j,O));break t}}S=j=Xc(j,O),Ke!==4&&(Ke=2),Td===null?Td=[S]:Td.push(S),S=I;do{switch(S.tag){case 3:S.flags|=65536,a&=-a,S.lanes|=a;var H=uA(S,j,a);jb(S,H);break t;case 1:O=j;var _=S.type,$=S.stateNode;if((S.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Da===null||!Da.has($)))){S.flags|=65536,a&=-a,S.lanes|=a;var ut=hA(S,O,a);jb(S,ut);break t}}S=S.return}while(S!==null)}WA(d)}catch(Tt){a=Tt,He===d&&d!==null&&(He=d=d.return);continue}break}while(!0)}function $A(){var s=sg.current;return sg.current=Zm,s===null?Zm:s}function _y(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),sn===null||(Qo&268435455)===0&&(ig&268435455)===0||Fa(sn,mn)}function hg(s,a){var d=Wt;Wt|=2;var m=$A();(sn!==s||mn!==a)&&(Si=null,Zo(s,a));do try{xP();break}catch(y){HA(s,y)}while(!0);if(Z0(),Wt=d,sg.current=m,He!==null)throw Error(t(261));return sn=null,mn=0,Ke}function xP(){for(;He!==null;)VA(He)}function wP(){for(;He!==null&&!WT();)VA(He)}function VA(s){var a=YA(s.alternate,s,mr);s.memoizedProps=s.pendingProps,a===null?WA(s):He=a,Ry.current=null}function WA(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=dP(d,a,mr),d!==null){He=d;return}}else{if(d=fP(d,a),d!==null){d.flags&=32767,He=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ke=6,He=null;return}}if(a=a.sibling,a!==null){He=a;return}He=a=s}while(a!==null);Ke===0&&(Ke=5)}function qo(s,a,d){var m=ee,y=Wr.transition;try{Wr.transition=null,ee=1,bP(s,a,d,m)}finally{Wr.transition=y,ee=m}return null}function bP(s,a,d,m){do Jc();while(La!==null);if((Wt&6)!==0)throw Error(t(327));d=s.finishedWork;var y=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var S=d.lanes|d.childLanes;if(e2(s,S),s===sn&&(He=sn=null,mn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||og||(og=!0,KA(mm,function(){return Jc(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=Wr.transition,Wr.transition=null;var I=ee;ee=1;var O=Wt;Wt|=4,Ry.current=null,mP(s,d),OA(d,s),z2(_0),Am=!!B0,_0=B0=null,s.current=d,gP(d),GT(),Wt=O,ee=I,Wr.transition=S}else s.current=d;if(og&&(og=!1,La=s,lg=y),S=s.pendingLanes,S===0&&(Da=null),KT(d.stateNode),qn(s,je()),a!==null)for(m=s.onRecoverableError,d=0;d<a.length;d++)y=a[d],m(y.value,{componentStack:y.stack,digest:y.digest});if(ag)throw ag=!1,s=Dy,Dy=null,s;return(lg&1)!==0&&s.tag!==0&&Jc(),S=s.pendingLanes,(S&1)!==0?s===Ly?Pd++:(Pd=0,Ly=s):Pd=0,Na(),null}function Jc(){if(La!==null){var s=D1(lg),a=Wr.transition,d=ee;try{if(Wr.transition=null,ee=16>s?16:s,La===null)var m=!1;else{if(s=La,La=null,lg=0,(Wt&6)!==0)throw Error(t(331));var y=Wt;for(Wt|=4,wt=s.current;wt!==null;){var S=wt,I=S.child;if((wt.flags&16)!==0){var O=S.deletions;if(O!==null){for(var j=0;j<O.length;j++){var V=O[j];for(wt=V;wt!==null;){var at=wt;switch(at.tag){case 0:case 11:case 15:Ed(8,at,S)}var lt=at.child;if(lt!==null)lt.return=at,wt=lt;else for(;wt!==null;){at=wt;var rt=at.sibling,mt=at.return;if(RA(at),at===V){wt=null;break}if(rt!==null){rt.return=mt,wt=rt;break}wt=mt}}}var At=S.alternate;if(At!==null){var St=At.child;if(St!==null){At.child=null;do{var Be=St.sibling;St.sibling=null,St=Be}while(St!==null)}}wt=S}}if((S.subtreeFlags&2064)!==0&&I!==null)I.return=S,wt=I;else t:for(;wt!==null;){if(S=wt,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Ed(9,S,S.return)}var H=S.sibling;if(H!==null){H.return=S.return,wt=H;break t}wt=S.return}}var _=s.current;for(wt=_;wt!==null;){I=wt;var $=I.child;if((I.subtreeFlags&2064)!==0&&$!==null)$.return=I,wt=$;else t:for(I=_;wt!==null;){if(O=wt,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:rg(9,O)}}catch(Tt){Re(O,O.return,Tt)}if(O===I){wt=null;break t}var ut=O.sibling;if(ut!==null){ut.return=O.return,wt=ut;break t}wt=O.return}}if(Wt=y,Na(),Fs&&typeof Fs.onPostCommitFiberRoot=="function")try{Fs.onPostCommitFiberRoot(gm,s)}catch{}m=!0}return m}finally{ee=d,Wr.transition=a}}return!1}function GA(s,a,d){a=Xc(d,a),a=uA(s,a,1),s=Ia(s,a,1),a=Un(),s!==null&&(Jh(s,1,a),qn(s,a))}function Re(s,a,d){if(s.tag===3)GA(s,s,d);else for(;a!==null;){if(a.tag===3){GA(a,s,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Da===null||!Da.has(m))){s=Xc(d,s),s=hA(a,s,1),a=Ia(a,s,1),s=Un(),a!==null&&(Jh(a,1,s),qn(a,s));break}}a=a.return}}function AP(s,a,d){var m=s.pingCache;m!==null&&m.delete(a),a=Un(),s.pingedLanes|=s.suspendedLanes&d,sn===s&&(mn&d)===d&&(Ke===4||Ke===3&&(mn&130023424)===mn&&500>je()-My?Zo(s,0):Iy|=d),qn(s,a)}function XA(s,a){a===0&&((s.mode&1)===0?a=1:(a=ym,ym<<=1,(ym&130023424)===0&&(ym=4194304)));var d=Un();s=wi(s,a),s!==null&&(Jh(s,a,d),qn(s,d))}function SP(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),XA(s,d)}function EP(s,a){var d=0;switch(s.tag){case 13:var m=s.stateNode,y=s.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(a),XA(s,d)}var YA;YA=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||Kn.current)Jn=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return Jn=!1,hP(s,a,d);Jn=(s.flags&131072)!==0}else Jn=!1,we&&(a.flags&1048576)!==0&&Pb(a,Um,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;eg(s,a),s=a.pendingProps;var y=_c(a,Pn.current);Wc(a,d),y=cy(null,a,m,s,y,d);var S=uy();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Qn(m)?(S=!0,jm(a)):S=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,ny(a),y.updater=qm,a.stateNode=y,y._reactInternals=a,gy(a,m,s,d),a=wy(null,a,m,!0,S,d)):(a.tag=0,we&&S&&G0(a),_n(null,a,y,d),a=a.child),a;case 16:m=a.elementType;t:{switch(eg(s,a),s=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=TP(m),s=ms(m,s),y){case 0:a=xy(null,a,m,s,d);break t;case 1:a=wA(null,a,m,s,d);break t;case 11:a=mA(null,a,m,s,d);break t;case 14:a=gA(null,a,m,ms(m.type,s),d);break t}throw Error(t(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ms(m,y),xy(s,a,m,y,d);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ms(m,y),wA(s,a,m,y,d);case 3:t:{if(bA(a),s===null)throw Error(t(387));m=a.pendingProps,S=a.memoizedState,y=S.element,Fb(s,a),Gm(a,m,null,d);var I=a.memoizedState;if(m=I.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){y=Xc(Error(t(423)),a),a=AA(s,a,m,d,y);break t}else if(m!==y){y=Xc(Error(t(424)),a),a=AA(s,a,m,d,y);break t}else for(pr=Ta(a.stateNode.containerInfo.firstChild),fr=a,we=!0,ps=null,d=Lb(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Hc(),m===y){a=Ai(s,a,d);break t}_n(s,a,m,d)}a=a.child}return a;case 5:return _b(a),s===null&&K0(a),m=a.type,y=a.pendingProps,S=s!==null?s.memoizedProps:null,I=y.children,U0(m,y)?I=null:S!==null&&U0(m,S)&&(a.flags|=32),xA(s,a),_n(s,a,I,d),a.child;case 6:return s===null&&K0(a),null;case 13:return SA(s,a,d);case 4:return ry(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=$c(a,null,m,d):_n(s,a,m,d),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ms(m,y),mA(s,a,m,y,d);case 7:return _n(s,a,a.pendingProps,d),a.child;case 8:return _n(s,a,a.pendingProps.children,d),a.child;case 12:return _n(s,a,a.pendingProps.children,d),a.child;case 10:t:{if(m=a.type._context,y=a.pendingProps,S=a.memoizedProps,I=y.value,fe($m,m._currentValue),m._currentValue=I,S!==null)if(fs(S.value,I)){if(S.children===y.children&&!Kn.current){a=Ai(s,a,d);break t}}else for(S=a.child,S!==null&&(S.return=a);S!==null;){var O=S.dependencies;if(O!==null){I=S.child;for(var j=O.firstContext;j!==null;){if(j.context===m){if(S.tag===1){j=bi(-1,d&-d),j.tag=2;var V=S.updateQueue;if(V!==null){V=V.shared;var at=V.pending;at===null?j.next=j:(j.next=at.next,at.next=j),V.pending=j}}S.lanes|=d,j=S.alternate,j!==null&&(j.lanes|=d),ty(S.return,d,a),O.lanes|=d;break}j=j.next}}else if(S.tag===10)I=S.type===a.type?null:S.child;else if(S.tag===18){if(I=S.return,I===null)throw Error(t(341));I.lanes|=d,O=I.alternate,O!==null&&(O.lanes|=d),ty(I,d,a),I=S.sibling}else I=S.child;if(I!==null)I.return=S;else for(I=S;I!==null;){if(I===a){I=null;break}if(S=I.sibling,S!==null){S.return=I.return,I=S;break}I=I.return}S=I}_n(s,a,y.children,d),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,Wc(a,d),y=$r(y),m=m(y),a.flags|=1,_n(s,a,m,d),a.child;case 14:return m=a.type,y=ms(m,a.pendingProps),y=ms(m.type,y),gA(s,a,m,y,d);case 15:return vA(s,a,a.type,a.pendingProps,d);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ms(m,y),eg(s,a),a.tag=1,Qn(m)?(s=!0,jm(a)):s=!1,Wc(a,d),lA(a,m,y),gy(a,m,y,d),wy(null,a,m,!0,s,d);case 19:return CA(s,a,d);case 22:return yA(s,a,d)}throw Error(t(156,a.tag))};function KA(s,a){return k1(s,a)}function CP(s,a,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(s,a,d,m){return new CP(s,a,d,m)}function Uy(s){return s=s.prototype,!(!s||!s.isReactComponent)}function TP(s){if(typeof s=="function")return Uy(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ot)return 11;if(s===ht)return 14}return 2}function ja(s,a){var d=s.alternate;return d===null?(d=Gr(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function dg(s,a,d,m,y,S){var I=2;if(m=s,typeof s=="function")Uy(s)&&(I=1);else if(typeof s=="string")I=5;else t:switch(s){case F:return tl(d.children,y,S,a);case U:I=8,y|=8;break;case z:return s=Gr(12,d,a,y|2),s.elementType=z,s.lanes=S,s;case q:return s=Gr(13,d,a,y),s.elementType=q,s.lanes=S,s;case st:return s=Gr(19,d,a,y),s.elementType=st,s.lanes=S,s;case J:return fg(d,y,S,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case G:I=10;break t;case X:I=9;break t;case ot:I=11;break t;case ht:I=14;break t;case tt:I=16,m=null;break t}throw Error(t(130,s==null?s:typeof s,""))}return a=Gr(I,d,a,y),a.elementType=s,a.type=m,a.lanes=S,a}function tl(s,a,d,m){return s=Gr(7,s,m,a),s.lanes=d,s}function fg(s,a,d,m){return s=Gr(22,s,m,a),s.elementType=J,s.lanes=d,s.stateNode={isHidden:!1},s}function zy(s,a,d){return s=Gr(6,s,null,a),s.lanes=d,s}function Hy(s,a,d){return a=Gr(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function PP(s,a,d,m,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=m0(0),this.expirationTimes=m0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=m0(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function $y(s,a,d,m,y,S,I,O,j){return s=new PP(s,a,d,O,j),a===1?(a=1,S===!0&&(a|=8)):a=0,S=Gr(3,null,null,a),s.current=S,S.stateNode=s,S.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},ny(S),s}function kP(s,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:m==null?null:""+m,children:s,containerInfo:a,implementation:d}}function QA(s){if(!s)return ka;s=s._reactInternals;t:{if(Ho(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Qn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var d=s.type;if(Qn(d))return Eb(s,d,a)}return a}function JA(s,a,d,m,y,S,I,O,j){return s=$y(d,m,!0,s,y,S,I,O,j),s.context=QA(null),d=s.current,m=Un(),y=Oa(d),S=bi(m,y),S.callback=a??null,Ia(d,S,y),s.current.lanes=y,Jh(s,y,m),qn(s,m),s}function pg(s,a,d,m){var y=a.current,S=Un(),I=Oa(y);return d=QA(d),a.context===null?a.context=d:a.pendingContext=d,a=bi(S,I),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=Ia(y,a,I),s!==null&&(ys(s,y,I,S),Wm(s,y,I)),I}function mg(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function ZA(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function Vy(s,a){ZA(s,a),(s=s.alternate)&&ZA(s,a)}function NP(){return null}var qA=typeof reportError=="function"?reportError:function(s){console.error(s)};function Wy(s){this._internalRoot=s}gg.prototype.render=Wy.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));pg(s,a,null,null)},gg.prototype.unmount=Wy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Jo(function(){pg(null,s,null,null)}),a[gi]=null}};function gg(s){this._internalRoot=s}gg.prototype.unstable_scheduleHydration=function(s){if(s){var a=F1();s={blockedOn:null,target:s,priority:a};for(var d=0;d<Sa.length&&a!==0&&a<Sa[d].priority;d++);Sa.splice(d,0,s),d===0&&_1(s)}};function Gy(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function vg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function tS(){}function RP(s,a,d,m,y){if(y){if(typeof m=="function"){var S=m;m=function(){var V=mg(I);S.call(V)}}var I=JA(a,m,s,0,null,!1,!1,"",tS);return s._reactRootContainer=I,s[gi]=I.current,hd(s.nodeType===8?s.parentNode:s),Jo(),I}for(;y=s.lastChild;)s.removeChild(y);if(typeof m=="function"){var O=m;m=function(){var V=mg(j);O.call(V)}}var j=$y(s,0,!1,null,null,!1,!1,"",tS);return s._reactRootContainer=j,s[gi]=j.current,hd(s.nodeType===8?s.parentNode:s),Jo(function(){pg(a,j,d,m)}),j}function yg(s,a,d,m,y){var S=d._reactRootContainer;if(S){var I=S;if(typeof y=="function"){var O=y;y=function(){var j=mg(I);O.call(j)}}pg(a,I,s,y)}else I=RP(d,a,s,y,m);return mg(I)}L1=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=Qh(a.pendingLanes);d!==0&&(g0(a,d|1),qn(a,je()),(Wt&6)===0&&(Qc=je()+500,Na()))}break;case 13:Jo(function(){var m=wi(s,1);if(m!==null){var y=Un();ys(m,s,1,y)}}),Vy(s,1)}},v0=function(s){if(s.tag===13){var a=wi(s,134217728);if(a!==null){var d=Un();ys(a,s,134217728,d)}Vy(s,134217728)}},O1=function(s){if(s.tag===13){var a=Oa(s),d=wi(s,a);if(d!==null){var m=Un();ys(d,s,a,m)}Vy(s,a)}},F1=function(){return ee},j1=function(s,a){var d=ee;try{return ee=s,a()}finally{ee=d}},c0=function(s,a,d){switch(a){case"input":if(Os(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==s&&m.form===s.form){var y=Om(m);if(!y)throw Error(t(90));te(m),Os(m,y)}}}break;case"textarea":d1(s,d);break;case"select":a=d.value,a!=null&&Pc(s,!!d.multiple,a,!1)}},b1=jy,A1=Jo;var IP={usingClientEntryPoint:!1,Events:[pd,jc,Om,x1,w1,jy]},kd={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MP={bundleType:kd.bundleType,version:kd.version,rendererPackageName:kd.rendererPackageName,rendererConfig:kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=T1(s),s===null?null:s.stateNode},findFiberByHostInstance:kd.findFiberByHostInstance||NP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xg.isDisabled&&xg.supportsFiber)try{gm=xg.inject(MP),Fs=xg}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IP,tr.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gy(a))throw Error(t(200));return kP(s,a,null,d)},tr.createRoot=function(s,a){if(!Gy(s))throw Error(t(299));var d=!1,m="",y=qA;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=$y(s,1,!1,null,null,d,!1,m,y),s[gi]=a.current,hd(s.nodeType===8?s.parentNode:s),new Wy(a)},tr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=T1(a),s=s===null?null:s.stateNode,s},tr.flushSync=function(s){return Jo(s)},tr.hydrate=function(s,a,d){if(!vg(a))throw Error(t(200));return yg(null,s,a,!0,d)},tr.hydrateRoot=function(s,a,d){if(!Gy(s))throw Error(t(405));var m=d!=null&&d.hydratedSources||null,y=!1,S="",I=qA;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(I=d.onRecoverableError)),a=JA(a,null,s,1,d??null,y,!1,S,I),s[gi]=a.current,hd(s),m)for(s=0;s<m.length;s++)d=m[s],y=d._getVersion,y=y(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,y]:a.mutableSourceEagerHydrationData.push(d,y);return new gg(a)},tr.render=function(s,a,d){if(!vg(a))throw Error(t(200));return yg(null,s,a,!1,d)},tr.unmountComponentAtNode=function(s){if(!vg(s))throw Error(t(40));return s._reactRootContainer?(Jo(function(){yg(null,null,s,!1,function(){s._reactRootContainer=null,s[gi]=null})}),!0):!1},tr.unstable_batchedUpdates=jy,tr.unstable_renderSubtreeIntoContainer=function(s,a,d,m){if(!vg(d))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return yg(s,a,d,!1,m)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var cS;function nE(){if(cS)return Qy.exports;cS=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(e){console.error(e)}}return u(),Qy.exports=$P(),Qy.exports}var uS;function VP(){if(uS)return wg;uS=1;var u=nE();return wg.createRoot=u.createRoot,wg.hydrateRoot=u.hydrateRoot,wg}var WP=VP();const GP=tE(WP);nE();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nf(){return nf=Object.assign?Object.assign.bind():function(u){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(u[n]=t[n])}return u},nf.apply(this,arguments)}var Fo;(function(u){u.Pop="POP",u.Push="PUSH",u.Replace="REPLACE"})(Fo||(Fo={}));const hS="popstate";function XP(u){u===void 0&&(u={});function e(n,r){let{pathname:i,search:l,hash:c}=n.location;return cx("",{pathname:i,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:hv(r)}return KP(e,t,null,u)}function Ge(u,e){if(u===!1||u===null||typeof u>"u")throw new Error(e)}function Ww(u,e){if(!u){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YP(){return Math.random().toString(36).substr(2,8)}function dS(u,e){return{usr:u.state,key:u.key,idx:e}}function cx(u,e,t,n){return t===void 0&&(t=null),nf({pathname:typeof u=="string"?u:u.pathname,search:"",hash:""},typeof e=="string"?Hh(e):e,{state:t,key:e&&e.key||n||YP()})}function hv(u){let{pathname:e="/",search:t="",hash:n=""}=u;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Hh(u){let e={};if(u){let t=u.indexOf("#");t>=0&&(e.hash=u.substr(t),u=u.substr(0,t));let n=u.indexOf("?");n>=0&&(e.search=u.substr(n),u=u.substr(0,n)),u&&(e.pathname=u)}return e}function KP(u,e,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:i=!1}=n,l=r.history,c=Fo.Pop,h=null,f=p();f==null&&(f=0,l.replaceState(nf({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function g(){c=Fo.Pop;let E=p(),T=E==null?null:E-f;f=E,h&&h({action:c,location:b.location,delta:T})}function v(E,T){c=Fo.Push;let R=cx(b.location,E,T);f=p()+1;let N=dS(R,f),D=b.createHref(R);try{l.pushState(N,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(D)}i&&h&&h({action:c,location:b.location,delta:1})}function x(E,T){c=Fo.Replace;let R=cx(b.location,E,T);f=p();let N=dS(R,f),D=b.createHref(R);l.replaceState(N,"",D),i&&h&&h({action:c,location:b.location,delta:0})}function A(E){let T=r.location.origin!=="null"?r.location.origin:r.location.href,R=typeof E=="string"?E:hv(E);return R=R.replace(/ $/,"%20"),Ge(T,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,T)}let b={get action(){return c},get location(){return u(r,l)},listen(E){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(hS,g),h=E,()=>{r.removeEventListener(hS,g),h=null}},createHref(E){return e(r,E)},createURL:A,encodeLocation(E){let T=A(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:x,go(E){return l.go(E)}};return b}var fS;(function(u){u.data="data",u.deferred="deferred",u.redirect="redirect",u.error="error"})(fS||(fS={}));function QP(u,e,t){return t===void 0&&(t="/"),JP(u,e,t)}function JP(u,e,t,n){let r=typeof e=="string"?Hh(e):e,i=Gw(r.pathname||"/",t);if(i==null)return null;let l=rE(u);ZP(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=uk(i);c=ok(l[h],f)}return c}function rE(u,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let r=(i,l,c)=>{let h={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};h.relativePath.startsWith("/")&&(Ge(h.relativePath.startsWith(n),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(n.length));let f=jo([n,h.relativePath]),p=t.concat(h);i.children&&i.children.length>0&&(Ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),rE(i.children,e,p,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:ik(f,i.index),routesMeta:p})};return u.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))r(i,l);else for(let h of sE(i.path))r(i,l,h)}),e}function sE(u){let e=u.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return r?[i,""]:[i];let l=sE(n.join("/")),c=[];return c.push(...l.map(h=>h===""?i:[i,h].join("/"))),r&&c.push(...l),c.map(h=>u.startsWith("/")&&h===""?"/":h)}function ZP(u){u.sort((e,t)=>e.score!==t.score?t.score-e.score:ak(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const qP=/^:[\w-]+$/,tk=3,ek=2,nk=1,rk=10,sk=-2,pS=u=>u==="*";function ik(u,e){let t=u.split("/"),n=t.length;return t.some(pS)&&(n+=sk),e&&(n+=ek),t.filter(r=>!pS(r)).reduce((r,i)=>r+(qP.test(i)?tk:i===""?nk:rk),n)}function ak(u,e){return u.length===e.length&&u.slice(0,-1).every((n,r)=>n===e[r])?u[u.length-1]-e[e.length-1]:0}function ok(u,e,t){let{routesMeta:n}=u,r={},i="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],f=c===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=lk({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),v=h.route;if(!g)return null;Object.assign(r,g.params),l.push({params:r,pathname:jo([i,g.pathname]),pathnameBase:mk(jo([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=jo([i,g.pathnameBase]))}return l}function lk(u,e){typeof u=="string"&&(u={path:u,caseSensitive:!1,end:!0});let[t,n]=ck(u.path,u.caseSensitive,u.end),r=e.match(t);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((f,p,g)=>{let{paramName:v,isOptional:x}=p;if(v==="*"){let b=c[g]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const A=c[g];return x&&!A?f[v]=void 0:f[v]=(A||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:u}}function ck(u,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ww(u==="*"||!u.endsWith("*")||u.endsWith("/*"),'Route path "'+u+'" will be treated as if it were '+('"'+u.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+u.replace(/\*$/,"/*")+'".'));let n=[],r="^"+u.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return u.endsWith("*")?(n.push({paramName:"*"}),r+=u==="*"||u==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":u!==""&&u!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function uk(u){try{return u.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ww(!1,'The URL path "'+u+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),u}}function Gw(u,e){if(e==="/")return u;if(!u.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=u.charAt(t);return n&&n!=="/"?null:u.slice(t)||"/"}const hk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dk=u=>hk.test(u);function fk(u,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:r=""}=typeof u=="string"?Hh(u):u,i;if(t)if(dk(t))i=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Ww(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+t))}t.startsWith("/")?i=mS(t.substring(1),"/"):i=mS(t,e)}else i=e;return{pathname:i,search:gk(n),hash:vk(r)}}function mS(u,e){let t=e.replace(/\/+$/,"").split("/");return u.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function qy(u,e,t,n){return"Cannot include a '"+u+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pk(u){return u.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function iE(u,e){let t=pk(u);return e?t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function aE(u,e,t,n){n===void 0&&(n=!1);let r;typeof u=="string"?r=Hh(u):(r=nf({},u),Ge(!r.pathname||!r.pathname.includes("?"),qy("?","pathname","search",r)),Ge(!r.pathname||!r.pathname.includes("#"),qy("#","pathname","hash",r)),Ge(!r.search||!r.search.includes("#"),qy("#","search","hash",r)));let i=u===""||r.pathname==="",l=i?"/":r.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}c=g>=0?e[g]:"/"}let h=fk(r,c),f=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}const jo=u=>u.join("/").replace(/\/\/+/g,"/"),mk=u=>u.replace(/\/+$/,"").replace(/^\/*/,"/"),gk=u=>!u||u==="?"?"":u.startsWith("?")?u:"?"+u,vk=u=>!u||u==="#"?"":u.startsWith("#")?u:"#"+u;function yk(u){return u!=null&&typeof u.status=="number"&&typeof u.statusText=="string"&&typeof u.internal=="boolean"&&"data"in u}const oE=["post","put","patch","delete"];new Set(oE);const xk=["get",...oE];new Set(xk);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rf(){return rf=Object.assign?Object.assign.bind():function(u){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(u[n]=t[n])}return u},rf.apply(this,arguments)}const Xw=et.createContext(null),wk=et.createContext(null),Sc=et.createContext(null),Vv=et.createContext(null),zo=et.createContext({outlet:null,matches:[],isDataRoute:!1}),lE=et.createContext(null);function bk(u,e){let{relative:t}=e===void 0?{}:e;im()||Ge(!1);let{basename:n,navigator:r}=et.useContext(Sc),{hash:i,pathname:l,search:c}=uE(u,{relative:t}),h=l;return n!=="/"&&(h=l==="/"?n:jo([n,l])),r.createHref({pathname:h,search:c,hash:i})}function im(){return et.useContext(Vv)!=null}function $h(){return im()||Ge(!1),et.useContext(Vv).location}function cE(u){et.useContext(Sc).static||et.useLayoutEffect(u)}function am(){let{isDataRoute:u}=et.useContext(zo);return u?Ok():Ak()}function Ak(){im()||Ge(!1);let u=et.useContext(Xw),{basename:e,future:t,navigator:n}=et.useContext(Sc),{matches:r}=et.useContext(zo),{pathname:i}=$h(),l=JSON.stringify(iE(r,t.v7_relativeSplatPath)),c=et.useRef(!1);return cE(()=>{c.current=!0}),et.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){n.go(f);return}let g=aE(f,JSON.parse(l),i,p.relative==="path");u==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:jo([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,i,u])}function Sk(){let{matches:u}=et.useContext(zo),e=u[u.length-1];return e?e.params:{}}function uE(u,e){let{relative:t}=e===void 0?{}:e,{future:n}=et.useContext(Sc),{matches:r}=et.useContext(zo),{pathname:i}=$h(),l=JSON.stringify(iE(r,n.v7_relativeSplatPath));return et.useMemo(()=>aE(u,JSON.parse(l),i,t==="path"),[u,l,i,t])}function Ek(u,e){return Ck(u,e)}function Ck(u,e,t,n){im()||Ge(!1);let{navigator:r}=et.useContext(Sc),{matches:i}=et.useContext(zo),l=i[i.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let f=$h(),p;if(e){var g;let E=typeof e=="string"?Hh(e):e;h==="/"||(g=E.pathname)!=null&&g.startsWith(h)||Ge(!1),p=E}else p=f;let v=p.pathname||"/",x=v;if(h!=="/"){let E=h.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let A=QP(u,{pathname:x}),b=Rk(A&&A.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:jo([h,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:jo([h,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,t,n);return e&&b?et.createElement(Vv.Provider,{value:{location:rf({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Fo.Pop}},b):b}function Tk(){let u=Lk(),e=yk(u)?u.status+" "+u.statusText:u instanceof Error?u.message:JSON.stringify(u),t=u instanceof Error?u.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return et.createElement(et.Fragment,null,et.createElement("h2",null,"Unexpected Application Error!"),et.createElement("h3",{style:{fontStyle:"italic"}},e),t?et.createElement("pre",{style:r},t):null,null)}const Pk=et.createElement(Tk,null);class kk extends et.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?et.createElement(zo.Provider,{value:this.props.routeContext},et.createElement(lE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nk(u){let{routeContext:e,match:t,children:n}=u,r=et.useContext(Xw);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),et.createElement(zo.Provider,{value:e},n)}function Rk(u,e,t,n){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),u==null){var i;if(!t)return null;if(t.errors)u=t.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)u=t.matches;else return null}let l=u,c=(r=t)==null?void 0:r.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);p>=0||Ge(!1),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,f=-1;if(t&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:v,errors:x}=t,A=g.route.loader&&v[g.route.id]===void 0&&(!x||x[g.route.id]===void 0);if(g.route.lazy||A){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,g,v)=>{let x,A=!1,b=null,E=null;t&&(x=c&&g.route.id?c[g.route.id]:void 0,b=g.route.errorElement||Pk,h&&(f<0&&v===0?(Fk("route-fallback"),A=!0,E=null):f===v&&(A=!0,E=g.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,v+1)),R=()=>{let N;return x?N=b:A?N=E:g.route.Component?N=et.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=p,et.createElement(Nk,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:t!=null},children:N})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?et.createElement(kk,{location:t.location,revalidation:t.revalidation,component:b,error:x,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}var hE=(function(u){return u.UseBlocker="useBlocker",u.UseRevalidator="useRevalidator",u.UseNavigateStable="useNavigate",u})(hE||{}),dE=(function(u){return u.UseBlocker="useBlocker",u.UseLoaderData="useLoaderData",u.UseActionData="useActionData",u.UseRouteError="useRouteError",u.UseNavigation="useNavigation",u.UseRouteLoaderData="useRouteLoaderData",u.UseMatches="useMatches",u.UseRevalidator="useRevalidator",u.UseNavigateStable="useNavigate",u.UseRouteId="useRouteId",u})(dE||{});function Ik(u){let e=et.useContext(Xw);return e||Ge(!1),e}function Mk(u){let e=et.useContext(wk);return e||Ge(!1),e}function Dk(u){let e=et.useContext(zo);return e||Ge(!1),e}function fE(u){let e=Dk(),t=e.matches[e.matches.length-1];return t.route.id||Ge(!1),t.route.id}function Lk(){var u;let e=et.useContext(lE),t=Mk(),n=fE();return e!==void 0?e:(u=t.errors)==null?void 0:u[n]}function Ok(){let{router:u}=Ik(hE.UseNavigateStable),e=fE(dE.UseNavigateStable),t=et.useRef(!1);return cE(()=>{t.current=!0}),et.useCallback(function(r,i){i===void 0&&(i={}),t.current&&(typeof r=="number"?u.navigate(r):u.navigate(r,rf({fromRouteId:e},i)))},[u,e])}const gS={};function Fk(u,e,t){gS[u]||(gS[u]=!0)}function jk(u,e){u==null||u.v7_startTransition,u==null||u.v7_relativeSplatPath}function Ei(u){Ge(!1)}function Bk(u){let{basename:e="/",children:t=null,location:n,navigationType:r=Fo.Pop,navigator:i,static:l=!1,future:c}=u;im()&&Ge(!1);let h=e.replace(/^\/*/,"/"),f=et.useMemo(()=>({basename:h,navigator:i,static:l,future:rf({v7_relativeSplatPath:!1},c)}),[h,c,i,l]);typeof n=="string"&&(n=Hh(n));let{pathname:p="/",search:g="",hash:v="",state:x=null,key:A="default"}=n,b=et.useMemo(()=>{let E=Gw(p,h);return E==null?null:{location:{pathname:E,search:g,hash:v,state:x,key:A},navigationType:r}},[h,p,g,v,x,A,r]);return b==null?null:et.createElement(Sc.Provider,{value:f},et.createElement(Vv.Provider,{children:t,value:b}))}function _k(u){let{children:e,location:t}=u;return Ek(ux(e),t)}new Promise(()=>{});function ux(u,e){e===void 0&&(e=[]);let t=[];return et.Children.forEach(u,(n,r)=>{if(!et.isValidElement(n))return;let i=[...e,r];if(n.type===et.Fragment){t.push.apply(t,ux(n.props.children,i));return}n.type!==Ei&&Ge(!1),!n.props.index||!n.props.children||Ge(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=ux(n.props.children,i)),t.push(l)}),t}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hx(){return hx=Object.assign?Object.assign.bind():function(u){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(u[n]=t[n])}return u},hx.apply(this,arguments)}function Uk(u,e){if(u==null)return{};var t={},n=Object.keys(u),r,i;for(i=0;i<n.length;i++)r=n[i],!(e.indexOf(r)>=0)&&(t[r]=u[r]);return t}function zk(u){return!!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)}function Hk(u,e){return u.button===0&&(!e||e==="_self")&&!zk(u)}const $k=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Vk="6";try{window.__reactRouterVersion=Vk}catch{}const Wk="startTransition",vS=UP[Wk];function Gk(u){let{basename:e,children:t,future:n,window:r}=u,i=et.useRef();i.current==null&&(i.current=XP({window:r,v5Compat:!0}));let l=i.current,[c,h]=et.useState({action:l.action,location:l.location}),{v7_startTransition:f}=n||{},p=et.useCallback(g=>{f&&vS?vS(()=>h(g)):h(g)},[h,f]);return et.useLayoutEffect(()=>l.listen(p),[l,p]),et.useEffect(()=>jk(n),[n]),et.createElement(Bk,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:n})}const Xk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bn=et.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:i,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:g}=e,v=Uk(e,$k),{basename:x}=et.useContext(Sc),A,b=!1;if(typeof f=="string"&&Yk.test(f)&&(A=f,Xk))try{let N=new URL(window.location.href),D=f.startsWith("//")?new URL(N.protocol+f):new URL(f),M=Gw(D.pathname,x);D.origin===N.origin&&M!=null?f=M+D.search+D.hash:b=!0}catch{}let E=bk(f,{relative:r}),T=Kk(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:r,viewTransition:g});function R(N){n&&n(N),N.defaultPrevented||T(N)}return et.createElement("a",hx({},v,{href:A||E,onClick:b||i?n:R,ref:t,target:h}))});var yS;(function(u){u.UseScrollRestoration="useScrollRestoration",u.UseSubmit="useSubmit",u.UseSubmitFetcher="useSubmitFetcher",u.UseFetcher="useFetcher",u.useViewTransitionState="useViewTransitionState"})(yS||(yS={}));var xS;(function(u){u.UseFetcher="useFetcher",u.UseFetchers="useFetchers",u.UseScrollRestoration="useScrollRestoration"})(xS||(xS={}));function Kk(u,e){let{target:t,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:c}=e===void 0?{}:e,h=am(),f=$h(),p=uE(u,{relative:l});return et.useCallback(g=>{if(Hk(g,t)){g.preventDefault();let v=n!==void 0?n:hv(f)===hv(p);h(u,{replace:v,state:r,preventScrollReset:i,relative:l,viewTransition:c})}},[f,h,p,n,r,t,u,i,l,c])}const Yw="/assets/logo-SfJMyQRi.jpeg",wS=[{label:"The Challenge",href:"/#challenge"},{label:"Our Approach",href:"/#approach"},{label:"Value",href:"/#value"},{label:"Who We Work With",href:"/#who-we-work-with"},{label:"Contact",href:"/#contact"}];function Qk(){const[u,e]=et.useState(!1),t=$h(),n=t.pathname==="/expert-intake",r=t.pathname.startsWith("/admin"),i=l=>{t.pathname==="/"&&(l.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}))};return C.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-xl border-b border-slate-200/60 shadow-soft",children:C.jsxs("nav",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[C.jsxs("div",{className:"flex items-center justify-between h-18 md:h-20",children:[C.jsxs(Bn,{to:"/",onClick:i,className:"font-display font-bold text-xl text-medical-navy tracking-tight flex items-center gap-1.5",children:[C.jsx("span",{className:"w-8 h-8 rounded-lg bg-primary-600 flex items-center justify-center",children:C.jsx("img",{src:Yw,alt:"VeriDx.ai",className:"w-full h-full"})}),C.jsxs("span",{children:["VeriDx",C.jsx("span",{className:"text-primary-600",children:".ai"})]})]}),C.jsxs("ul",{className:"hidden md:flex items-center gap-1",children:[wS.map(l=>C.jsx("li",{children:l.label==="Contact"?C.jsx(Bn,{to:"/expert-intake",className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${n?"text-primary-600 bg-primary-50":"text-slate-600 hover:text-primary-600 hover:bg-primary-50/80"}`,children:"Expert Intake"}):C.jsx("a",{href:l.href,className:"px-4 py-2 rounded-lg text-slate-600 hover:text-primary-600 hover:bg-primary-50/80 text-sm font-semibold transition-all",children:l.label})},l.href)),C.jsx("li",{children:C.jsx(Bn,{to:"/admin",className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${r?"text-primary-600 bg-primary-50":"text-slate-600 hover:text-primary-600 hover:bg-primary-50/80"}`,children:"Admin"})}),C.jsx("li",{children:C.jsx("a",{href:"/#contact",className:"px-4 py-2 rounded-lg text-slate-600 hover:text-primary-600 hover:bg-primary-50/80 text-sm font-semibold transition-all",children:"Contact"})})]}),C.jsx("button",{type:"button",onClick:()=>e(!u),className:"md:hidden p-2.5 rounded-xl text-slate-600 hover:bg-slate-100 hover:text-primary-600 transition-colors","aria-label":"Toggle menu",children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u?C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),u&&C.jsx("div",{className:"md:hidden py-5 border-t border-slate-200/80 bg-medical-mist/50 -mx-4 px-4 rounded-b-2xl",children:C.jsxs("ul",{className:"flex flex-col gap-1",children:[wS.map(l=>C.jsx("li",{children:l.label==="Contact"?C.jsx(Bn,{to:"/expert-intake",onClick:()=>e(!1),className:`block py-3 px-4 rounded-xl font-semibold ${n?"text-primary-600 bg-primary-50":"text-slate-700 hover:bg-primary-50"}`,children:"Expert Intake"}):C.jsx("a",{href:l.href,onClick:()=>e(!1),className:"block py-3 px-4 rounded-xl text-slate-700 hover:bg-primary-50 font-semibold",children:l.label})},l.href)),C.jsx("li",{children:C.jsx(Bn,{to:"/admin",onClick:()=>e(!1),className:`block py-3 px-4 rounded-xl font-semibold ${r?"text-primary-600 bg-primary-50":"text-slate-700 hover:bg-primary-50"}`,children:"Admin"})}),C.jsx("li",{children:C.jsx("a",{href:"/#contact",onClick:()=>e(!1),className:"block py-3 px-4 rounded-xl text-slate-700 hover:bg-primary-50 font-semibold",children:"Contact"})})]})})]})})}function Jk(){return C.jsx("footer",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-medical-navy text-slate-300",children:C.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-6",children:[C.jsxs(Bn,{to:"/",className:"font-display font-bold text-xl text-white flex items-center gap-2",children:[C.jsx("span",{className:"w-8 h-8 rounded-lg bg-primary-600 flex items-center justify-center",children:C.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),"VeriDx",C.jsx("span",{className:"text-primary-400",children:".ai"})]}),C.jsx("p",{className:"text-sm text-slate-400 text-center sm:text-left max-w-md",children:"The Truth, Diagnosed  AI-Powered Intelligence for Medical Malpractice"}),C.jsx("a",{href:"mailto:hello@veridx.ai",className:"text-sm font-semibold text-primary-400 hover:text-primary-300 transition-colors",children:"hello@veridx.ai"})]})})}function Zk(){return C.jsxs("section",{className:"relative min-h-screen flex items-center pt-24 pb-20 px-4 sm:px-6 lg:px-8 overflow-x-hidden",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 via-white to-slate-50","aria-hidden":"true"}),C.jsx("div",{className:"absolute inset-0 bg-dots-pattern opacity-30","aria-hidden":"true"}),C.jsx("div",{className:"absolute -top-24 right-[-10%] w-80 h-80 bg-primary-200/30 rounded-full blur-3xl","aria-hidden":"true"}),C.jsx("div",{className:"absolute bottom-0 left-[-10%] w-72 h-72 bg-primary-100/40 rounded-full blur-3xl","aria-hidden":"true"}),C.jsxs("div",{className:"relative max-w-6xl mx-auto w-full lg:grid lg:grid-cols-[minmax(0,1.2fr)_minmax(0,1fr)] lg:items-center gap-10 lg:gap-14",children:[C.jsxs("div",{className:"w-full text-center lg:text-left",children:[C.jsxs("div",{className:"inline-flex flex-wrap items-center justify-center lg:justify-start gap-2",children:[C.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/80 backdrop-blur border border-slate-200/70 shadow-soft text-xs font-bold text-slate-700",children:[C.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-600"}),"AI-Powered Medical Intelligence"]}),C.jsx("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-primary-50/80 border border-primary-100 text-xs font-bold text-primary-800",children:"Founded by physicians + technical experts"})]}),C.jsxs("h1",{className:"mt-8 font-display font-extrabold text-4xl sm:text-5xl md:text-6xl lg:text-6xl xl:text-6xl text-medical-navy tracking-tight leading-tight",children:[C.jsxs("span",{className:"block",children:["VeriDx",C.jsx("span",{className:"text-primary-600",children:".ai"})]}),C.jsx("span",{className:`mt-2 inline-block align-baseline text-xl sm:text-2xl md:text-3xl lg:text-3xl xl:text-4xl
                         font-extrabold tracking-tight whitespace-nowrap
                         leading-snug pb-1
                         bg-clip-text text-transparent
                         bg-gradient-to-r from-primary-700 via-primary-600 to-primary-500`,children:"The Truth, Diagnosed"})]}),C.jsx("p",{className:"mt-5 text-lg sm:text-xl text-slate-700 font-semibold max-w-2xl mx-auto lg:mx-0",children:"AI-Powered intelligence for medical malpracticeturning complex, fragmented records into structured case insight."}),C.jsx("p",{className:"mt-6 max-w-xl mx-auto lg:mx-0 text-slate-600 text-base sm:text-lg leading-relaxed",children:"Designed to bring clarity to complex medical records, highlight documentation risk, and support more defensible review decisions before issues escalate."}),C.jsxs("div",{className:"mt-10 flex flex-wrap justify-center lg:justify-start gap-4",children:[C.jsxs("a",{href:"#challenge",className:"inline-flex items-center gap-2 px-7 py-3.5 rounded-xl bg-primary-600 text-white font-bold shadow-soft-lg shadow-primary-600/20 hover:bg-primary-700 hover:shadow-glow transition-all duration-200",children:["Explore the Challenge",C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),C.jsxs("a",{href:"/expert-intake",className:"inline-flex items-center gap-2 px-7 py-3.5 rounded-xl border-2 border-primary-200 text-primary-800 font-bold hover:border-primary-400 hover:bg-primary-50 transition-all duration-200",children:["Expert intake",C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),C.jsx("a",{href:"#contact",className:"inline-flex items-center px-7 py-3.5 rounded-xl border-2 border-slate-300 text-slate-700 font-bold hover:border-primary-500 hover:text-primary-600 hover:bg-primary-50/50 transition-all duration-200",children:"Contact"})]}),C.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-center lg:justify-start gap-x-6 gap-y-2 text-xs sm:text-sm text-slate-500",children:[C.jsx("span",{children:"Med-legal  Insurance  Independent review  Oversight"}),C.jsx("span",{className:"hidden sm:inline-block h-1 w-1 rounded-full bg-slate-300"}),C.jsx("span",{className:"text-slate-500",children:"Structured, case-ready insightnot diagnosis."})]})]}),C.jsx("div",{className:"mt-10 lg:mt-0",children:C.jsxs("div",{className:"relative mx-auto max-w-sm rounded-3xl bg-white/80 backdrop-blur border border-slate-200/80 shadow-soft-lg overflow-hidden",children:[C.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-primary-500 via-primary-400 to-primary-600"}),C.jsxs("div",{className:"p-6 sm:p-7",children:[C.jsxs("div",{className:"flex items-center justify-between gap-3",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-slate-500",children:"Case overview"}),C.jsx("p",{className:"mt-1 text-sm font-semibold text-medical-navy",children:"Documentation integrity snapshot"})]}),C.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-primary-50 px-3 py-1 text-[11px] font-semibold text-primary-700",children:[C.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-500"}),"Early review"]})]}),C.jsxs("div",{className:"mt-5 space-y-3",children:[C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-emerald-500"}),C.jsxs("div",{children:[C.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Record coherence"}),C.jsx("p",{className:"text-xs text-slate-500",children:"Key encounters and timelines aligned; no major gaps detected."})]})]}),C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-amber-400"}),C.jsxs("div",{children:[C.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Documentation risk signals"}),C.jsx("p",{className:"text-xs text-slate-500",children:"3 areas flagged for inconsistent charting and missing follow-up notes."})]})]}),C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-primary-500"}),C.jsxs("div",{children:[C.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Expert review focus"}),C.jsx("p",{className:"text-xs text-slate-500",children:"Suggested focus on ED triage, handoff documentation, and discharge instructions."})]})]})]}),C.jsxs("div",{className:"mt-5 border-t border-slate-200 pt-4 flex items-center justify-between text-[11px] text-slate-500",children:[C.jsx("span",{children:"Structured from thousands of record pages"}),C.jsxs("span",{className:"inline-flex items-center gap-1",children:[C.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-primary-500"}),C.jsx("span",{children:"Signal, not judgment"})]})]})]})]})})]})]})}const qk=["Not understanding the crux of the case","Increased malpractice exposure","Wasting time and money on the wrong experts","Escalating claims and settlement costs"];function tN(){return C.jsx("section",{id:"challenge",className:"py-20 sm:py-24 lg:py-28 px-4 sm:px-6 lg:px-8 bg-medical-mist bg-grid-pattern",children:C.jsxs("div",{className:"max-w-4xl mx-auto",children:[C.jsx("span",{className:"section-label",children:"The Problem"}),C.jsx("h2",{className:"font-display font-bold text-3xl sm:text-4xl lg:text-5xl text-medical-navy",children:"The Challenge"}),C.jsx("p",{className:"mt-6 text-slate-600 text-lg sm:text-xl leading-relaxed",children:"Medical records are foundational to legal, insurance, and regulatory decisions. When documentation is incomplete, inconsistent, or poorly understood, it can lead to:"}),C.jsx("ul",{className:"mt-10 space-y-5",children:qk.map((u,e)=>C.jsxs("li",{className:"flex items-start gap-4 p-4 sm:p-5 rounded-2xl bg-white border border-slate-200/80 shadow-soft hover:border-primary-200 hover:shadow-soft-lg transition-all duration-200",children:[C.jsx("span",{className:"flex-shrink-0 w-10 h-10 rounded-xl bg-primary-600 text-white flex items-center justify-center font-bold text-sm",children:e+1}),C.jsx("span",{className:"text-slate-700 text-base sm:text-lg font-medium pt-1.5",children:u})]},e))}),C.jsx("p",{className:"mt-10 p-5 sm:p-6 rounded-2xl bg-primary-50/80 border border-primary-100 text-slate-700 text-base sm:text-lg leading-relaxed font-medium",children:"As case volumes grow, manual review alone struggles to surface these risks early enough."})]})})}const eN=["Bring clarity to complex and fragmented medical records","Surface signals related to documentation quality, consistency, and support","Enable more defensible review decisions before issues escalate","Augment expert judgment with structured insight"];function nN(){return C.jsx("section",{id:"approach",className:"py-20 sm:py-24 lg:py-28 px-4 sm:px-6 lg:px-8 bg-white",children:C.jsxs("div",{className:"max-w-4xl mx-auto",children:[C.jsx("span",{className:"section-label",children:"How We Help"}),C.jsx("h2",{className:"font-display font-bold text-3xl sm:text-4xl lg:text-5xl text-medical-navy",children:"Our Approach"}),C.jsx("p",{className:"mt-6 text-slate-600 text-lg sm:text-xl leading-relaxed",children:"VeriDx.ai applies advanced document intelligence to support early, structured understanding of medical malpractice documents."}),C.jsx("p",{className:"mt-4 text-slate-600 text-lg leading-relaxed",children:"At a high level, the platform is designed to:"}),C.jsx("ul",{className:"mt-10 space-y-4",children:eN.map((u,e)=>C.jsxs("li",{className:"flex items-start gap-4",children:[C.jsx("span",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-primary-600 text-white flex items-center justify-center font-bold text-sm",children:e+1}),C.jsx("span",{className:"text-slate-700 text-base sm:text-lg font-medium pt-1.5",children:u})]},e))}),C.jsx("div",{className:"mt-10 p-5 sm:p-6 rounded-2xl bg-primary-950 text-primary-50 border border-primary-800",children:C.jsx("p",{className:"text-base sm:text-lg leading-relaxed italic",children:"The objective is risk awareness and prevention, not diagnosis or legal judgment."})})]})})}const rN=[{title:"Risk & Liability Awareness",description:"Identify documentation patterns and gaps that may increase downstream exposure  early in the review lifecycle.",icon:C.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{title:"Stronger Defensibility",description:"Support decisions with consistent, structured evidence review that holds up under scrutiny.",icon:C.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})})},{title:"Higher Documentation Integrity",description:"Improve confidence in the completeness, coherence, and supportability of medical records used in decisions.",icon:C.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{title:"Consistency at Scale",description:"Apply uniform analytical rigor across cases, reducing variability that often fuels disputes.",icon:C.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})})}];function sN(){return C.jsx("section",{id:"value",className:"py-20 sm:py-24 lg:py-28 px-4 sm:px-6 lg:px-8 bg-primary-50/50",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsx("span",{className:"section-label",children:"What We Deliver"}),C.jsx("h2",{className:"font-display font-bold text-3xl sm:text-4xl lg:text-5xl text-medical-navy",children:"The Value We Create"}),C.jsx("div",{className:"mt-12 grid sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8",children:rN.map((u,e)=>C.jsxs("div",{className:"group p-6 sm:p-7 rounded-2xl bg-white border border-slate-200/80 shadow-soft hover:shadow-soft-lg hover:border-primary-200 hover:-translate-y-1 transition-all duration-200",children:[C.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary-600 text-white flex items-center justify-center group-hover:bg-primary-700 transition-colors",children:u.icon}),C.jsx("h3",{className:"mt-5 font-display font-bold text-lg text-medical-navy",children:u.title}),C.jsx("p",{className:"mt-3 text-slate-600 text-sm sm:text-base leading-relaxed",children:u.description})]},e))})]})})}const iN=["Med-Legal and litigation support teams","Insurance and claims organizations","Independent medical review entities","Oversight, compliance, and quality assurance groups"];function aN(){return C.jsx("section",{id:"who-we-work-with",className:"py-20 sm:py-24 lg:py-28 px-4 sm:px-6 lg:px-8 bg-white",children:C.jsxs("div",{className:"max-w-4xl mx-auto",children:[C.jsx("span",{className:"section-label",children:"Partners"}),C.jsx("h2",{className:"font-display font-bold text-3xl sm:text-4xl lg:text-5xl text-medical-navy",children:"Who We Work With"}),C.jsx("p",{className:"mt-6 text-slate-600 text-lg sm:text-xl leading-relaxed",children:"VeriDx.ai supports organizations where medical evidence quality directly impacts risk and outcomes, including:"}),C.jsx("ul",{className:"mt-10 space-y-4",children:iN.map((u,e)=>C.jsxs("li",{className:"flex items-center gap-4 p-4 sm:p-5 rounded-xl bg-medical-mist border border-slate-200/60 hover:border-primary-200 hover:bg-primary-50/30 transition-all",children:[C.jsx("span",{className:"flex-shrink-0 w-2.5 h-2.5 rounded-full bg-primary-600"}),C.jsx("span",{className:"text-slate-700 text-base sm:text-lg font-medium",children:u})]},e))}),C.jsx("p",{className:"mt-10 p-5 rounded-xl bg-primary-50 border border-primary-100 text-slate-700 text-base sm:text-lg italic font-medium",children:"Engagements are selective and use-case driven."})]})})}function oN(){return C.jsx("section",{className:"py-20 sm:py-24 lg:py-28 px-4 sm:px-6 lg:px-8 bg-primary-950",children:C.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[C.jsx("span",{className:"section-label text-primary-300",children:"Current Status"}),C.jsx("h2",{className:"font-display font-bold text-3xl sm:text-4xl text-white mt-2",children:"Working With Early Partners"}),C.jsx("p",{className:"mt-6 text-primary-100 text-lg leading-relaxed",children:"VeriDx.ai is actively working with a limited number of early partners."}),C.jsx("p",{className:"mt-4 text-primary-200 text-base sm:text-lg",children:"Public demonstrations are not currently available."})]})})}function lN(){return C.jsx("section",{id:"contact",className:"py-20 sm:py-24 lg:py-28 px-4 sm:px-6 lg:px-8 bg-medical-mist bg-grid-pattern",children:C.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[C.jsx("span",{className:"section-label",children:"Get in Touch"}),C.jsx("h2",{className:"font-display font-bold text-3xl sm:text-4xl lg:text-5xl text-medical-navy",children:"Contact"}),C.jsx("p",{className:"mt-6 text-slate-600 text-lg",children:"For confidential discussions:"}),C.jsxs("a",{href:"mailto:hello@veridx.ai",className:"mt-6 inline-flex items-center gap-2 px-8 py-4 rounded-xl bg-primary-600 text-white font-bold shadow-soft-lg shadow-primary-600/20 hover:bg-primary-700 hover:shadow-glow transition-all duration-200",children:[C.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"hello@veridx.ai"]})]})})}function cN(){return C.jsx("section",{id:"expert-intake",className:"py-20 sm:py-24 lg:py-28 px-4 sm:px-6 lg:px-8 bg-white",children:C.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[C.jsx("span",{className:"section-label",children:"Join Our Network"}),C.jsx("h2",{className:"font-display font-bold text-3xl sm:text-4xl lg:text-5xl text-medical-navy",children:"Medical Expert Intake"}),C.jsx("p",{className:"mt-6 text-slate-600 text-lg sm:text-xl leading-relaxed",children:"Are you a medical expert interested in working with VeriDx.ai? Submit your name, contact details, and CV to get started."}),C.jsxs(Bn,{to:"/expert-intake",className:"mt-10 inline-flex items-center gap-2 px-8 py-4 rounded-xl bg-primary-600 text-white font-bold shadow-soft-lg shadow-primary-600/20 hover:bg-primary-700 hover:shadow-glow transition-all duration-200",children:["Start intake",C.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})})}function uN(){return C.jsxs("main",{children:[C.jsx(Zk,{}),C.jsx(tN,{}),C.jsx(nN,{}),C.jsx(sN,{}),C.jsx(aN,{}),C.jsx(oN,{}),C.jsx(cN,{}),C.jsx(lN,{})]})}function hN(){const[u,e]=et.useState(""),[t,n]=et.useState(""),[r,i]=et.useState({}),[l,c]=et.useState(!1),h=()=>{const p={};return u.trim()||(p.username="Username is required"),t||(p.password="Password is required"),i(p),Object.keys(p).length===0},f=p=>{p.preventDefault(),h()&&(c(!0),setTimeout(()=>c(!1),500))};return C.jsx("div",{className:"min-h-screen bg-medical-mist bg-grid-pattern pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs(Bn,{to:"/",className:"inline-flex items-center gap-2 text-slate-600 hover:text-primary-600 text-sm font-semibold mb-10 transition-colors",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to home"]}),C.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 lg:gap-12",children:[C.jsxs("div",{className:"lg:col-span-6 space-y-7",children:[C.jsxs("div",{children:[C.jsxs("div",{className:"badge",children:[C.jsx("span",{className:"size-2 rounded-full bg-primary-600"}),C.jsx("span",{children:"Medical Expert Panel intake"})]}),C.jsx("h1",{className:"mt-4 text-balance text-3xl font-semibold tracking-tight text-slate-900 sm:text-4xl",children:"Share your details to be considered for our confidential panel."}),C.jsx("p",{className:"mt-4 max-w-2xl text-pretty text-base leading-relaxed text-slate-600 sm:text-lg",children:"Engagements with medical experts are selective and case-based. All fields below are required so our team can understand your background and areas of expertise."})]}),C.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-slate-50 p-7",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"How we work with experts"}),C.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-600",children:"Participation on the VeriDx.ai Medical Expert Panel is not automatic. This intake helps us understand your clinical background, specialties, and experience with medical malpractice or documentation review."}),C.jsxs("ul",{className:"mt-4 grid gap-2 text-sm text-slate-600",children:[C.jsx("li",{children:" Focus on documentation quality and medical evidence"}),C.jsx("li",{children:" Engagements scoped to specific cases and questions"}),C.jsx("li",{children:" Materials and discussions handled confidentially"})]}),C.jsx("p",{className:"mt-4 fineprint",children:"Completing this form does not create an engagement, attorney-client relationship, or guarantee future work."})]})]}),C.jsx("div",{className:"lg:col-span-6 mt-20",children:C.jsxs("div",{className:"p-8 sm:p-10 rounded-3xl bg-white border border-slate-200/80 shadow-soft-lg",children:[C.jsxs("form",{onSubmit:f,className:"space-y-6",children:[C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"username",className:"block text-sm font-bold text-slate-700",children:["Username ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"username",name:"username",type:"text",value:u,onChange:p=>{e(p.target.value),r.username&&i(g=>({...g,username:null}))},className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"Enter your username"}),r.username&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:r.username})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-700",children:["Password ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"password",name:"password",type:"password",value:t,onChange:p=>{n(p.target.value),r.password&&i(g=>({...g,password:null}))},className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"Enter your password"}),r.password&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:r.password})]}),C.jsx("button",{type:"submit",disabled:l,className:"w-full rounded-xl bg-primary-600 px-4 py-4 font-bold text-white shadow-soft-lg shadow-primary-600/20 hover:bg-primary-700 hover:shadow-glow focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed",children:l?"Signing in":"Login"})]}),C.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600",children:["Not a member ?"," ",C.jsx(Bn,{to:"/expert-intake/signup",className:"font-semibold text-primary-600 hover:text-primary-700",children:"Be one"})]})]})})]})]})})}async function pE(){return null}async function dN(u){return{ok:!1,fallback:!0}}function bS(u){return null}const Kw="veridx_expert_submissions",dx="veridx_cv_",fN=10;function Wv(){try{const u=localStorage.getItem(Kw);return u?JSON.parse(u):[]}catch{return[]}}function pN(u){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{const r=n.result;e(typeof r=="string"?r.split(",")[1]:"")},n.onerror=()=>t(n.error),n.readAsDataURL(u)})}async function mN(u,e){try{const t=await pN(e),n=Date.now()+fN*60*60*1e3,r={base64:t,expiry:n,fileName:e.name||""};localStorage.setItem(dx+u,JSON.stringify(r))}catch(t){console.error("Failed to store CV locally",t)}}function gN(u){try{const e=localStorage.getItem(dx+u);if(!e)return null;const t=JSON.parse(e);return t.expiry&&Date.now()>t.expiry?(localStorage.removeItem(dx+u),null):t}catch{return null}}async function vN(u,e){const t=Wv(),n=u.id||`local-${Date.now()}`,r={...u,id:n,hasFile:!!e};return t.push(r),localStorage.setItem(Kw,JSON.stringify(t)),e&&await mN(n,e),n}async function yN(u){try{const t=Wv().filter(n=>n.id!==u);return localStorage.setItem(Kw,JSON.stringify(t)),{ok:!0}}catch(e){return{ok:!1,error:e.message}}}const xN=".pdf,.doc,.docx",tx=10;function wN(){const[u,e]=et.useState({name:"",phone:"",password:"",confirmPassword:"",email:"",cv:null}),[t,n]=et.useState({}),[r,i]=et.useState(!1),[l,c]=et.useState(null),[h,f]=et.useState(!1),p=A=>{const{name:b,value:E}=A.target;e(T=>({...T,[b]:E})),t[b]&&n(T=>({...T,[b]:null}))},g=A=>{var T;const b=(T=A.target.files)==null?void 0:T[0];if(!b){e(R=>({...R,cv:null})),n(R=>({...R,cv:null}));return}const E=tx*1024*1024;if(b.size>E){n(R=>({...R,cv:`File must be under ${tx} MB`})),e(R=>({...R,cv:null}));return}e(R=>({...R,cv:b})),n(R=>({...R,cv:null}))},v=()=>{const A={};return u.name.trim()||(A.name="Name is required"),u.phone.trim()||(A.phone="Phone number is required"),u.password?u.password.length<6&&(A.password="Password must be at least 6 characters"):A.password="Password is required",u.confirmPassword?u.password!==u.confirmPassword&&(A.confirmPassword="Passwords do not match"):A.confirmPassword="Please confirm your password",u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(A.email="Please enter a valid email"):A.email="Email is required",u.cv||(A.cv="Please upload your CV"),n(A),Object.keys(A).length===0},x=async A=>{var T;if(A.preventDefault(),c(null),!v())return;f(!0);const b=new FormData;b.append("name",u.name.trim()),b.append("phone",u.phone.trim()),b.append("password",u.password),b.append("email",u.email.trim()),u.cv&&b.append("cv",u.cv);const E=await dN();if(f(!1),E.ok){i(!0);return}if(E.fallback){await vN({name:u.name.trim(),phone:u.phone.trim(),email:u.email.trim(),cvFileName:((T=u.cv)==null?void 0:T.name)||null,submittedAt:new Date().toISOString()},u.cv||null),i(!0);return}c(E.error||"Submission failed. Please try again.")};return r?C.jsx("div",{className:"min-h-screen bg-medical-mist bg-grid-pattern pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-lg mx-auto text-center",children:[C.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-primary-100 text-primary-600 mb-8 shadow-soft",children:C.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),C.jsx("h1",{className:"font-display font-bold text-2xl sm:text-3xl text-medical-navy",children:"Thank you for submitting"}),C.jsx("p",{className:"mt-4 text-slate-600 text-lg",children:"We'll review your information and be in touch."}),C.jsxs(Bn,{to:"/",className:"mt-10 inline-flex items-center gap-2 text-primary-600 font-bold hover:text-primary-700",children:[C.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to home"]})]})}):C.jsx("div",{className:"min-h-screen bg-medical-mist bg-grid-pattern pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs(Bn,{to:"/expert-intake",className:"inline-flex items-center gap-2 text-slate-600 hover:text-primary-600 text-sm font-semibold mb-10 transition-colors",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to expert intake"]}),C.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 lg:gap-12",children:[C.jsxs("div",{className:"lg:col-span-6 space-y-7",children:[C.jsxs("div",{children:[C.jsxs("div",{className:"badge",children:[C.jsx("span",{className:"size-2 rounded-full bg-primary-600"}),C.jsx("span",{children:"Medical Expert Panel intake"})]}),C.jsx("h1",{className:"mt-4 text-balance text-3xl font-semibold tracking-tight text-slate-900 sm:text-4xl",children:"Share your details to be considered for our confidential panel."}),C.jsx("p",{className:"mt-4 max-w-2xl text-pretty text-base leading-relaxed text-slate-600 sm:text-lg",children:"Engagements with medical experts are selective and case-based. All fields below are required so our team can understand your background and areas of expertise."})]}),C.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-slate-50 p-7",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"How we work with experts"}),C.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-600",children:"Participation on the VeriDx.ai Medical Expert Panel is not automatic. This intake helps us understand your clinical background, specialties, and experience with medical malpractice or documentation review."}),C.jsxs("ul",{className:"mt-4 grid gap-2 text-sm text-slate-600",children:[C.jsx("li",{children:" Focus on documentation quality and medical evidence"}),C.jsx("li",{children:" Engagements scoped to specific cases and questions"}),C.jsx("li",{children:" Materials and discussions handled confidentially"})]}),C.jsx("p",{className:"mt-4 fineprint",children:"Completing this form does not create an engagement, attorney-client relationship, or guarantee future work."})]})]}),C.jsx("div",{className:"lg:col-span-6",children:C.jsxs("div",{className:"p-8 sm:p-10 rounded-3xl bg-white border border-slate-200/80 shadow-soft-lg",children:[l&&C.jsx("p",{className:"mb-6 p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm font-medium",children:l}),C.jsxs("form",{onSubmit:x,className:"space-y-6",children:[C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"name",className:"block text-sm font-bold text-slate-700",children:["Full name ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"name",name:"name",type:"text",value:u.name,onChange:p,className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"Dr. Jane Smith"}),t.name&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:t.name})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"phone",className:"block text-sm font-bold text-slate-700",children:["Phone number ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"phone",name:"phone",type:"tel",value:u.phone,onChange:p,className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"+1 (555) 000-0000"}),t.phone&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:t.phone})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-700",children:["Password ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"password",name:"password",type:"password",value:u.password,onChange:p,className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"At least 6 characters"}),t.password&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:t.password})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-bold text-slate-700",children:["Confirm password ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:u.confirmPassword,onChange:p,className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"Re-enter your password"}),t.confirmPassword&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:t.confirmPassword})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"email",className:"block text-sm font-bold text-slate-700",children:["Email ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"email",name:"email",type:"email",value:u.email,onChange:p,className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"jane.smith@example.com"}),t.email&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:t.email})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"cv",className:"block text-sm font-bold text-slate-700",children:["CV / Resume ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsxs("p",{className:"mt-0.5 text-xs text-slate-500 font-medium",children:["PDF or Word, max ",tx," MB"]}),C.jsx("input",{id:"cv",name:"cv",type:"file",accept:xN,onChange:g,className:"mt-2 block w-full text-slate-600 file:mr-4 file:rounded-lg file:border-0 file:bg-primary-50 file:px-4 file:py-2.5 file:text-sm file:font-bold file:text-primary-700 hover:file:bg-primary-100 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:ring-offset-0 rounded-xl border border-slate-300 bg-white transition-all"}),u.cv&&C.jsx("p",{className:"mt-1.5 text-sm text-slate-600 font-medium",children:u.cv.name}),t.cv&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:t.cv})]}),C.jsx("button",{type:"submit",disabled:h,className:"w-full mt-8 rounded-xl bg-primary-600 px-4 py-4 font-bold text-white shadow-soft-lg shadow-primary-600/20 hover:bg-primary-700 hover:shadow-glow focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed",children:h?"Submitting":"Submit"})]})]})})]})]})})}function bN(){const[u,e]=et.useState(""),[t,n]=et.useState(""),[r,i]=et.useState({}),[l,c]=et.useState(!1),h=()=>{const p={};return u.trim()||(p.username="Username is required"),t||(p.password="Password is required"),i(p),Object.keys(p).length===0},f=p=>{p.preventDefault(),h()&&(c(!0),setTimeout(()=>c(!1),500))};return C.jsx("div",{className:"min-h-screen bg-medical-mist bg-grid-pattern pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-md mx-auto",children:[C.jsxs(Bn,{to:"/",className:"inline-flex items-center gap-2 text-slate-600 hover:text-primary-600 text-sm font-semibold mb-10 transition-colors",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to home"]}),C.jsxs("div",{className:"p-8 sm:p-10 rounded-3xl bg-white border border-slate-200/80 shadow-soft-lg",children:[C.jsx("h1",{className:"font-display font-bold text-2xl text-slate-900",children:"User login"}),C.jsx("p",{className:"mt-2 text-slate-600 text-sm",children:"Sign in with your username and password."}),C.jsxs("form",{onSubmit:f,className:"mt-8 space-y-6",children:[C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"username",className:"block text-sm font-bold text-slate-700",children:["Username ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"username",name:"username",type:"text",value:u,onChange:p=>{e(p.target.value),r.username&&i(g=>({...g,username:null}))},className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"Enter your username"}),r.username&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:r.username})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-700",children:["Password ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"password",name:"password",type:"password",value:t,onChange:p=>{n(p.target.value),r.password&&i(g=>({...g,password:null}))},className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"Enter your password"}),r.password&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:r.password})]}),C.jsx("button",{type:"submit",disabled:l,className:"w-full rounded-xl bg-primary-600 px-4 py-4 font-bold text-white shadow-soft-lg shadow-primary-600/20 hover:bg-primary-700 hover:shadow-glow focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed",children:l?"Signing in":"Login"})]})]})]})})}const AN="admin",SN="admin@123",xc="veridx_admin_authenticated";function EN(){const u=am(),[e,t]=et.useState(""),[n,r]=et.useState(""),[i,l]=et.useState({}),[c,h]=et.useState(null),[f,p]=et.useState(!1),g=()=>{const x={};return e.trim()||(x.username="Username is required"),n||(x.password="Password is required"),l(x),Object.keys(x).length===0},v=x=>{if(x.preventDefault(),h(null),!g())return;if(p(!0),e.trim()===AN&&n===SN){sessionStorage.setItem(xc,"1"),p(!1),u("/admin-dashboard");return}h("Invalid username or password"),p(!1)};return C.jsx("div",{className:"min-h-screen bg-medical-mist bg-grid-pattern pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs(Bn,{to:"/",className:"inline-flex items-center gap-2 text-slate-600 hover:text-primary-600 text-sm font-semibold mb-10 transition-colors",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to home"]}),C.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 lg:gap-12",children:[C.jsxs("div",{className:"lg:col-span-6 space-y-7",children:[C.jsxs("div",{children:[C.jsxs("div",{className:"badge",children:[C.jsx("span",{className:"size-2 rounded-full bg-primary-600"}),C.jsx("span",{children:"Admin"})]}),C.jsx("h1",{className:"mt-4 text-balance text-3xl font-semibold tracking-tight text-slate-900 sm:text-4xl",children:"Governance, access control, and compliance."}),C.jsx("p",{className:"mt-4 max-w-2xl text-pretty text-base leading-relaxed text-slate-600 sm:text-lg",children:"The admin role on the VeriDx.ai platform is responsible for safeguarding responsible, compliant, and defensible use of the platform."})]}),C.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-slate-50 p-7",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Admin responsibilities"}),C.jsxs("ul",{className:"mt-4 grid gap-2.5 text-sm text-slate-600",children:[C.jsx("li",{children:" Manage users and organizations"}),C.jsx("li",{children:" Review and approve medical expert panel applications"}),C.jsx("li",{children:" Oversee medical record uploads and access"}),C.jsx("li",{children:" Maintain audit logs for traceability"}),C.jsx("li",{children:" Ensure data security"}),C.jsx("li",{children:" Enforce privacy and usage policies"}),C.jsx("li",{children:" Monitor system health"})]}),C.jsx("p",{className:"mt-4 fineprint",children:"Admins do not make medical or legal decisions; their role is to support governance and compliance only."})]})]}),C.jsx("div",{className:"lg:col-span-6",children:C.jsxs("div",{className:"mt-20 p-8 sm:p-10 rounded-3xl bg-white border border-slate-200/80 shadow-soft-lg",children:[c&&C.jsx("p",{className:"mb-6 p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm font-medium",children:c}),C.jsx("h1",{className:"font-display font-bold text-2xl text-slate-900",children:"Admin login"}),C.jsx("p",{className:"mt-2 text-slate-600 text-sm",children:"Sign in with your admin username and password."}),C.jsxs("form",{onSubmit:v,className:"mt-8 space-y-6",children:[C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"username",className:"block text-sm font-bold text-slate-700",children:["Username ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"username",name:"username",type:"text",value:e,onChange:x=>{t(x.target.value),i.username&&l(A=>({...A,username:null}))},className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"Enter your username"}),i.username&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:i.username})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-700",children:["Password ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"password",name:"password",type:"password",value:n,onChange:x=>{r(x.target.value),i.password&&l(A=>({...A,password:null}))},className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"Enter your password"}),i.password&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:i.password})]}),C.jsx("button",{type:"submit",disabled:f,className:"w-full rounded-xl bg-primary-600 px-4 py-4 font-bold text-white shadow-soft-lg shadow-primary-600/20 hover:bg-primary-700 hover:shadow-glow focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed",children:f?"Signing in":"Login"})]}),C.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600",children:["Don't have an account ?"," ",C.jsx(Bn,{to:"/admin/signup",className:"font-semibold text-primary-600 hover:text-primary-700",children:"sign in"})]})]})})]})]})})}function CN(){const[u,e]=et.useState({username:"",password:"",confirmPassword:"",email:""}),[t,n]=et.useState({}),[r,i]=et.useState(!1),l=f=>{const{name:p,value:g}=f.target;e(v=>({...v,[p]:g})),t[p]&&n(v=>({...v,[p]:null}))},c=()=>{const f={};return u.username.trim()||(f.username="Username is required"),u.password?u.password.length<6&&(f.password="Password must be at least 6 characters"):f.password="Password is required",u.confirmPassword?u.password!==u.confirmPassword&&(f.confirmPassword="Passwords do not match"):f.confirmPassword="Please confirm your password",u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(f.email="Please enter a valid email"):f.email="Email is required",n(f),Object.keys(f).length===0},h=f=>{f.preventDefault(),c()&&(i(!0),setTimeout(()=>i(!1),500))};return C.jsx("div",{className:"min-h-screen bg-medical-mist bg-grid-pattern pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs(Bn,{to:"/admin",className:"inline-flex items-center gap-2 text-slate-600 hover:text-primary-600 text-sm font-semibold mb-10 transition-colors",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to admin login"]}),C.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 lg:gap-12",children:[C.jsxs("div",{className:"lg:col-span-6 space-y-7",children:[C.jsxs("div",{children:[C.jsxs("div",{className:"badge",children:[C.jsx("span",{className:"size-2 rounded-full bg-primary-600"}),C.jsx("span",{children:"Admin"})]}),C.jsx("h1",{className:"mt-4 text-balance text-3xl font-semibold tracking-tight text-slate-900 sm:text-4xl",children:"Governance, access control, and compliance."}),C.jsx("p",{className:"mt-4 max-w-2xl text-pretty text-base leading-relaxed text-slate-600 sm:text-lg",children:"The admin role on the VeriDx.ai platform is responsible for safeguarding responsible, compliant, and defensible use of the platform."})]}),C.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-slate-50 p-7",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Admin responsibilities"}),C.jsxs("ul",{className:"mt-4 grid gap-2.5 text-sm text-slate-600",children:[C.jsx("li",{children:" Manage users and organizations"}),C.jsx("li",{children:" Review and approve medical expert panel applications"}),C.jsx("li",{children:" Oversee medical record uploads and access"}),C.jsx("li",{children:" Maintain audit logs for traceability"}),C.jsx("li",{children:" Ensure data security"}),C.jsx("li",{children:" Enforce privacy and usage policies"}),C.jsx("li",{children:" Monitor system health"})]}),C.jsx("p",{className:"mt-4 fineprint",children:"Admins do not make medical or legal decisions; their role is to support governance and compliance only."})]})]}),C.jsx("div",{className:"lg:col-span-6",children:C.jsxs("div",{className:"p-8 sm:p-10 rounded-3xl bg-white border border-slate-200/80 shadow-soft-lg",children:[C.jsx("h1",{className:"font-display font-bold text-2xl text-slate-900",children:"Admin sign up"}),C.jsx("p",{className:"mt-2 text-slate-600 text-sm",children:"Create an admin account with username, password, and email."}),C.jsxs("form",{onSubmit:h,className:"mt-8 space-y-6",children:[C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"username",className:"block text-sm font-bold text-slate-700",children:["Username ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"username",name:"username",type:"text",value:u.username,onChange:l,className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"Choose a username"}),t.username&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:t.username})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"email",className:"block text-sm font-bold text-slate-700",children:["Email ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"email",name:"email",type:"email",value:u.email,onChange:l,className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"admin@example.com"}),t.email&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:t.email})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-700",children:["Password ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"password",name:"password",type:"password",value:u.password,onChange:l,className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"At least 6 characters"}),t.password&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:t.password})]}),C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-bold text-slate-700",children:["Confirm password ",C.jsx("span",{className:"text-primary-600",children:"*"})]}),C.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:u.confirmPassword,onChange:l,className:"mt-2 block w-full rounded-xl border border-slate-300 bg-white px-4 py-3.5 text-slate-900 font-medium shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all",placeholder:"Re-enter your password"}),t.confirmPassword&&C.jsx("p",{className:"mt-1.5 text-sm text-red-600 font-medium",children:t.confirmPassword})]}),C.jsx("button",{type:"submit",disabled:r,className:"w-full rounded-xl bg-primary-600 px-4 py-4 font-bold text-white shadow-soft-lg shadow-primary-600/20 hover:bg-primary-700 hover:shadow-glow focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed",children:r?"Signing up":"Sign up"})]})]})})]})]})})}function TN(){const u=am(),e=et.useRef(null),t=et.useRef({}),[n,r]=et.useState([]),[i,l]=et.useState(null),[c,h]=et.useState(!0),[f,p]=et.useState(!1),[g,v]=et.useState(null),[x,A]=et.useState(null),b=async()=>{const R=await pE();R&&Array.isArray(R)?(r(R),l("api")):(r(Wv()),l("local"))};et.useEffect(()=>{if(!sessionStorage.getItem(xc)){u("/admin",{replace:!0});return}let R=!1;async function N(){await b(),!R&&h(!1)}return N(),()=>{R=!0}},[u]);const E=()=>{p(!1),sessionStorage.removeItem(xc),u("/admin",{replace:!0})};et.useEffect(()=>{function R(N){e.current&&!e.current.contains(N.target)&&p(!1)}if(f)return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[f]),et.useEffect(()=>{function R(N){if(g===null)return;const D=t.current[g];D&&!D.contains(N.target)&&v(null)}return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[g]);const T=async R=>{if(v(null),!confirm("Remove this expert from the list?"))return;A(R);const N=await yN(R);A(null),N.ok?await b():alert(N.error||"Failed to remove expert")};return sessionStorage.getItem(xc)?C.jsxs("div",{className:"min-h-screen bg-medical-mist bg-grid-pattern",children:[C.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-xl border-b border-slate-200/60 shadow-soft",children:C.jsx("nav",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"flex items-center justify-between h-18 md:h-20",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("img",{src:Yw,alt:"VeriDx.ai",className:"w-10 h-10 "}),C.jsxs("div",{className:"flex flex-col gap-0",children:[C.jsxs("span",{className:"font-display font-bold text-xl text-medical-navy tracking-tight leading-tight",children:["VeriDx",C.jsx("span",{className:"text-primary-600",children:".ai"})]}),C.jsx("span",{className:"text-sm font-normal text-slate-500 tracking-tight leading-tight",children:"Admin"})]})]}),C.jsxs("div",{className:"relative",ref:e,children:[C.jsx("button",{type:"button",onClick:()=>p(R=>!R),className:"p-2.5 rounded-xl text-slate-600 hover:bg-slate-100 hover:text-primary-600 transition-colors","aria-label":"Profile","aria-expanded":f,children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),f&&C.jsx("div",{className:"absolute right-0 top-full mt-1 py-1 min-w-[140px] rounded-xl bg-white border border-slate-200 shadow-lg z-50",children:C.jsxs("button",{type:"button",onClick:E,className:"w-full flex items-center gap-2 px-4 py-2.5 text-left text-sm font-medium text-slate-700 hover:bg-slate-50 hover:text-red-600 transition-colors rounded-lg mx-1",children:[C.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})]})})}),C.jsx("main",{className:"pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:C.jsx("div",{className:"max-w-5xl mx-auto",children:C.jsxs("div",{className:"p-6 sm:p-8 rounded-3xl bg-white border border-slate-200/80 shadow-soft-lg",children:[C.jsx("h1",{className:"font-display font-bold text-2xl sm:text-3xl text-medical-navy",children:"Experts intaken"}),C.jsx("p",{className:"mt-2 text-slate-600 text-base",children:"Medical expert panel applications and intake submissions."}),c?C.jsx("p",{className:"mt-8 text-slate-500",children:"Loading"}):n.length===0?C.jsx("p",{className:"mt-8 text-slate-500",children:"No experts intaken yet."}):C.jsx("div",{className:"mt-8 overflow-x-auto",children:C.jsxs("table",{className:"w-full text-left border-collapse",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"border-b border-slate-200",children:[C.jsx("th",{className:"pb-3 pr-4 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Name"}),C.jsx("th",{className:"pb-3 pr-4 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Email"}),C.jsx("th",{className:"pb-3 pr-4 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Phone number"}),C.jsx("th",{className:"pb-3 pr-4 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"CV"}),C.jsx("th",{className:"pb-3 w-10","aria-label":"Actions"})]})}),C.jsx("tbody",{children:n.map(R=>C.jsxs("tr",{className:"border-b border-slate-100",children:[C.jsx("td",{className:"py-4 pr-4 font-medium text-slate-800",children:R.name||""}),C.jsx("td",{className:"py-4 pr-4 text-slate-600",children:R.email||""}),C.jsx("td",{className:"py-4 pr-4 text-slate-600",children:R.phone||""}),C.jsx("td",{className:"py-4 pr-4",children:R.cvFileName||R.hasFile?C.jsx(Bn,{to:`/admin-dashboard/expert/${R.id}`,className:"text-primary-600 font-semibold hover:underline",children:R.cvFileName||"View CV"}):C.jsx("span",{className:"text-slate-400 text-sm",children:""})}),C.jsx("td",{className:"py-4 relative",children:C.jsxs("div",{ref:N=>{t.current[R.id]=N},className:"relative inline-block",children:[C.jsx("button",{type:"button",onClick:()=>v(g===R.id?null:R.id),className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors","aria-label":"Row actions","aria-expanded":g===R.id,children:C.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":!0,children:[C.jsx("circle",{cx:"12",cy:"6",r:"1.5"}),C.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),C.jsx("circle",{cx:"12",cy:"18",r:"1.5"})]})}),g===R.id&&C.jsx("div",{className:"absolute right-0 top-full mt-0.5 py-1 min-w-[120px] rounded-xl bg-white border border-slate-200 shadow-lg z-50",children:C.jsxs("button",{type:"button",onClick:()=>T(R.id),disabled:x===R.id,className:"w-full flex items-center gap-2 px-3 py-2 text-left text-sm font-medium text-red-600 hover:bg-red-50 transition-colors rounded-lg mx-1 disabled:opacity-50",children:[C.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),x===R.id?"Removing":"Delete"]})})]})})]},R.id))})]})})]})})})]}):null}var PN={34(u,e,t){var n=t(4901);u.exports=function(r){return typeof r=="object"?r!==null:n(r)}},81(u,e,t){var n=t(9565),r=t(9306),i=t(8551),l=t(6823),c=t(851),h=TypeError;u.exports=function(f,p){var g=arguments.length<2?c(f):p;if(r(g))return i(n(g,f));throw new h(l(f)+" is not iterable")}},116(u,e,t){var n=t(6518),r=t(9565),i=t(2652),l=t(9306),c=t(8551),h=t(1767),f=t(9539),p=t(4549),g=p("find",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:g},{find:function(x){c(this);try{l(x)}catch(E){f(this,"throw",E)}if(g)return r(g,this,x);var A=h(this),b=0;return i(A,function(E,T){if(x(E,b++))return T(E)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},283(u,e,t){var n=t(9504),r=t(9039),i=t(4901),l=t(9297),c=t(3724),h=t(350).CONFIGURABLE,f=t(3706),p=t(1181),g=p.enforce,v=p.get,x=String,A=Object.defineProperty,b=n("".slice),E=n("".replace),T=n([].join),R=c&&!r(function(){return A(function(){},"length",{value:8}).length!==8}),N=String(String).split("String"),D=u.exports=function(M,L,F){b(x(L),0,7)==="Symbol("&&(L="["+E(x(L),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),F&&F.getter&&(L="get "+L),F&&F.setter&&(L="set "+L),(!l(M,"name")||h&&M.name!==L)&&(c?A(M,"name",{value:L,configurable:!0}):M.name=L),R&&F&&l(F,"arity")&&M.length!==F.arity&&A(M,"length",{value:F.arity});try{F&&l(F,"constructor")&&F.constructor?c&&A(M,"prototype",{writable:!1}):M.prototype&&(M.prototype=void 0)}catch{}var U=g(M);return l(U,"source")||(U.source=T(N,typeof L=="string"?L:"")),M};Function.prototype.toString=D(function(){return i(this)&&v(this).source||f(this)},"toString")},350(u,e,t){var n=t(3724),r=t(9297),i=Function.prototype,l=n&&Object.getOwnPropertyDescriptor,c=r(i,"name"),h=c&&(function(){}).name==="something",f=c&&(!n||n&&l(i,"name").configurable);u.exports={EXISTS:c,PROPER:h,CONFIGURABLE:f}},397(u,e,t){var n=t(7751);u.exports=n("document","documentElement")},421(u){u.exports={}},456(u,e,t){var n=t(6518),r=t(4576),i=t(9504),l=t(4154),c=t(5169),h=i(1.1.toString),f=r.Uint8Array,p=!f||!f.prototype.toHex||!(function(){try{var g=new f([255,255,255,255,255,255,255,255]);return g.toHex()==="ffffffffffffffff"}catch{return!1}})();f&&n({target:"Uint8Array",proto:!0,forced:p},{toHex:function(){l(this),c(this.buffer);for(var v="",x=0,A=this.length;x<A;x++){var b=h(this[x],16);v+=b.length===1?"0"+b:b}return v}})},507(u,e,t){var n=t(9565);u.exports=function(r,i,l){for(var c=l?r:r.iterator,h=r.next,f,p;!(f=n(h,c)).done;)if(p=i(f.value),p!==void 0)return p}},531(u,e,t){var n=t(6518),r=t(9565),i=t(9306),l=t(8551),c=t(1767),h=t(8646),f=t(9462),p=t(9539),g=t(6395),v=t(684),x=t(4549),A=!g&&!v("flatMap",function(){}),b=!g&&!A&&x("flatMap",TypeError),E=g||A||b,T=f(function(){for(var R=this.iterator,N=this.mapper,D,M;;){if(M=this.inner)try{if(D=l(r(M.next,M.iterator)),!D.done)return D.value;this.inner=null}catch(L){p(R,"throw",L)}if(D=l(r(this.next,R)),this.done=!!D.done)return;try{this.inner=h(N(D.value,this.counter++),!1)}catch(L){p(R,"throw",L)}}});n({target:"Iterator",proto:!0,real:!0,forced:E},{flatMap:function(N){l(this);try{i(N)}catch(D){p(this,"throw",D)}return b?r(b,this,N):new T(c(this),{mapper:N,inner:null})}})},616(u,e,t){var n=t(9039);u.exports=!n(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")})},655(u,e,t){var n=t(6955),r=String;u.exports=function(i){if(n(i)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return r(i)}},679(u,e,t){var n=t(1625),r=TypeError;u.exports=function(i,l){if(n(l,i))return i;throw new r("Incorrect invocation")}},684(u){u.exports=function(e,t){var n=typeof Iterator=="function"&&Iterator.prototype[e];if(n)try{n.call({next:null},t).next()}catch{return!0}}},741(u){var e=Math.ceil,t=Math.floor;u.exports=Math.trunc||function(r){var i=+r;return(i>0?t:e)(i)}},757(u,e,t){var n=t(7751),r=t(4901),i=t(1625),l=t(7040),c=Object;u.exports=l?function(h){return typeof h=="symbol"}:function(h){var f=n("Symbol");return r(f)&&i(f.prototype,c(h))}},851(u,e,t){var n=t(6955),r=t(5966),i=t(4117),l=t(6269),c=t(8227),h=c("iterator");u.exports=function(f){if(!i(f))return r(f,h)||r(f,"@@iterator")||l[n(f)]}},944(u){var e=TypeError;u.exports=function(t){var n=t&&t.alphabet;if(n===void 0||n==="base64"||n==="base64url")return n||"base64";throw new e("Incorrect `alphabet` option")}},1072(u,e,t){var n=t(1828),r=t(8727);u.exports=Object.keys||function(l){return n(l,r)}},1103(u){u.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},1108(u,e,t){var n=t(6955);u.exports=function(r){var i=n(r);return i==="BigInt64Array"||i==="BigUint64Array"}},1148(u,e,t){var n=t(6518),r=t(9565),i=t(2652),l=t(9306),c=t(8551),h=t(1767),f=t(9539),p=t(4549),g=p("every",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:g},{every:function(x){c(this);try{l(x)}catch(E){f(this,"throw",E)}if(g)return r(g,this,x);var A=h(this),b=0;return!i(A,function(E,T){if(!x(E,b++))return T()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1181(u,e,t){var n=t(8622),r=t(4576),i=t(34),l=t(6699),c=t(9297),h=t(7629),f=t(6119),p=t(421),g="Object already initialized",v=r.TypeError,x=r.WeakMap,A,b,E,T=function(M){return E(M)?b(M):A(M,{})},R=function(M){return function(L){var F;if(!i(L)||(F=b(L)).type!==M)throw new v("Incompatible receiver, "+M+" required");return F}};if(n||h.state){var N=h.state||(h.state=new x);N.get=N.get,N.has=N.has,N.set=N.set,A=function(M,L){if(N.has(M))throw new v(g);return L.facade=M,N.set(M,L),L},b=function(M){return N.get(M)||{}},E=function(M){return N.has(M)}}else{var D=f("state");p[D]=!0,A=function(M,L){if(c(M,D))throw new v(g);return L.facade=M,l(M,D,L),L},b=function(M){return c(M,D)?M[D]:{}},E=function(M){return c(M,D)}}u.exports={set:A,get:b,has:E,enforce:T,getterFor:R}},1291(u,e,t){var n=t(741);u.exports=function(r){var i=+r;return i!==i||i===0?0:n(i)}},1385(u,e,t){var n=t(9539);u.exports=function(r,i,l){for(var c=r.length-1;c>=0;c--)if(r[c]!==void 0)try{l=n(r[c].iterator,i,l)}catch(h){i="throw",l=h}if(i==="throw")throw l;return l}},1548(u,e,t){var n=t(4576),r=t(9039),i=t(9519),l=t(4215),c=n.structuredClone;u.exports=!!c&&!r(function(){if(l==="DENO"&&i>92||l==="NODE"&&i>94||l==="BROWSER"&&i>97)return!1;var h=new ArrayBuffer(8),f=c(h,{transfer:[h]});return h.byteLength!==0||f.byteLength!==8})},1549(u,e,t){t(6632)},1625(u,e,t){var n=t(9504);u.exports=n({}.isPrototypeOf)},1689(u,e,t){var n=t(6518),r=t(4576),i=t(8745),l=t(7680),c=t(6043),h=t(9306),f=t(1103),p=r.Promise,g=!1,v=!p||!p.try||f(function(){p.try(function(x){g=x===8},8)}).error||!g;n({target:"Promise",stat:!0,forced:v},{try:function(x){var A=arguments.length>1?l(arguments,1):[],b=c.f(this),E=f(function(){return i(h(x),void 0,A)});return(E.error?b.reject:b.resolve)(E.value),b.promise}})},1698(u,e,t){var n=t(6518),r=t(4204),i=t(9835),l=t(4916),c=!l("union")||!i("union");n({target:"Set",proto:!0,real:!0,forced:c},{union:r})},1701(u,e,t){var n=t(6518),r=t(9565),i=t(9306),l=t(8551),c=t(1767),h=t(9462),f=t(6319),p=t(9539),g=t(684),v=t(4549),x=t(6395),A=!x&&!g("map",function(){}),b=!x&&!A&&v("map",TypeError),E=x||A||b,T=h(function(){var R=this.iterator,N=l(r(this.next,R)),D=this.done=!!N.done;if(!D)return f(R,this.mapper,[N.value,this.counter++],!0)});n({target:"Iterator",proto:!0,real:!0,forced:E},{map:function(N){l(this);try{i(N)}catch(D){p(this,"throw",D)}return b?r(b,this,N):new T(c(this),{mapper:N})}})},1767(u){u.exports=function(e){return{iterator:e,next:e.next,done:!1}}},1828(u,e,t){var n=t(9504),r=t(9297),i=t(5397),l=t(9617).indexOf,c=t(421),h=n([].push);u.exports=function(f,p){var g=i(f),v=0,x=[],A;for(A in g)!r(c,A)&&r(g,A)&&h(x,A);for(;p.length>v;)r(g,A=p[v++])&&(~l(x,A)||h(x,A));return x}},2106(u,e,t){var n=t(283),r=t(4913);u.exports=function(i,l,c){return c.get&&n(c.get,l,{getter:!0}),c.set&&n(c.set,l,{setter:!0}),r.f(i,l,c)}},2140(u,e,t){var n=t(8227),r=n("toStringTag"),i={};i[r]="z",u.exports=String(i)==="[object z]"},2195(u,e,t){var n=t(9504),r=n({}.toString),i=n("".slice);u.exports=function(l){return i(r(l),8,-1)}},2211(u,e,t){var n=t(9039);u.exports=!n(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})},2303(u,e,t){var n=t(4576),r=t(9504),i=n.Uint8Array,l=n.SyntaxError,c=n.parseInt,h=Math.min,f=/[^\da-f]/i,p=r(f.exec),g=r("".slice);u.exports=function(v,x){var A=v.length;if(A%2!==0)throw new l("String should be an even number of characters");for(var b=x?h(x.length,A/2):A/2,E=x||new i(b),T=0,R=0;R<b;){var N=g(v,T,T+=2);if(p(f,N))throw new l("String should only contain hex characters");E[R++]=c(N,16)}return{bytes:E,read:T}}},2360(u,e,t){var n=t(8551),r=t(6801),i=t(8727),l=t(421),c=t(397),h=t(4055),f=t(6119),p=">",g="<",v="prototype",x="script",A=f("IE_PROTO"),b=function(){},E=function(M){return g+x+p+M+g+"/"+x+p},T=function(M){M.write(E("")),M.close();var L=M.parentWindow.Object;return M=null,L},R=function(){var M=h("iframe"),L="java"+x+":",F;return M.style.display="none",c.appendChild(M),M.src=String(L),F=M.contentWindow.document,F.open(),F.write(E("document.F=Object")),F.close(),F.F},N,D=function(){try{N=new ActiveXObject("htmlfile")}catch{}D=typeof document<"u"?document.domain&&N?T(N):R():T(N);for(var M=i.length;M--;)delete D[v][i[M]];return D()};l[A]=!0,u.exports=Object.create||function(L,F){var U;return L!==null?(b[v]=n(L),U=new b,b[v]=null,U[A]=L):U=D(),F===void 0?U:r.f(U,F)}},2475(u,e,t){var n=t(6518),r=t(8527),i=t(4916),l=!i("isSupersetOf",function(c){return!c});n({target:"Set",proto:!0,real:!0,forced:l},{isSupersetOf:r})},2489(u,e,t){var n=t(6518),r=t(9565),i=t(9306),l=t(8551),c=t(1767),h=t(9462),f=t(6319),p=t(6395),g=t(9539),v=t(684),x=t(4549),A=!p&&!v("filter",function(){}),b=!p&&!A&&x("filter",TypeError),E=p||A||b,T=h(function(){for(var R=this.iterator,N=this.predicate,D=this.next,M,L,F;;){if(M=l(r(D,R)),L=this.done=!!M.done,L)return;if(F=M.value,f(R,N,[F,this.counter++],!0))return F}});n({target:"Iterator",proto:!0,real:!0,forced:E},{filter:function(N){l(this);try{i(N)}catch(D){g(this,"throw",D)}return b?r(b,this,N):new T(c(this),{predicate:N})}})},2529(u){u.exports=function(e,t){return{value:e,done:t}}},2603(u,e,t){var n=t(655);u.exports=function(r,i){return r===void 0?arguments.length<2?"":i:n(r)}},2652(u,e,t){var n=t(6080),r=t(9565),i=t(8551),l=t(6823),c=t(4209),h=t(6198),f=t(1625),p=t(81),g=t(851),v=t(9539),x=TypeError,A=function(E,T){this.stopped=E,this.result=T},b=A.prototype;u.exports=function(E,T,R){var N=R&&R.that,D=!!(R&&R.AS_ENTRIES),M=!!(R&&R.IS_RECORD),L=!!(R&&R.IS_ITERATOR),F=!!(R&&R.INTERRUPTED),U=n(T,N),z,G,X,ot,q,st,ht,tt=function(Y){return z&&v(z,"normal"),new A(!0,Y)},J=function(Y){return D?(i(Y),F?U(Y[0],Y[1],tt):U(Y[0],Y[1])):F?U(Y,tt):U(Y)};if(M)z=E.iterator;else if(L)z=E;else{if(G=g(E),!G)throw new x(l(E)+" is not iterable");if(c(G)){for(X=0,ot=h(E);ot>X;X++)if(q=J(E[X]),q&&f(b,q))return q;return new A(!1)}z=p(E,G)}for(st=M?E.next:z.next;!(ht=r(st,z)).done;){try{q=J(ht.value)}catch(Y){v(z,"throw",Y)}if(typeof q=="object"&&q&&f(b,q))return q}return new A(!1)}},2777(u,e,t){var n=t(9565),r=t(34),i=t(757),l=t(5966),c=t(4270),h=t(8227),f=TypeError,p=h("toPrimitive");u.exports=function(g,v){if(!r(g)||i(g))return g;var x=l(g,p),A;if(x){if(v===void 0&&(v="default"),A=n(x,g,v),!r(A)||i(A))return A;throw new f("Can't convert object to primitive value")}return v===void 0&&(v="number"),c(g,v)}},2787(u,e,t){var n=t(9297),r=t(4901),i=t(8981),l=t(6119),c=t(2211),h=l("IE_PROTO"),f=Object,p=f.prototype;u.exports=c?f.getPrototypeOf:function(g){var v=i(g);if(n(v,h))return v[h];var x=v.constructor;return r(x)&&v instanceof x?x.prototype:v instanceof f?p:null}},2796(u,e,t){var n=t(9039),r=t(4901),i=/#|\.prototype\./,l=function(g,v){var x=h[c(g)];return x===p?!0:x===f?!1:r(v)?n(v):!!v},c=l.normalize=function(g){return String(g).replace(i,".").toLowerCase()},h=l.data={},f=l.NATIVE="N",p=l.POLYFILL="P";u.exports=l},2804(u){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=e+"+/",n=e+"-_",r=function(i){for(var l={},c=0;c<64;c++)l[i.charAt(c)]=c;return l};u.exports={i2c:t,c2i:r(t),i2cUrl:n,c2iUrl:r(n)}},2812(u){var e=TypeError;u.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},2839(u,e,t){var n=t(4576),r=n.navigator,i=r&&r.userAgent;u.exports=i?String(i):""},2967(u,e,t){var n=t(6706),r=t(34),i=t(7750),l=t(3506);u.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var c=!1,h={},f;try{f=n(Object.prototype,"__proto__","set"),f(h,[]),c=h instanceof Array}catch{}return function(g,v){return i(g),l(v),r(g)&&(c?f(g,v):g.__proto__=v),g}})():void 0)},3068(u,e,t){var n=t(6518),r=t(9504),i=t(2652),l=RangeError,c=TypeError,h=1/0,f=NaN,p=Math.abs,g=Math.pow,v=r([].push),x=g(2,1023),A=g(2,53)-1,b=Number.MAX_VALUE,E=g(2,971),T={},R={},N={},D={},M={},L=function(F,U){var z=F+U,G=U-(z-F);return{hi:z,lo:G}};n({target:"Math",stat:!0},{sumPrecise:function(U){var z=[],G=0,X=D;switch(i(U,function(Z){if(++G>=A)throw new l("Maximum allowed index exceeded");if(typeof Z!="number")throw new c("Value is not a number");X!==T&&(Z!==Z?X=T:Z===h?X=X===R?T:N:Z===-h?X=X===N?T:R:(Z!==0||1/Z===h)&&(X===D||X===M)&&(X=M,v(z,Z)))}),X){case T:return f;case R:return-h;case N:return h;case D:return-0}for(var ot=[],q=0,st,ht,tt,J,Y,ct,it=0;it<z.length;it++){st=z[it];for(var B=0,W=0;W<ot.length;W++){if(ht=ot[W],p(st)<p(ht)&&(ct=st,st=ht,ht=ct),tt=L(st,ht),J=tt.hi,Y=tt.lo,p(J)===h){var dt=J===h?1:-1;q+=dt,st=st-dt*x-dt*x,p(st)<p(ht)&&(ct=st,st=ht,ht=ct),tt=L(st,ht),J=tt.hi,Y=tt.lo}Y!==0&&(ot[B++]=Y),st=J}ot.length=B,st!==0&&v(ot,st)}var yt=ot.length-1;if(J=0,Y=0,q!==0){var bt=yt>=0?ot[yt]:0;if(yt--,p(q)>1||q>0&&bt>0||q<0&&bt<0)return q>0?h:-h;if(tt=L(q*x,bt/2),J=tt.hi,Y=tt.lo,Y*=2,p(2*J)===h)return J>0?J===x&&Y===-(E/2)&&yt>=0&&ot[yt]<0?b:h:J===-x&&Y===E/2&&yt>=0&&ot[yt]>0?-b:-h;Y!==0&&(ot[++yt]=Y,Y=0),J*=2}for(;yt>=0&&(tt=L(J,ot[yt--]),J=tt.hi,Y=tt.lo,Y===0););return yt>=0&&(Y<0&&ot[yt]<0||Y>0&&ot[yt]>0)&&(ht=Y*2,st=J+ht,ht===st-J&&(J=st)),J}})},3167(u,e,t){var n=t(4901),r=t(34),i=t(2967);u.exports=function(l,c,h){var f,p;return i&&n(f=c.constructor)&&f!==h&&r(p=f.prototype)&&p!==h.prototype&&i(l,p),l}},3238(u,e,t){var n=t(4576),r=t(7811),i=t(7394),l=n.DataView;u.exports=function(c){if(!r||i(c)!==0)return!1;try{return new l(c),!1}catch{return!0}}},3392(u,e,t){var n=t(9504),r=0,i=Math.random(),l=n(1.1.toString);u.exports=function(c){return"Symbol("+(c===void 0?"":c)+")_"+l(++r+i,36)}},3440(u,e,t){var n=t(7080),r=t(4402),i=t(9286),l=t(5170),c=t(3789),h=t(8469),f=t(507),p=r.has,g=r.remove;u.exports=function(x){var A=n(this),b=c(x),E=i(A);return l(A)<=b.size?h(A,function(T){b.includes(T)&&g(E,T)}):f(b.getIterator(),function(T){p(E,T)&&g(E,T)}),E}},3463(u){var e=TypeError;u.exports=function(t){if(typeof t=="string")return t;throw new e("Argument is not a string")}},3506(u,e,t){var n=t(3925),r=String,i=TypeError;u.exports=function(l){if(n(l))return l;throw new i("Can't set "+r(l)+" as a prototype")}},3579(u,e,t){var n=t(6518),r=t(9565),i=t(2652),l=t(9306),c=t(8551),h=t(1767),f=t(9539),p=t(4549),g=p("some",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:g},{some:function(x){c(this);try{l(x)}catch(E){f(this,"throw",E)}if(g)return r(g,this,x);var A=h(this),b=0;return i(A,function(E,T){if(x(E,b++))return T()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},3650(u,e,t){var n=t(7080),r=t(4402),i=t(9286),l=t(3789),c=t(507),h=r.add,f=r.has,p=r.remove;u.exports=function(v){var x=n(this),A=l(v).getIterator(),b=i(x);return c(A,function(E){f(x,E)?p(b,E):h(b,E)}),b}},3706(u,e,t){var n=t(9504),r=t(4901),i=t(7629),l=n(Function.toString);r(i.inspectSource)||(i.inspectSource=function(c){return l(c)}),u.exports=i.inspectSource},3717(u,e){e.f=Object.getOwnPropertySymbols},3724(u,e,t){var n=t(9039);u.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},3789(u,e,t){var n=t(9306),r=t(8551),i=t(9565),l=t(1291),c=t(1767),h="Invalid size",f=RangeError,p=TypeError,g=Math.max,v=function(x,A){this.set=x,this.size=g(A,0),this.has=n(x.has),this.keys=n(x.keys)};v.prototype={getIterator:function(){return c(r(i(this.keys,this.set)))},includes:function(x){return i(this.has,this.set,x)}},u.exports=function(x){r(x);var A=+x.size;if(A!==A)throw new p(h);var b=l(A);if(b<0)throw new f(h);return new v(x,b)}},3838(u,e,t){var n=t(7080),r=t(5170),i=t(8469),l=t(3789);u.exports=function(h){var f=n(this),p=l(h);return r(f)>p.size?!1:i(f,function(g){if(!p.includes(g))return!1},!0)!==!1}},3853(u,e,t){var n=t(6518),r=t(4449),i=t(4916),l=!i("isDisjointFrom",function(c){return!c});n({target:"Set",proto:!0,real:!0,forced:l},{isDisjointFrom:r})},3925(u,e,t){var n=t(34);u.exports=function(r){return n(r)||r===null}},3972(u,e,t){var n=t(34),r=String,i=TypeError;u.exports=function(l){if(l===void 0||n(l))return l;throw new i(r(l)+" is not an object or undefined")}},4055(u,e,t){var n=t(4576),r=t(34),i=n.document,l=r(i)&&r(i.createElement);u.exports=function(c){return l?i.createElement(c):{}}},4114(u,e,t){var n=t(6518),r=t(8981),i=t(6198),l=t(4527),c=t(6837),h=t(9039),f=h(function(){return[].push.call({length:4294967296},1)!==4294967297}),p=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(v){return v instanceof TypeError}},g=f||!p();n({target:"Array",proto:!0,arity:1,forced:g},{push:function(x){var A=r(this),b=i(A),E=arguments.length;c(b+E);for(var T=0;T<E;T++)A[b]=arguments[T],b++;return l(A,b),b}})},4117(u){u.exports=function(e){return e==null}},4149(u){var e=RangeError;u.exports=function(t){if(t===t)return t;throw new e("NaN is not allowed")}},4154(u,e,t){var n=t(6955),r=TypeError;u.exports=function(i){if(n(i)==="Uint8Array")return i;throw new r("Argument is not an Uint8Array")}},4204(u,e,t){var n=t(7080),r=t(4402).add,i=t(9286),l=t(3789),c=t(507);u.exports=function(f){var p=n(this),g=l(f).getIterator(),v=i(p);return c(g,function(x){r(v,x)}),v}},4209(u,e,t){var n=t(8227),r=t(6269),i=n("iterator"),l=Array.prototype;u.exports=function(c){return c!==void 0&&(r.Array===c||l[i]===c)}},4215(u,e,t){var n=t(4576),r=t(2839),i=t(2195),l=function(c){return r.slice(0,c.length)===c};u.exports=(function(){return l("Bun/")?"BUN":l("Cloudflare-Workers")?"CLOUDFLARE":l("Deno/")?"DENO":l("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":i(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"})()},4226(u,e,t){var n=t(6518),r=t(4576),i=t(3463),l=t(4154),c=t(5169),h=t(2303);r.Uint8Array&&n({target:"Uint8Array",proto:!0},{setFromHex:function(p){l(this),i(p),c(this.buffer);var g=h(p,this).read;return{read:g,written:g/2}}})},4235(u,e,t){t(3068)},4270(u,e,t){var n=t(9565),r=t(4901),i=t(34),l=TypeError;u.exports=function(c,h){var f,p;if(h==="string"&&r(f=c.toString)&&!i(p=n(f,c))||r(f=c.valueOf)&&!i(p=n(f,c))||h!=="string"&&r(f=c.toString)&&!i(p=n(f,c)))return p;throw new l("Can't convert object to primitive value")}},4376(u,e,t){var n=t(2195);u.exports=Array.isArray||function(i){return n(i)==="Array"}},4402(u,e,t){var n=t(9504),r=Set.prototype;u.exports={Set,add:n(r.add),has:n(r.has),remove:n(r.delete),proto:r}},4449(u,e,t){var n=t(7080),r=t(4402).has,i=t(5170),l=t(3789),c=t(8469),h=t(507),f=t(9539);u.exports=function(g){var v=n(this),x=l(g);if(i(v)<=x.size)return c(v,function(b){if(x.includes(b))return!1},!0)!==!1;var A=x.getIterator();return h(A,function(b){if(r(v,b))return f(A,"normal",!1)})!==!1}},4483(u,e,t){var n=t(4576),r=t(9429),i=t(1548),l=n.structuredClone,c=n.ArrayBuffer,h=n.MessageChannel,f=!1,p,g,v,x;if(i)f=function(A){l(A,{transfer:[A]})};else if(c)try{h||(p=r("worker_threads"),p&&(h=p.MessageChannel)),h&&(g=new h,v=new c(2),x=function(A){g.port1.postMessage(null,[A])},v.byteLength===2&&(x(v),v.byteLength===0&&(f=x)))}catch{}u.exports=f},4495(u,e,t){var n=t(9519),r=t(9039),i=t(4576),l=i.String;u.exports=!!Object.getOwnPropertySymbols&&!r(function(){var c=Symbol("symbol detection");return!l(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&n&&n<41})},4527(u,e,t){var n=t(3724),r=t(4376),i=TypeError,l=Object.getOwnPropertyDescriptor,c=n&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(h){return h instanceof TypeError}})();u.exports=c?function(h,f){if(r(h)&&!l(h,"length").writable)throw new i("Cannot set read only .length");return h.length=f}:function(h,f){return h.length=f}},4549(u,e,t){var n=t(4576);u.exports=function(r,i){var l=n.Iterator,c=l&&l.prototype,h=c&&c[r],f=!1;if(h)try{h.call({next:function(){return{done:!0}},return:function(){f=!0}},-1)}catch(p){p instanceof i||(f=!1)}if(!f)return h}},4576(u){var e=function(t){return t&&t.Math===Math&&t};u.exports=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof global=="object"&&global)||e(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()},4603(u,e,t){var n=t(6840),r=t(9504),i=t(655),l=t(2812),c=URLSearchParams,h=c.prototype,f=r(h.append),p=r(h.delete),g=r(h.forEach),v=r([].push),x=new c("a=1&a=2&b=3");x.delete("a",1),x.delete("b",void 0),x+""!="a=2"&&n(h,"delete",function(A){var b=arguments.length,E=b<2?void 0:arguments[1];if(b&&E===void 0)return p(this,A);var T=[];g(this,function(z,G){v(T,{key:G,value:z})}),l(b,1);for(var R=i(A),N=i(E),D=0,M=0,L=!1,F=T.length,U;D<F;)U=T[D++],L||U.key===R?(L=!0,p(this,U.key)):M++;for(;M<F;)U=T[M++],U.key===R&&U.value===N||f(this,U.key,U.value)},{enumerable:!0,unsafe:!0})},4628(u,e,t){var n=t(6518),r=t(6043);n({target:"Promise",stat:!0},{withResolvers:function(){var l=r.f(this);return{promise:l.promise,resolve:l.resolve,reject:l.reject}}})},4644(u,e,t){var n=t(7811),r=t(3724),i=t(4576),l=t(4901),c=t(34),h=t(9297),f=t(6955),p=t(6823),g=t(6699),v=t(6840),x=t(2106),A=t(1625),b=t(2787),E=t(2967),T=t(8227),R=t(3392),N=t(1181),D=N.enforce,M=N.get,L=i.Int8Array,F=L&&L.prototype,U=i.Uint8ClampedArray,z=U&&U.prototype,G=L&&b(L),X=F&&b(F),ot=Object.prototype,q=i.TypeError,st=T("toStringTag"),ht=R("TYPED_ARRAY_TAG"),tt="TypedArrayConstructor",J=n&&!!E&&f(i.opera)!=="Opera",Y=!1,ct,it,B,W={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},dt={BigInt64Array:8,BigUint64Array:8},yt=function(te){if(!c(te))return!1;var Zt=f(te);return Zt==="DataView"||h(W,Zt)||h(dt,Zt)},bt=function(Ct){var te=b(Ct);if(c(te)){var Zt=M(te);return Zt&&h(Zt,tt)?Zt[tt]:bt(te)}},Z=function(Ct){if(!c(Ct))return!1;var te=f(Ct);return h(W,te)||h(dt,te)},Q=function(Ct){if(Z(Ct))return Ct;throw new q("Target is not a typed array")},nt=function(Ct){if(l(Ct)&&(!E||A(G,Ct)))return Ct;throw new q(p(Ct)+" is not a typed array constructor")},gt=function(Ct,te,Zt,Tn){if(r){if(Zt)for(var nn in W){var Fe=i[nn];if(Fe&&h(Fe.prototype,Ct))try{delete Fe.prototype[Ct]}catch{try{Fe.prototype[Ct]=te}catch{}}}(!X[Ct]||Zt)&&v(X,Ct,Zt?te:J&&F[Ct]||te,Tn)}},Mt=function(Ct,te,Zt){var Tn,nn;if(r){if(E){if(Zt){for(Tn in W)if(nn=i[Tn],nn&&h(nn,Ct))try{delete nn[Ct]}catch{}}if(!G[Ct]||Zt)try{return v(G,Ct,Zt?te:J&&G[Ct]||te)}catch{}else return}for(Tn in W)nn=i[Tn],nn&&(!nn[Ct]||Zt)&&v(nn,Ct,te)}};for(ct in W)it=i[ct],B=it&&it.prototype,B?D(B)[tt]=it:J=!1;for(ct in dt)it=i[ct],B=it&&it.prototype,B&&(D(B)[tt]=it);if((!J||!l(G)||G===Function.prototype)&&(G=function(){throw new q("Incorrect invocation")},J))for(ct in W)i[ct]&&E(i[ct],G);if((!J||!X||X===ot)&&(X=G.prototype,J))for(ct in W)i[ct]&&E(i[ct].prototype,X);if(J&&b(z)!==X&&E(z,X),r&&!h(X,st)){Y=!0,x(X,st,{configurable:!0,get:function(){return c(this)?this[ht]:void 0}});for(ct in W)i[ct]&&g(i[ct],ht,ct)}u.exports={NATIVE_ARRAY_BUFFER_VIEWS:J,TYPED_ARRAY_TAG:Y&&ht,aTypedArray:Q,aTypedArrayConstructor:nt,exportTypedArrayMethod:gt,exportTypedArrayStaticMethod:Mt,getTypedArrayConstructor:bt,isView:yt,isTypedArray:Z,TypedArray:G,TypedArrayPrototype:X}},4659(u,e,t){var n=t(3724),r=t(4913),i=t(6980);u.exports=function(l,c,h){n?r.f(l,c,i(0,h)):l[c]=h}},4901(u){var e=typeof document=="object"&&document.all;u.exports=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"}},4913(u,e,t){var n=t(3724),r=t(5917),i=t(8686),l=t(8551),c=t(6969),h=TypeError,f=Object.defineProperty,p=Object.getOwnPropertyDescriptor,g="enumerable",v="configurable",x="writable";e.f=n?i?function(b,E,T){if(l(b),E=c(E),l(T),typeof b=="function"&&E==="prototype"&&"value"in T&&x in T&&!T[x]){var R=p(b,E);R&&R[x]&&(b[E]=T.value,T={configurable:v in T?T[v]:R[v],enumerable:g in T?T[g]:R[g],writable:!1})}return f(b,E,T)}:f:function(b,E,T){if(l(b),E=c(E),l(T),r)try{return f(b,E,T)}catch{}if("get"in T||"set"in T)throw new h("Accessors not supported");return"value"in T&&(b[E]=T.value),b}},4916(u,e,t){var n=t(7751),r=function(l){return{size:l,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},i=function(l){return{size:l,has:function(){return!0},keys:function(){throw new Error("e")}}};u.exports=function(l,c){var h=n("Set");try{new h()[l](r(0));try{return new h()[l](r(-1)),!1}catch{if(!c)return!0;try{return new h()[l](i(-1/0)),!1}catch{var f=new h([1,2]);return c(f[l](i(1/0)))}}}catch{return!1}}},4972(u,e,t){var n=t(6518),r=t(9565),i=t(8551),l=t(1767),c=t(4149),h=t(9590),f=t(9462),p=t(9539),g=t(4549),v=t(6395),x=!v&&g("take",RangeError),A=f(function(){var b=this.iterator;if(!this.remaining--)return this.done=!0,p(b,"normal",void 0);var E=i(r(this.next,b)),T=this.done=!!E.done;if(!T)return E.value});n({target:"Iterator",proto:!0,real:!0,forced:v||x},{take:function(E){i(this);var T;try{T=h(c(+E))}catch(R){p(this,"throw",R)}return x?r(x,this,T):new A(l(this),{remaining:T})}})},4979(u,e,t){var n=t(6518),r=t(4576),i=t(7751),l=t(6980),c=t(4913).f,h=t(9297),f=t(679),p=t(3167),g=t(2603),v=t(5002),x=t(8574),A=t(3724),b=t(6395),E="DOMException",T=i("Error"),R=i(E),N=function(){f(this,D);var tt=arguments.length,J=g(tt<1?void 0:arguments[0]),Y=g(tt<2?void 0:arguments[1],"Error"),ct=new R(J,Y),it=new T(J);return it.name=E,c(ct,"stack",l(1,x(it.stack,1))),p(ct,this,N),ct},D=N.prototype=R.prototype,M="stack"in new T(E),L="stack"in new R(1,2),F=R&&A&&Object.getOwnPropertyDescriptor(r,E),U=!!F&&!(F.writable&&F.configurable),z=M&&!U&&!L;n({global:!0,constructor:!0,forced:b||z},{DOMException:z?N:R});var G=i(E),X=G.prototype;if(X.constructor!==G){b||c(X,"constructor",l(1,G));for(var ot in v)if(h(v,ot)){var q=v[ot],st=q.s;h(G,st)||c(G,st,l(6,q.c))}}},5002(u){u.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},5024(u,e,t){var n=t(6518),r=t(3650),i=t(9835),l=t(4916),c=!l("symmetricDifference")||!i("symmetricDifference");n({target:"Set",proto:!0,real:!0,forced:c},{symmetricDifference:r})},5031(u,e,t){var n=t(7751),r=t(9504),i=t(8480),l=t(3717),c=t(8551),h=r([].concat);u.exports=n("Reflect","ownKeys")||function(p){var g=i.f(c(p)),v=l.f;return v?h(g,v(p)):g}},5169(u,e,t){var n=t(3238),r=TypeError;u.exports=function(i){if(n(i))throw new r("ArrayBuffer is detached");return i}},5170(u,e,t){var n=t(6706),r=t(4402);u.exports=n(r.proto,"size","get")||function(i){return i.size}},5213(u,e,t){var n=t(6518),r=t(4576),i=t(5370),l=t(9143),c=r.Uint8Array,h=!c||!c.fromBase64||!(function(){try{c.fromBase64("a");return}catch{}try{c.fromBase64("",null)}catch{return!0}})();c&&n({target:"Uint8Array",stat:!0,forced:h},{fromBase64:function(p){var g=l(p,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return i(c,g.bytes)}})},5370(u,e,t){var n=t(6198);u.exports=function(r,i,l){for(var c=0,h=arguments.length>2?l:n(i),f=new r(h);h>c;)f[c]=i[c++];return f}},5397(u,e,t){var n=t(7055),r=t(7750);u.exports=function(i){return n(r(i))}},5610(u,e,t){var n=t(1291),r=Math.max,i=Math.min;u.exports=function(l,c){var h=n(l);return h<0?r(h+c,0):i(h,c)}},5623(u,e,t){t(456)},5636(u,e,t){var n=t(4576),r=t(9504),i=t(6706),l=t(7696),c=t(5169),h=t(7394),f=t(4483),p=t(1548),g=n.structuredClone,v=n.ArrayBuffer,x=n.DataView,A=Math.min,b=v.prototype,E=x.prototype,T=r(b.slice),R=i(b,"resizable","get"),N=i(b,"maxByteLength","get"),D=r(E.getInt8),M=r(E.setInt8);u.exports=(p||f)&&function(L,F,U){var z=h(L),G=F===void 0?z:l(F),X=!R||!R(L),ot;if(c(L),p&&(L=g(L,{transfer:[L]}),z===G&&(U||X)))return L;if(z>=G&&(!U||X))ot=T(L,0,G);else{var q=U&&!X&&N?{maxByteLength:N(L)}:void 0;ot=new v(G,q);for(var st=new x(L),ht=new x(ot),tt=A(G,z),J=0;J<tt;J++)M(ht,J,D(st,J))}return p||f(L),ot}},5745(u,e,t){var n=t(7629);u.exports=function(r,i){return n[r]||(n[r]=i||{})}},5781(u,e,t){var n=t(6518),r=t(7751),i=t(2812),l=t(655),c=t(7416),h=r("URL");n({target:"URL",stat:!0,forced:!c},{parse:function(p){var g=i(arguments.length,1),v=l(p),x=g<2||arguments[1]===void 0?void 0:l(arguments[1]);try{return new h(v,x)}catch{return null}}})},5854(u,e,t){var n=t(2777),r=TypeError;u.exports=function(i){var l=n(i,"number");if(typeof l=="number")throw new r("Can't convert number to bigint");return BigInt(l)}},5876(u,e,t){var n=t(6518),r=t(3838),i=t(4916),l=!i("isSubsetOf",function(c){return c});n({target:"Set",proto:!0,real:!0,forced:l},{isSubsetOf:r})},5917(u,e,t){var n=t(3724),r=t(9039),i=t(4055);u.exports=!n&&!r(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!==7})},5966(u,e,t){var n=t(9306),r=t(4117);u.exports=function(i,l){var c=i[l];return r(c)?void 0:n(c)}},6043(u,e,t){var n=t(9306),r=TypeError,i=function(l){var c,h;this.promise=new l(function(f,p){if(c!==void 0||h!==void 0)throw new r("Bad Promise constructor");c=f,h=p}),this.resolve=n(c),this.reject=n(h)};u.exports.f=function(l){return new i(l)}},6080(u,e,t){var n=t(7476),r=t(9306),i=t(616),l=n(n.bind);u.exports=function(c,h){return r(c),h===void 0?c:i?l(c,h):function(){return c.apply(h,arguments)}}},6119(u,e,t){var n=t(5745),r=t(3392),i=n("keys");u.exports=function(l){return i[l]||(i[l]=r(l))}},6193(u,e,t){var n=t(4215);u.exports=n==="NODE"},6198(u,e,t){var n=t(8014);u.exports=function(r){return n(r.length)}},6269(u){u.exports={}},6279(u,e,t){var n=t(6840);u.exports=function(r,i,l){for(var c in i)n(r,c,i[c],l);return r}},6319(u,e,t){var n=t(8551),r=t(9539);u.exports=function(i,l,c,h){try{return h?l(n(c)[0],c[1]):l(c)}catch(f){r(i,"throw",f)}}},6395(u){u.exports=!1},6518(u,e,t){var n=t(4576),r=t(7347).f,i=t(6699),l=t(6840),c=t(9433),h=t(7740),f=t(2796);u.exports=function(p,g){var v=p.target,x=p.global,A=p.stat,b,E,T,R,N,D;if(x?E=n:A?E=n[v]||c(v,{}):E=n[v]&&n[v].prototype,E)for(T in g){if(N=g[T],p.dontCallGetSet?(D=r(E,T),R=D&&D.value):R=E[T],b=f(x?T:v+(A?".":"#")+T,p.forced),!b&&R!==void 0){if(typeof N==typeof R)continue;h(N,R)}(p.sham||R&&R.sham)&&i(N,"sham",!0),l(E,T,N,p)}}},6573(u,e,t){var n=t(3724),r=t(2106),i=t(3238),l=ArrayBuffer.prototype;n&&!("detached"in l)&&r(l,"detached",{configurable:!0,get:function(){return i(this)}})},6632(u,e,t){var n=t(6518),r=t(4576),i=t(9143),l=t(4154),c=r.Uint8Array,h=!c||!c.prototype.setFromBase64||!(function(){var f=new c([255,255,255,255,255]);try{f.setFromBase64("",null);return}catch{}try{f.setFromBase64("a");return}catch{}try{f.setFromBase64("MjYyZg===")}catch{return f[0]===50&&f[1]===54&&f[2]===50&&f[3]===255&&f[4]===255}})();c&&n({target:"Uint8Array",proto:!0,forced:h},{setFromBase64:function(p){l(this);var g=i(p,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:g.read,written:g.written}}})},6699(u,e,t){var n=t(3724),r=t(4913),i=t(6980);u.exports=n?function(l,c,h){return r.f(l,c,i(1,h))}:function(l,c,h){return l[c]=h,l}},6706(u,e,t){var n=t(9504),r=t(9306);u.exports=function(i,l,c){try{return n(r(Object.getOwnPropertyDescriptor(i,l)[c]))}catch{}}},6801(u,e,t){var n=t(3724),r=t(8686),i=t(4913),l=t(8551),c=t(5397),h=t(1072);e.f=n&&!r?Object.defineProperties:function(p,g){l(p);for(var v=c(g),x=h(g),A=x.length,b=0,E;A>b;)i.f(p,E=x[b++],v[E]);return p}},6823(u){var e=String;u.exports=function(t){try{return e(t)}catch{return"Object"}}},6837(u){var e=TypeError,t=9007199254740991;u.exports=function(n){if(n>t)throw e("Maximum allowed index exceeded");return n}},6840(u,e,t){var n=t(4901),r=t(4913),i=t(283),l=t(9433);u.exports=function(c,h,f,p){p||(p={});var g=p.enumerable,v=p.name!==void 0?p.name:h;if(n(f)&&i(f,v,p),p.global)g?c[h]=f:l(h,f);else{try{p.unsafe?c[h]&&(g=!0):delete c[h]}catch{}g?c[h]=f:r.f(c,h,{value:f,enumerable:!1,configurable:!p.nonConfigurable,writable:!p.nonWritable})}return c}},6955(u,e,t){var n=t(2140),r=t(4901),i=t(2195),l=t(8227),c=l("toStringTag"),h=Object,f=i((function(){return arguments})())==="Arguments",p=function(g,v){try{return g[v]}catch{}};u.exports=n?i:function(g){var v,x,A;return g===void 0?"Undefined":g===null?"Null":typeof(x=p(v=h(g),c))=="string"?x:f?i(v):(A=i(v))==="Object"&&r(v.callee)?"Arguments":A}},6969(u,e,t){var n=t(2777),r=t(757);u.exports=function(i){var l=n(i,"string");return r(l)?l:l+""}},6980(u){u.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},7040(u,e,t){var n=t(4495);u.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},7055(u,e,t){var n=t(9504),r=t(9039),i=t(2195),l=Object,c=n("".split);u.exports=r(function(){return!l("z").propertyIsEnumerable(0)})?function(h){return i(h)==="String"?c(h,""):l(h)}:l},7080(u,e,t){var n=t(4402).has;u.exports=function(r){return n(r),r}},7347(u,e,t){var n=t(3724),r=t(9565),i=t(8773),l=t(6980),c=t(5397),h=t(6969),f=t(9297),p=t(5917),g=Object.getOwnPropertyDescriptor;e.f=n?g:function(x,A){if(x=c(x),A=h(A),p)try{return g(x,A)}catch{}if(f(x,A))return l(!r(i.f,x,A),x[A])}},7394(u,e,t){var n=t(4576),r=t(6706),i=t(2195),l=n.ArrayBuffer,c=n.TypeError;u.exports=l&&r(l.prototype,"byteLength","get")||function(h){if(i(h)!=="ArrayBuffer")throw new c("ArrayBuffer expected");return h.byteLength}},7416(u,e,t){var n=t(9039),r=t(8227),i=t(3724),l=t(6395),c=r("iterator");u.exports=!n(function(){var h=new URL("b?a=1&b=2&c=3","https://a"),f=h.searchParams,p=new URLSearchParams("a=1&a=2&b=3"),g="";return h.pathname="c%20d",f.forEach(function(v,x){f.delete("b"),g+=x+v}),p.delete("a",2),p.delete("b",void 0),l&&(!h.toJSON||!p.has("a",1)||p.has("a",2)||!p.has("a",void 0)||p.has("b"))||!f.size&&(l||!i)||!f.sort||h.href!=="https://a/c%20d?a=1&c=3"||f.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!f[c]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||g!=="a1c3"||new URL("https://x",void 0).host!=="x"})},7476(u,e,t){var n=t(2195),r=t(9504);u.exports=function(i){if(n(i)==="Function")return r(i)}},7566(u,e,t){var n=t(6840),r=t(9504),i=t(655),l=t(2812),c=URLSearchParams,h=c.prototype,f=r(h.getAll),p=r(h.has),g=new c("a=1");(g.has("a",2)||!g.has("a",void 0))&&n(h,"has",function(x){var A=arguments.length,b=A<2?void 0:arguments[1];if(A&&b===void 0)return p(this,x);var E=f(this,x);l(A,1);for(var T=i(b),R=0;R<E.length;)if(E[R++]===T)return!0;return!1},{enumerable:!0,unsafe:!0})},7588(u,e,t){var n=t(6518),r=t(9565),i=t(2652),l=t(9306),c=t(8551),h=t(1767),f=t(9539),p=t(4549),g=p("forEach",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:g},{forEach:function(x){c(this);try{l(x)}catch(E){f(this,"throw",E)}if(g)return r(g,this,x);var A=h(this),b=0;i(A,function(E){x(E,b++)},{IS_RECORD:!0})}})},7629(u,e,t){var n=t(6395),r=t(4576),i=t(9433),l="__core-js_shared__",c=u.exports=r[l]||i(l,{});(c.versions||(c.versions=[])).push({version:"3.47.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7642(u,e,t){var n=t(6518),r=t(3440),i=t(9039),l=t(4916),c=!l("difference",function(f){return f.size===0}),h=c||i(function(){var f={size:1,has:function(){return!0},keys:function(){var g=0;return{next:function(){var v=g++>1;return p.has(1)&&p.clear(),{done:v,value:2}}}}},p=new Set([1,2,3,4]);return p.difference(f).size!==3});n({target:"Set",proto:!0,real:!0,forced:h},{difference:r})},7657(u,e,t){var n=t(9039),r=t(4901),i=t(34),l=t(2360),c=t(2787),h=t(6840),f=t(8227),p=t(6395),g=f("iterator"),v=!1,x,A,b;[].keys&&(b=[].keys(),"next"in b?(A=c(c(b)),A!==Object.prototype&&(x=A)):v=!0);var E=!i(x)||n(function(){var T={};return x[g].call(T)!==T});E?x={}:p&&(x=l(x)),r(x[g])||h(x,g,function(){return this}),u.exports={IteratorPrototype:x,BUGGY_SAFARI_ITERATORS:v}},7680(u,e,t){var n=t(9504);u.exports=n([].slice)},7696(u,e,t){var n=t(1291),r=t(8014),i=RangeError;u.exports=function(l){if(l===void 0)return 0;var c=n(l),h=r(c);if(c!==h)throw new i("Wrong length or index");return h}},7740(u,e,t){var n=t(9297),r=t(5031),i=t(7347),l=t(4913);u.exports=function(c,h,f){for(var p=r(h),g=l.f,v=i.f,x=0;x<p.length;x++){var A=p[x];!n(c,A)&&!(f&&n(f,A))&&g(c,A,v(h,A))}}},7750(u,e,t){var n=t(4117),r=TypeError;u.exports=function(i){if(n(i))throw new r("Can't call method on "+i);return i}},7751(u,e,t){var n=t(4576),r=t(4901),i=function(l){return r(l)?l:void 0};u.exports=function(l,c){return arguments.length<2?i(n[l]):n[l]&&n[l][c]}},7811(u){u.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},7936(u,e,t){var n=t(6518),r=t(5636);r&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return r(this,arguments.length?arguments[0]:void 0,!1)}})},8004(u,e,t){var n=t(6518),r=t(9039),i=t(8750),l=t(4916),c=!l("intersection",function(h){return h.size===2&&h.has(1)&&h.has(2)})||r(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});n({target:"Set",proto:!0,real:!0,forced:c},{intersection:i})},8014(u,e,t){var n=t(1291),r=Math.min;u.exports=function(i){var l=n(i);return l>0?r(l,9007199254740991):0}},8100(u,e,t){var n=t(6518),r=t(5636);r&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return r(this,arguments.length?arguments[0]:void 0,!0)}})},8111(u,e,t){var n=t(6518),r=t(4576),i=t(679),l=t(8551),c=t(4901),h=t(2787),f=t(2106),p=t(4659),g=t(9039),v=t(9297),x=t(8227),A=t(7657).IteratorPrototype,b=t(3724),E=t(6395),T="constructor",R="Iterator",N=x("toStringTag"),D=TypeError,M=r[R],L=E||!c(M)||M.prototype!==A||!g(function(){M({})}),F=function(){if(i(this,A),h(this)===A)throw new D("Abstract class Iterator not directly constructable")},U=function(z,G){b?f(A,z,{configurable:!0,get:function(){return G},set:function(X){if(l(this),this===A)throw new D("You can't redefine this property");v(this,z)?this[z]=X:p(this,z,X)}}):A[z]=G};v(A,N)||U(N,R),(L||!v(A,T)||A[T]===Object)&&U(T,F),F.prototype=A,n({global:!0,constructor:!0,forced:L},{Iterator:F})},8227(u,e,t){var n=t(4576),r=t(5745),i=t(9297),l=t(3392),c=t(4495),h=t(7040),f=n.Symbol,p=r("wks"),g=h?f.for||f:f&&f.withoutSetter||l;u.exports=function(v){return i(p,v)||(p[v]=c&&i(f,v)?f[v]:g("Symbol."+v)),p[v]}},8235(u,e,t){var n=t(9504),r=t(9297),i=SyntaxError,l=parseInt,c=String.fromCharCode,h=n("".charAt),f=n("".slice),p=n(/./.exec),g={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},v=/^[\da-f]{4}$/i,x=/^[\u0000-\u001F]$/;u.exports=function(A,b){for(var E=!0,T="";b<A.length;){var R=h(A,b);if(R==="\\"){var N=f(A,b,b+2);if(r(g,N))T+=g[N],b+=2;else if(N==="\\u"){b+=2;var D=f(A,b,b+4);if(!p(v,D))throw new i("Bad Unicode escape at: "+b);T+=c(l(D,16)),b+=4}else throw new i('Unknown escape sequence: "'+N+'"')}else if(R==='"'){E=!1,b++;break}else{if(p(x,R))throw new i("Bad control character in string literal at: "+b);T+=R,b++}}if(E)throw new i("Unterminated string at: "+b);return{value:T,end:b}}},8237(u,e,t){var n=t(6518),r=t(2652),i=t(9306),l=t(8551),c=t(1767),h=t(9539),f=t(4549),p=t(8745),g=t(9039),v=TypeError,x=g(function(){[].keys().reduce(function(){},void 0)}),A=!x&&f("reduce",v);n({target:"Iterator",proto:!0,real:!0,forced:x||A},{reduce:function(E){l(this);try{i(E)}catch(M){h(this,"throw",M)}var T=arguments.length<2,R=T?void 0:arguments[1];if(A)return p(A,this,T?[E]:[E,R]);var N=c(this),D=0;if(r(N,function(M){T?(T=!1,R=M):R=E(R,M,D),D++},{IS_RECORD:!0}),T)throw new v("Reduce of empty iterator with no initial value");return R}})},8335(u,e,t){t(9112)},8469(u,e,t){var n=t(9504),r=t(507),i=t(4402),l=i.Set,c=i.proto,h=n(c.forEach),f=n(c.keys),p=f(new l).next;u.exports=function(g,v,x){return x?r({iterator:f(g),next:p},v):h(g,v)}},8480(u,e,t){var n=t(1828),r=t(8727),i=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(c){return n(c,i)}},8527(u,e,t){var n=t(7080),r=t(4402).has,i=t(5170),l=t(3789),c=t(507),h=t(9539);u.exports=function(p){var g=n(this),v=l(p);if(i(g)<v.size)return!1;var x=v.getIterator();return c(x,function(A){if(!r(g,A))return h(x,"normal",!1)})!==!1}},8551(u,e,t){var n=t(34),r=String,i=TypeError;u.exports=function(l){if(n(l))return l;throw new i(r(l)+" is not an object")}},8574(u,e,t){var n=t(9504),r=Error,i=n("".replace),l=(function(f){return String(new r(f).stack)})("zxcasd"),c=/\n\s*at [^:]*:[^\n]*/,h=c.test(l);u.exports=function(f,p){if(h&&typeof f=="string"&&!r.prepareStackTrace)for(;p--;)f=i(f,c,"");return f}},8622(u,e,t){var n=t(4576),r=t(4901),i=n.WeakMap;u.exports=r(i)&&/native code/.test(String(i))},8646(u,e,t){var n=t(9565),r=t(8551),i=t(1767),l=t(851);u.exports=function(c,h){(!h||typeof c!="string")&&r(c);var f=l(c);return i(r(f!==void 0?n(f,c):c))}},8686(u,e,t){var n=t(3724),r=t(9039);u.exports=n&&r(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},8721(u,e,t){var n=t(3724),r=t(9504),i=t(2106),l=URLSearchParams.prototype,c=r(l.forEach);n&&!("size"in l)&&i(l,"size",{get:function(){var f=0;return c(this,function(){f++}),f},configurable:!0,enumerable:!0})},8727(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745(u,e,t){var n=t(616),r=Function.prototype,i=r.apply,l=r.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(n?l.bind(i):function(){return l.apply(i,arguments)})},8750(u,e,t){var n=t(7080),r=t(4402),i=t(5170),l=t(3789),c=t(8469),h=t(507),f=r.Set,p=r.add,g=r.has;u.exports=function(x){var A=n(this),b=l(x),E=new f;return i(A)>b.size?h(b.getIterator(),function(T){g(A,T)&&p(E,T)}):c(A,function(T){b.includes(T)&&p(E,T)}),E}},8773(u,e){var t={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!t.call({1:2},1);e.f=r?function(l){var c=n(this,l);return!!c&&c.enumerable}:t},8981(u,e,t){var n=t(7750),r=Object;u.exports=function(i){return r(n(i))}},9039(u){u.exports=function(e){try{return!!e()}catch{return!0}}},9112(u,e,t){var n=t(6518),r=t(3724),i=t(4576),l=t(7751),c=t(9504),h=t(9565),f=t(4901),p=t(34),g=t(4376),v=t(9297),x=t(655),A=t(6198),b=t(4659),E=t(9039),T=t(8235),R=t(4495),N=i.JSON,D=i.Number,M=i.SyntaxError,L=N&&N.parse,F=l("Object","keys"),U=Object.getOwnPropertyDescriptor,z=c("".charAt),G=c("".slice),X=c(/./.exec),ot=c([].push),q=/^\d$/,st=/^[1-9]$/,ht=/^[\d-]$/,tt=/^[\t\n\r ]$/,J=0,Y=1,ct=function(Z,Q){Z=x(Z);var nt=new dt(Z,0),gt=nt.parse(),Mt=gt.value,Ct=nt.skip(tt,gt.end);if(Ct<Z.length)throw new M('Unexpected extra character: "'+z(Z,Ct)+'" after the parsed data at: '+Ct);return f(Q)?it({"":Mt},"",Q,gt):Mt},it=function(Z,Q,nt,gt){var Mt=Z[Q],Ct=gt&&Mt===gt.value,te=Ct&&typeof gt.source=="string"?{source:gt.source}:{},Zt,Tn,nn,Fe,Os;if(p(Mt)){var Tc=g(Mt),xa=Ct?gt.nodes:Tc?[]:{};if(Tc)for(Zt=xa.length,nn=A(Mt),Fe=0;Fe<nn;Fe++)B(Mt,Fe,it(Mt,""+Fe,nt,Fe<Zt?xa[Fe]:void 0));else for(Tn=F(Mt),nn=A(Tn),Fe=0;Fe<nn;Fe++)Os=Tn[Fe],B(Mt,Os,it(Mt,Os,nt,v(xa,Os)?xa[Os]:void 0))}return h(nt,Z,Q,Mt,te)},B=function(Z,Q,nt){if(r){var gt=U(Z,Q);if(gt&&!gt.configurable)return}nt===void 0?delete Z[Q]:b(Z,Q,nt)},W=function(Z,Q,nt,gt){this.value=Z,this.end=Q,this.source=nt,this.nodes=gt},dt=function(Z,Q){this.source=Z,this.index=Q};dt.prototype={fork:function(Z){return new dt(this.source,Z)},parse:function(){var Z=this.source,Q=this.skip(tt,this.index),nt=this.fork(Q),gt=z(Z,Q);if(X(ht,gt))return nt.number();switch(gt){case"{":return nt.object();case"[":return nt.array();case'"':return nt.string();case"t":return nt.keyword(!0);case"f":return nt.keyword(!1);case"n":return nt.keyword(null)}throw new M('Unexpected character: "'+gt+'" at: '+Q)},node:function(Z,Q,nt,gt,Mt){return new W(Q,gt,Z?null:G(this.source,nt,gt),Mt)},object:function(){for(var Z=this.source,Q=this.index+1,nt=!1,gt={},Mt={};Q<Z.length;){if(Q=this.until(['"',"}"],Q),z(Z,Q)==="}"&&!nt){Q++;break}var Ct=this.fork(Q).string(),te=Ct.value;Q=Ct.end,Q=this.until([":"],Q)+1,Q=this.skip(tt,Q),Ct=this.fork(Q).parse(),b(Mt,te,Ct),b(gt,te,Ct.value),Q=this.until([",","}"],Ct.end);var Zt=z(Z,Q);if(Zt===",")nt=!0,Q++;else if(Zt==="}"){Q++;break}}return this.node(Y,gt,this.index,Q,Mt)},array:function(){for(var Z=this.source,Q=this.index+1,nt=!1,gt=[],Mt=[];Q<Z.length;){if(Q=this.skip(tt,Q),z(Z,Q)==="]"&&!nt){Q++;break}var Ct=this.fork(Q).parse();if(ot(Mt,Ct),ot(gt,Ct.value),Q=this.until([",","]"],Ct.end),z(Z,Q)===",")nt=!0,Q++;else if(z(Z,Q)==="]"){Q++;break}}return this.node(Y,gt,this.index,Q,Mt)},string:function(){var Z=this.index,Q=T(this.source,this.index+1);return this.node(J,Q.value,Z,Q.end)},number:function(){var Z=this.source,Q=this.index,nt=Q;if(z(Z,nt)==="-"&&nt++,z(Z,nt)==="0")nt++;else if(X(st,z(Z,nt)))nt=this.skip(q,nt+1);else throw new M("Failed to parse number at: "+nt);if(z(Z,nt)==="."&&(nt=this.skip(q,nt+1)),z(Z,nt)==="e"||z(Z,nt)==="E"){nt++,(z(Z,nt)==="+"||z(Z,nt)==="-")&&nt++;var gt=nt;if(nt=this.skip(q,nt),gt===nt)throw new M("Failed to parse number's exponent value at: "+nt)}return this.node(J,D(G(Z,Q,nt)),Q,nt)},keyword:function(Z){var Q=""+Z,nt=this.index,gt=nt+Q.length;if(G(this.source,nt,gt)!==Q)throw new M("Failed to parse value at: "+nt);return this.node(J,Z,nt,gt)},skip:function(Z,Q){for(var nt=this.source;Q<nt.length&&X(Z,z(nt,Q));Q++);return Q},until:function(Z,Q){Q=this.skip(tt,Q);for(var nt=z(this.source,Q),gt=0;gt<Z.length;gt++)if(Z[gt]===nt)return Q;throw new M('Unexpected character: "'+nt+'" at: '+Q)}};var yt=E(function(){var Z="9007199254740993",Q;return L(Z,function(nt,gt,Mt){Q=Mt.source}),Q!==Z}),bt=R&&!E(function(){return 1/L("-0 	")!==-1/0});n({target:"JSON",stat:!0,forced:yt},{parse:function(Q,nt){return bt&&!f(nt)?L(Q):ct(Q,nt)}})},9143(u,e,t){var n=t(4576),r=t(9504),i=t(3972),l=t(3463),c=t(9297),h=t(2804),f=t(944),p=t(5169),g=h.c2i,v=h.c2iUrl,x=n.SyntaxError,A=n.TypeError,b=r("".charAt),E=function(N,D){for(var M=N.length;D<M;D++){var L=b(N,D);if(L!==" "&&L!=="	"&&L!==`
`&&L!=="\f"&&L!=="\r")break}return D},T=function(N,D,M){var L=N.length;L<4&&(N+=L===2?"AA":"A");var F=(D[b(N,0)]<<18)+(D[b(N,1)]<<12)+(D[b(N,2)]<<6)+D[b(N,3)],U=[F>>16&255,F>>8&255,F&255];if(L===2){if(M&&U[1]!==0)throw new x("Extra bits");return[U[0]]}if(L===3){if(M&&U[2]!==0)throw new x("Extra bits");return[U[0],U[1]]}return U},R=function(N,D,M){for(var L=D.length,F=0;F<L;F++)N[M+F]=D[F];return M+L};u.exports=function(N,D,M,L){l(N),i(D);var F=f(D)==="base64"?g:v,U=D?D.lastChunkHandling:void 0;if(U===void 0&&(U="loose"),U!=="loose"&&U!=="strict"&&U!=="stop-before-partial")throw new A("Incorrect `lastChunkHandling` option");M&&p(M.buffer);var z=N.length,G=M||[],X=0,ot=0,q="",st=0;if(L)for(;;){if(st=E(N,st),st===z){if(q.length>0){if(U==="stop-before-partial")break;if(U==="loose"){if(q.length===1)throw new x("Malformed padding: exactly one additional character");X=R(G,T(q,F,!1),X)}else throw new x("Missing padding")}ot=z;break}var ht=b(N,st);if(++st,ht==="="){if(q.length<2)throw new x("Padding is too early");if(st=E(N,st),q.length===2){if(st===z){if(U==="stop-before-partial")break;throw new x("Malformed padding: only one =")}b(N,st)==="="&&(++st,st=E(N,st))}if(st<z)throw new x("Unexpected character after padding");X=R(G,T(q,F,U==="strict"),X),ot=z;break}if(!c(F,ht))throw new x("Unexpected character");var tt=L-X;if(tt===1&&q.length===2||tt===2&&q.length===3||(q+=ht,q.length===4&&(X=R(G,T(q,F,!1),X),q="",ot=st,X===L)))break}return{bytes:G,read:ot,written:X}}},9286(u,e,t){var n=t(4402),r=t(8469),i=n.Set,l=n.add;u.exports=function(c){var h=new i;return r(c,function(f){l(h,f)}),h}},9297(u,e,t){var n=t(9504),r=t(8981),i=n({}.hasOwnProperty);u.exports=Object.hasOwn||function(c,h){return i(r(c),h)}},9306(u,e,t){var n=t(4901),r=t(6823),i=TypeError;u.exports=function(l){if(n(l))return l;throw new i(r(l)+" is not a function")}},9314(u,e,t){var n=t(6518),r=t(9565),i=t(8551),l=t(1767),c=t(4149),h=t(9590),f=t(9539),p=t(9462),g=t(684),v=t(4549),x=t(6395),A=!x&&!g("drop",0),b=!x&&!A&&v("drop",RangeError),E=x||A||b,T=p(function(){for(var R=this.iterator,N=this.next,D,M;this.remaining;)if(this.remaining--,D=i(r(N,R)),M=this.done=!!D.done,M)return;if(D=i(r(N,R)),M=this.done=!!D.done,!M)return D.value});n({target:"Iterator",proto:!0,real:!0,forced:E},{drop:function(N){i(this);var D;try{D=h(c(+N))}catch(M){f(this,"throw",M)}return b?r(b,this,D):new T(l(this),{remaining:D})}})},9429(u,e,t){var n=t(4576),r=t(6193);u.exports=function(i){if(r){try{return n.process.getBuiltinModule(i)}catch{}try{return Function('return require("'+i+'")')()}catch{}}}},9432(u,e,t){t(5213)},9433(u,e,t){var n=t(4576),r=Object.defineProperty;u.exports=function(i,l){try{r(n,i,{value:l,configurable:!0,writable:!0})}catch{n[i]=l}return l}},9462(u,e,t){var n=t(9565),r=t(2360),i=t(6699),l=t(6279),c=t(8227),h=t(1181),f=t(5966),p=t(7657).IteratorPrototype,g=t(2529),v=t(9539),x=t(1385),A=c("toStringTag"),b="IteratorHelper",E="WrapForValidIterator",T="normal",R="throw",N=h.set,D=function(F){var U=h.getterFor(F?E:b);return l(r(p),{next:function(){var G=U(this);if(F)return G.nextHandler();if(G.done)return g(void 0,!0);try{var X=G.nextHandler();return G.returnHandlerResult?X:g(X,G.done)}catch(ot){throw G.done=!0,ot}},return:function(){var z=U(this),G=z.iterator;if(z.done=!0,F){var X=f(G,"return");return X?n(X,G):g(void 0,!0)}if(z.inner)try{v(z.inner.iterator,T)}catch(ot){return v(G,R,ot)}if(z.openIters)try{x(z.openIters,T)}catch(ot){return v(G,R,ot)}return G&&v(G,T),g(void 0,!0)}})},M=D(!0),L=D(!1);i(L,A,"Iterator Helper"),u.exports=function(F,U,z){var G=function(ot,q){q?(q.iterator=ot.iterator,q.next=ot.next):q=ot,q.type=U?E:b,q.returnHandlerResult=!!z,q.nextHandler=F,q.counter=0,q.done=!1,N(this,q)};return G.prototype=U?M:L,G}},9486(u,e,t){var n=t(6518),r=t(4576),i=t(9504),l=t(3972),c=t(4154),h=t(5169),f=t(2804),p=t(944),g=f.i2c,v=f.i2cUrl,x=i("".charAt),A=r.Uint8Array,b=!A||!A.prototype.toBase64||!(function(){try{var E=new A;E.toBase64(null)}catch{return!0}})();A&&n({target:"Uint8Array",proto:!0,forced:b},{toBase64:function(){var T=c(this),R=arguments.length?l(arguments[0]):void 0,N=p(R)==="base64"?g:v,D=!!R&&!!R.omitPadding;h(this.buffer);for(var M="",L=0,F=T.length,U,z=function(G){return x(N,U>>6*G&63)};L+2<F;L+=3)U=(T[L]<<16)+(T[L+1]<<8)+T[L+2],M+=z(3)+z(2)+z(1)+z(0);return L+2===F?(U=(T[L]<<16)+(T[L+1]<<8),M+=z(3)+z(2)+z(1)+(D?"":"=")):L+1===F&&(U=T[L]<<16,M+=z(3)+z(2)+(D?"":"==")),M}})},9504(u,e,t){var n=t(616),r=Function.prototype,i=r.call,l=n&&r.bind.bind(i,i);u.exports=n?l:function(c){return function(){return i.apply(c,arguments)}}},9519(u,e,t){var n=t(4576),r=t(2839),i=n.process,l=n.Deno,c=i&&i.versions||l&&l.version,h=c&&c.v8,f,p;h&&(f=h.split("."),p=f[0]>0&&f[0]<4?1:+(f[0]+f[1])),!p&&r&&(f=r.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=r.match(/Chrome\/(\d+)/),f&&(p=+f[1]))),u.exports=p},9539(u,e,t){var n=t(9565),r=t(8551),i=t(5966);u.exports=function(l,c,h){var f,p;r(l);try{if(f=i(l,"return"),!f){if(c==="throw")throw h;return h}f=n(f,l)}catch(g){p=!0,f=g}if(c==="throw")throw h;if(p)throw f;return r(f),h}},9565(u,e,t){var n=t(616),r=Function.prototype.call;u.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},9577(u,e,t){var n=t(9928),r=t(4644),i=t(1108),l=t(1291),c=t(5854),h=r.aTypedArray,f=r.getTypedArrayConstructor,p=r.exportTypedArrayMethod,g=(function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(x){return x===8}})(),v=g&&(function(){try{new Int8Array(1).with(-.5,1)}catch{return!0}})();p("with",function(x,A){var b=h(this),E=l(x),T=i(b)?c(A):+A;return n(b,f(b),E,T)},!g||v)},9590(u,e,t){var n=t(1291),r=RangeError;u.exports=function(i){var l=n(i);if(l<0)throw new r("The argument can't be less than 0");return l}},9617(u,e,t){var n=t(5397),r=t(5610),i=t(6198),l=function(c){return function(h,f,p){var g=n(h),v=i(g);if(v===0)return!c&&-1;var x=r(p,v),A;if(c&&f!==f){for(;v>x;)if(A=g[x++],A!==A)return!0}else for(;v>x;x++)if((c||x in g)&&g[x]===f)return c||x||0;return!c&&-1}};u.exports={includes:l(!0),indexOf:l(!1)}},9631(u,e,t){t(9486)},9797(u,e,t){t(4226)},9835(u){u.exports=function(e){try{var t=new Set,n={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return t.clear(),t.add(4),function(){return{done:!0}}}})}},r=t[e](n);return r.size===1&&r.values().next().value===4}catch{return!1}}},9928(u,e,t){var n=t(6198),r=t(1291),i=RangeError;u.exports=function(l,c,h,f){var p=n(l),g=r(h),v=g<0?p+g:g;if(v>=p||v<0)throw new i("Incorrect index");for(var x=new c(p),A=0;A<p;A++)x[A]=A===v?f:l[A];return x}}},AS={};function jt(u){var e=AS[u];if(e!==void 0)return e.exports;var t=AS[u]={exports:{}};return PN[u].call(t.exports,t,t.exports,jt),t.exports}jt.d=(u,e)=>{for(var t in e)jt.o(e,t)&&!jt.o(u,t)&&Object.defineProperty(u,t,{enumerable:!0,get:e[t]})};jt.o=(u,e)=>Object.prototype.hasOwnProperty.call(u,e);jt(4114);jt(6573);jt(8100);jt(7936);jt(8111);jt(8237);jt(9577);jt(4235);jt(1549);jt(9797);jt(9631);jt(5623);jt(5781);const Gn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),fx=[.001,0,0,.001,0,0],ex=1.35,Fr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ua={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},sf="pdfjs_internal_editor_",Ot={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},$t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},kN={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},px={TRIANGLES:1,LATTICE:2},Je={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Rg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ve={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},qc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Gv={ERRORS:0,WARNINGS:1,INFOS:5},af={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Rd={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},NN={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Xv=Gv.WARNINGS;function RN(u){Number.isInteger(u)&&(Xv=u)}function IN(){return Xv}function Yv(u){Xv>=Gv.INFOS&&console.info(`Info: ${u}`)}function Rt(u){Xv>=Gv.WARNINGS&&console.warn(`Warning: ${u}`)}function Jt(u){throw new Error(u)}function Qt(u,e){u||Jt(e)}function MN(u){switch(u==null?void 0:u.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function mE(u,e=null,t=null){if(!u)return null;if(t&&typeof u=="string"){if(t.addDefaultProtocol&&u.startsWith("www.")){const r=u.match(/\./g);(r==null?void 0:r.length)>=2&&(u=`http://${u}`)}if(t.tryConvertEncoding)try{u=BN(u)}catch{}}const n=e?URL.parse(u,e):URL.parse(u);return MN(n)?n:null}function gE(u,e,t=!1){const n=URL.parse(u);return n?(n.hash=e,n.href):t&&mE(u,"http://example.com")?u.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Dt(u,e,t,n=!1){return Object.defineProperty(u,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Ec=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class SS extends Ec{constructor(e,t){super(e,"PasswordException"),this.code=t}}class nx extends Ec{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class mx extends Ec{constructor(e){super(e,"InvalidPDFException")}}class dv extends Ec{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class DN extends Ec{constructor(e){super(e,"FormatError")}}class Bo extends Ec{constructor(e){super(e,"AbortException")}}function LN(u){(typeof u!="object"||(u==null?void 0:u.length)===void 0)&&Jt("Invalid argument for bytesToString");const e=u.length,t=8192;if(e<t)return String.fromCharCode.apply(null,u);const n=[];for(let r=0;r<e;r+=t){const i=Math.min(r+t,e),l=u.subarray(r,i);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Kv(u){typeof u!="string"&&Jt("Invalid argument for stringToBytes");const e=u.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=u.charCodeAt(n)&255;return t}function ON(u){return String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255)}function FN(){const u=new Uint8Array(4);return u[0]=1,new Uint32Array(u.buffer,0,1)[0]===1}function jN(){try{return new Function(""),!0}catch{return!1}}class en{static get isLittleEndian(){return Dt(this,"isLittleEndian",FN())}static get isEvalSupported(){return Dt(this,"isEvalSupported",jN())}static get isOffscreenCanvasSupported(){return Dt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Dt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Dt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Dt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Dt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Dt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const rx=Array.from(Array(256).keys(),u=>u.toString(16).padStart(2,"0"));var fa,Ig,gx;class pt{static makeHexColor(e,t,n){return`#${rx[e]}${rx[t]}${rx[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const r=e[n],i=e[n+1];e[n]=r*t[0]+i*t[2]+t[4],e[n+1]=r*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const r=t[0],i=t[1],l=t[2],c=t[3],h=t[4],f=t[5];for(let p=0;p<6;p+=2){const g=e[n+p],v=e[n+p+1];e[n+p]=g*r+v*l+h,e[n+p+1]=g*i+v*c+f}}static applyInverseTransform(e,t){const n=e[0],r=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-n*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,n){const r=t[0],i=t[1],l=t[2],c=t[3],h=t[4],f=t[5],p=e[0],g=e[1],v=e[2],x=e[3];let A=r*p+h,b=A,E=r*v+h,T=E,R=c*g+f,N=R,D=c*x+f,M=D;if(i!==0||l!==0){const L=i*p,F=i*v,U=l*g,z=l*x;A+=U,T+=U,E+=z,b+=z,R+=L,M+=L,D+=F,N+=F}n[0]=Math.min(n[0],A,E,b,T),n[1]=Math.min(n[1],R,D,N,M),n[2]=Math.max(n[2],A,E,b,T),n[3]=Math.max(n[3],R,D,N,M)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],r=e[1],i=e[2],l=e[3],c=n**2+r**2,h=n*i+r*l,f=i**2+l**2,p=(c+f)/2,g=Math.sqrt(p**2-(c*f-h**2));t[0]=Math.sqrt(p+g||1),t[1]=Math.sqrt(p-g||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>l?null:[n,i,r,l]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,r,i){i[0]=Math.min(i[0],e,n),i[1]=Math.min(i[1],t,r),i[2]=Math.max(i[2],e,n),i[3]=Math.max(i[3],t,r)}static bezierBoundingBox(e,t,n,r,i,l,c,h,f){f[0]=Math.min(f[0],e,c),f[1]=Math.min(f[1],t,h),f[2]=Math.max(f[2],e,c),f[3]=Math.max(f[3],t,h),k(this,fa,gx).call(this,e,n,i,c,t,r,l,h,3*(-e+3*(n-i)+c),6*(e-2*n+i),3*(n-e),f),k(this,fa,gx).call(this,e,n,i,c,t,r,l,h,3*(-t+3*(r-l)+h),6*(t-2*r+l),3*(r-t),f)}}fa=new WeakSet,Ig=function(e,t,n,r,i,l,c,h,f,p){if(f<=0||f>=1)return;const g=1-f,v=f*f,x=v*f,A=g*(g*(g*e+3*f*t)+3*v*n)+x*r,b=g*(g*(g*i+3*f*l)+3*v*c)+x*h;p[0]=Math.min(p[0],A),p[1]=Math.min(p[1],b),p[2]=Math.max(p[2],A),p[3]=Math.max(p[3],b)},gx=function(e,t,n,r,i,l,c,h,f,p,g,v){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&k(this,fa,Ig).call(this,e,t,n,r,i,l,c,h,-g/p,v);return}const x=p**2-4*g*f;if(x<0)return;const A=Math.sqrt(x),b=2*f;k(this,fa,Ig).call(this,e,t,n,r,i,l,c,h,(-p+A)/b,v),k(this,fa,Ig).call(this,e,t,n,r,i,l,c,h,(-p-A)/b,v)},P(pt,fa);function BN(u){return decodeURIComponent(escape(u))}let sx=null,ES=null;function _N(u){return sx||(sx=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ES=new Map([["","t"]])),u.replaceAll(sx,(e,t,n)=>t?t.normalize("NFKC"):ES.get(n))}function vE(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const u=new Uint8Array(32);return crypto.getRandomValues(u),LN(u)}const ou="pdfjs_internal_id_";function UN(u,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,r,...i]=t;if(!u(n)&&!Number.isInteger(n)||!e(r))return!1;const l=i.length;let c=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const h of i)if(!(typeof h=="number"||c&&h===null))return!1;return!0}function An(u,e,t){return Math.min(Math.max(u,e),t)}typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(u){return u.reduce((e,t)=>e+t,0)});typeof AbortSignal.any!="function"&&(AbortSignal.any=function(u){const e=new AbortController,{signal:t}=e;for(const n of u)if(n.aborted)return e.abort(n.reason),t;for(const n of u)n.addEventListener("abort",()=>{e.abort(n.reason)},{signal:t});return t});jt(1701);jt(4603);jt(7566);jt(8721);class of{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(i){var h;if(!i)return;let l=null;const c=i.name;if(c==="#text")l=i.value;else if(of.shouldBuildText(c))(h=i==null?void 0:i.attributes)!=null&&h.textContent?l=i.attributes.textContent:i.value&&(l=i.value);else return;if(l!==null&&t.push({str:l}),!!i.children)for(const f of i.children)r(f)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class yE{static setupStorage(e,t,n,r,i){const l=r.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),i==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",c=>{r.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),i==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const h=c.target.options,f=h.selectedIndex===-1?"":h[h.selectedIndex].value;r.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:i}){const{attributes:l}=t,c=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[h,f]of Object.entries(l))if(f!=null)switch(h){case"class":f.length&&e.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!c||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,f)}c&&i.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var g,v;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,i=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:i,linkService:n});const c=i!=="richText",h=e.div;if(h.append(l),e.viewport){const x=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=x}c&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const x=document.createTextNode(r.value);l.append(x),c&&of.shouldBuildText(r.name)&&f.push(x)}return{textDivs:f}}const p=[[r,-1,l]];for(;p.length>0;){const[x,A,b]=p.at(-1);if(A+1===x.children.length){p.pop();continue}const E=x.children[++p.at(-1)[1]];if(E===null)continue;const{name:T}=E;if(T==="#text"){const N=document.createTextNode(E.value);f.push(N),b.append(N);continue}const R=(g=E==null?void 0:E.attributes)!=null&&g.xmlns?document.createElementNS(E.attributes.xmlns,T):document.createElement(T);if(b.append(R),E.attributes&&this.setAttributes({html:R,element:E,storage:t,intent:i,linkService:n}),((v=E.children)==null?void 0:v.length)>0)p.push([E,-1,R]);else if(E.value){const N=document.createTextNode(E.value);c&&of.shouldBuildText(T)&&f.push(N),R.append(N)}}for(const x of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ci="http://www.w3.org/2000/svg",sl=class sl{};K(sl,"CSS",96),K(sl,"PDF",72),K(sl,"PDF_TO_CSS_UNITS",sl.CSS/sl.PDF);let _o=sl;async function om(u,e="text"){if(Od(u,document.baseURI)){const t=await fetch(u);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",u,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class lm{constructor({viewBox:e,userUnit:t,scale:n,rotation:r,offsetX:i=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=l,n*=t;const h=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,g,v,x;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,g=0,v=0,x=1;break;case 90:p=0,g=1,v=1,x=0;break;case 270:p=0,g=-1,v=-1,x=0;break;case 0:p=1,g=0,v=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(v=-v,x=-x);let A,b,E,T;p===0?(A=Math.abs(f-e[1])*n+i,b=Math.abs(h-e[0])*n+l,E=(e[3]-e[1])*n,T=(e[2]-e[0])*n):(A=Math.abs(h-e[0])*n+i,b=Math.abs(f-e[1])*n+l,E=(e[2]-e[0])*n,T=(e[3]-e[1])*n),this.transform=[p*n,g*n,v*n,x*n,A-p*n*h-v*n*f,b-g*n*h-x*n*f],this.width=E,this.height=T}get rawDims(){const e=this.viewBox;return Dt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new lm({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){const n=[e,t];return pt.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];pt.applyTransform(t,this.transform);const n=[e[2],e[3]];return pt.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return pt.applyInverseTransform(n,this.transform),n}}class Qw extends Ec{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Qv(u){const e=u.length;let t=0;for(;t<e&&u[t].trim()==="";)t++;return u.substring(t,t+5).toLowerCase()==="data:"}function Jw(u){return typeof u=="string"&&/\.pdf$/i.test(u)}function zN(u){return[u]=u.split(/[#?]/,1),u.substring(u.lastIndexOf("/")+1)}function HN(u,e="document.pdf"){if(typeof u!="string")return e;if(Qv(u))return Rt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(u);if(!n)return e;const r=c=>{try{let h=decodeURIComponent(c);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:c):h}catch{return c}},i=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(i.test(l))return r(l);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const f of c)if(i.test(f))return r(f);const h=Array.from(n.searchParams.keys()).reverse();for(const f of h)if(i.test(f))return r(f)}if(n.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(h)return r(h[0])}return e}class CS{constructor(){K(this,"started",Object.create(null));K(this,"times",[])}time(e){e in this.started&&Rt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Rt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:i}of this.times)e.push(`${n.padEnd(t)} ${i-r}ms
`);return e.join("")}}function Od(u,e){const t=e?URL.parse(u,e):URL.parse(u);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function hs(u){u.preventDefault()}function Oe(u){u.preventDefault(),u.stopPropagation()}function $N(u){console.log("Deprecated API usage: "+u)}var hf;class fv{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;o(this,hf)||w(this,hf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=o(this,hf).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(t[6],10);h=h>=0&&h<=59?h:0;const f=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(t[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(l+=p,c+=g):f==="+"&&(l-=p,c-=g),new Date(Date.UTC(n,r,i,l,c,h))}}hf=new WeakMap,P(fv,hf);function VN(u,{scale:e=1,rotation:t=0}){const{width:n,height:r}=u.attributes.style,i=[0,0,parseInt(n),parseInt(r)];return new lm({viewBox:i,userUnit:1,scale:e,rotation:t})}function cm(u){if(u.startsWith("#")){const e=parseInt(u.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return u.startsWith("rgb(")?u.slice(4,-1).split(",").map(e=>parseInt(e)):u.startsWith("rgba(")?u.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Rt(`Not a valid color format: "${u}"`),[0,0,0])}function WN(u){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of u.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;u.set(t,cm(n))}e.remove()}function ke(u){const{a:e,b:t,c:n,d:r,e:i,f:l}=u.getTransform();return[e,t,n,r,i,l]}function zs(u){const{a:e,b:t,c:n,d:r,e:i,f:l}=u.getTransform().invertSelf();return[e,t,n,r,i,l]}function wc(u,e,t=!1,n=!0){if(e instanceof lm){const{pageWidth:r,pageHeight:i}=e.rawDims,{style:l}=u,c=en.isCSSRoundSupported,h=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${i}px`,p=c?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,g=c?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!t||e.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}n&&u.setAttribute("data-main-rotation",e.rotation)}class fi{constructor(){const{pixelRatio:e}=fi;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,r,i=-1){let l=1/0,c=1/0,h=1/0;n=fi.capPixels(n,i),n>0&&(l=Math.sqrt(n/(e*t))),r!==-1&&(c=r/e,h=r/t);const f=Math.min(l,c,h);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const vx=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class GN{static get isDarkMode(){var e;return Dt(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class XN{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),Dt(this,"commentForegroundColor",cm(n))}}function YN(u,e,t,n){n=Math.min(Math.max(n??1,0),1);const r=255*(1-n);return u=Math.round(u*n+r),e=Math.round(e*n+r),t=Math.round(t*n+r),[u,e,t]}function TS(u,e){const t=u[0]/255,n=u[1]/255,r=u[2]/255,i=Math.max(t,n,r),l=Math.min(t,n,r),c=(i+l)/2;if(i===l)e[0]=e[1]=0;else{const h=i-l;switch(e[1]=c<.5?h/(i+l):h/(2-i-l),i){case t:e[0]=((n-r)/h+(n<r?6:0))*60;break;case n:e[0]=((r-t)/h+2)*60;break;case r:e[0]=((t-n)/h+4)*60;break}}e[2]=c}function yx(u,e){const t=u[0],n=u[1],r=u[2],i=(1-Math.abs(2*r-1))*n,l=i*(1-Math.abs(t/60%2-1)),c=r-i/2;switch(Math.floor(t/60)){case 0:e[0]=i+c,e[1]=l+c,e[2]=c;break;case 1:e[0]=l+c,e[1]=i+c,e[2]=c;break;case 2:e[0]=c,e[1]=i+c,e[2]=l+c;break;case 3:e[0]=c,e[1]=l+c,e[2]=i+c;break;case 4:e[0]=l+c,e[1]=c,e[2]=i+c;break;case 5:case 6:e[0]=i+c,e[1]=c,e[2]=l+c;break}}function PS(u){return u<=.03928?u/12.92:((u+.055)/1.055)**2.4}function kS(u,e,t){yx(u,t),t.map(PS);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];yx(e,t),t.map(PS);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const NS=new Map;function KN(u,e){const t=u[0]+u[1]*256+u[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=NS.get(t);if(n)return n;const r=new Float32Array(9),i=r.subarray(0,3),l=r.subarray(3,6);TS(u,l);const c=r.subarray(6,9);TS(e,c);const h=c[2]<.5,f=h?12:4.5;if(l[2]=h?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),kS(l,c,i)<f){let p,g;h?(p=l[2],g=1):(p=0,g=l[2]);const v=.005;for(;g-p>v;){const x=l[2]=(p+g)/2;h===kS(l,c,i)<f?p=x:g=x}l[2]=h?g:p}return yx(l,i),n=pt.makeHexColor(Math.round(i[0]*255),Math.round(i[1]*255),Math.round(i[2]*255)),NS.set(t,n),n}function xE({html:u,dir:e,className:t},n){const r=document.createDocumentFragment();if(typeof u=="string"){const i=document.createElement("p");i.dir=e||"auto";const l=u.split(/(?:\r\n?|\n)/);for(let c=0,h=l.length;c<h;++c){const f=l[c];i.append(document.createTextNode(f)),c<h-1&&i.append(document.createElement("br"))}r.append(i)}else yE.render({xfaHtml:u,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),n.append(r)}function wE(u){const e=new Path2D;if(!u)return e;for(let t=0,n=u.length;t<n;)switch(u[t++]){case Rd.moveTo:e.moveTo(u[t++],u[t++]);break;case Rd.lineTo:e.lineTo(u[t++],u[t++]);break;case Rd.curveTo:e.bezierCurveTo(u[t++],u[t++],u[t++],u[t++],u[t++],u[t++]);break;case Rd.quadraticCurveTo:e.quadraticCurveTo(u[t++],u[t++],u[t++],u[t++]);break;case Rd.closePath:e.closePath();break;default:Rt(`Unrecognized drawing path operator: ${u[t-1]}`);break}return e}var Ri,bs,pu,za,ol,Uh,bE,AE;const Vt=class Vt{constructor(){P(this,Uh)}get pagesNumber(){return o(Vt,za)}set pagesNumber(e){o(Vt,za)!==e&&(w(Vt,za,e),e===0&&(w(Vt,bs,null),w(Vt,Ri,null)))}addListener(e){o(Vt,ol).push(e)}removeListener(e){const t=o(Vt,ol).indexOf(e);t>=0&&o(Vt,ol).splice(t,1)}movePages(e,t,n){k(this,Uh,AE).call(this,!0);const r=o(Vt,bs),i=o(Vt,Ri);o(Vt,pu).set(i);const l=t.length,c=new Uint32Array(l);let h=0;for(let x=0;x<l;x++){const A=t[x]-1;c[x]=r[A],A<n&&(h+=1)}const f=o(Vt,za);let p=n-h;const g=f-l;p=An(p,0,g);for(let x=0,A=0;x<f;x++)e.has(x+1)||(r[A++]=r[x]);r.copyWithin(p+l,p,g),r.set(c,p);let v=!1;for(let x=0,A=f;x<A;x++){const b=r[x];v||(v=b!==x+1),i[b-1]=x+1}k(this,Uh,bE).call(this),v||(this.pagesNumber=0)}hasBeenAltered(){return o(Vt,bs)!==null}getPageMappingForSaving(){return{pageIndices:o(Vt,Ri)?o(Vt,Ri).map(e=>e-1):null}}getPrevPageNumber(e){return o(Vt,pu)[o(Vt,bs)[e-1]-1]}getPageNumber(e){var t;return((t=o(Vt,Ri))==null?void 0:t[e-1])??e}getPageId(e){var t;return((t=o(Vt,bs))==null?void 0:t[e-1])??e}static get instance(){return Dt(this,"instance",new Vt)}getMapping(){return o(Vt,bs).subarray(0,this.pagesNumber)}};Ri=new WeakMap,bs=new WeakMap,pu=new WeakMap,za=new WeakMap,ol=new WeakMap,Uh=new WeakSet,bE=function(){for(const e of o(Vt,ol))e()},AE=function(e){if(o(Vt,bs))return;const t=o(Vt,za),n=new Uint32Array(3*t),r=w(Vt,bs,n.subarray(0,t)),i=w(Vt,Ri,n.subarray(t,2*t));if(e)for(let l=0;l<t;l++)r[l]=i[l]=l+1;w(Vt,pu,n.subarray(2*t))},P(Vt,Ri,null),P(Vt,bs,null),P(Vt,pu,null),P(Vt,za,0),P(Vt,ol,[]);let lf=Vt;jt(4972);jt(4628);jt(7642);jt(8004);jt(3853);jt(5876);jt(2475);jt(5024);jt(1698);jt(4979);jt(9314);jt(1148);jt(3579);jt(8335);var Ha,$a,Kr,Qr,df,Va,mu,gu,ff,Cv,SE,Cn,EE,CE,tu,Fd;const ki=class ki{constructor(e){P(this,Cn);P(this,Ha,null);P(this,$a,null);P(this,Kr);P(this,Qr,null);P(this,df,null);P(this,Va,null);P(this,mu,null);P(this,gu,null);w(this,Kr,e),o(ki,ff)||w(ki,ff,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=w(this,Ha,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=o(this,Kr)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",hs,{signal:t}),e.addEventListener("pointerdown",k(ki,Cv,SE),{signal:t}));const n=w(this,Qr,document.createElement("div"));n.className="buttons",e.append(n);const r=o(this,Kr).toolbarPosition;if(r){const{style:i}=e,l=o(this,Kr)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*l}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return o(this,Ha)}hide(){var e;o(this,Ha).classList.add("hidden"),(e=o(this,$a))==null||e.hideDropdown()}show(){var e,t;o(this,Ha).classList.remove("hidden"),(e=o(this,df))==null||e.shown(),(t=o(this,Va))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=o(this,Kr),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",o(ki,ff)[e]),k(this,Cn,tu).call(this,n)&&n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),o(this,Qr).append(n)}async addAltText(e){const t=await e.render();k(this,Cn,tu).call(this,t),o(this,Qr).append(t,o(this,Cn,Fd)),w(this,df,e)}addComment(e,t=null){if(o(this,Va))return;const n=e.renderForToolbar();if(!n)return;k(this,Cn,tu).call(this,n);const r=w(this,mu,o(this,Cn,Fd));t?(o(this,Qr).insertBefore(n,t),o(this,Qr).insertBefore(r,t)):o(this,Qr).append(n,r),w(this,Va,e),e.toolbar=this}addColorPicker(e){if(o(this,$a))return;w(this,$a,e);const t=e.renderButton();k(this,Cn,tu).call(this,t),o(this,Qr).append(t,o(this,Cn,Fd))}async addEditSignatureButton(e){const t=w(this,gu,await e.renderEditButton(o(this,Kr)));k(this,Cn,tu).call(this,t),o(this,Qr).append(t,o(this,Cn,Fd))}removeButton(e){var t,n;switch(e){case"comment":(t=o(this,Va))==null||t.removeToolbarCommentButton(),w(this,Va,null),(n=o(this,mu))==null||n.remove(),w(this,mu,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,n){if(!t&&e==="comment")return;const r=o(this,Qr).querySelector(n);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){o(this,gu)&&(o(this,gu).title=e)}remove(){var e;o(this,Ha).remove(),(e=o(this,$a))==null||e.destroy(),w(this,$a,null)}};Ha=new WeakMap,$a=new WeakMap,Kr=new WeakMap,Qr=new WeakMap,df=new WeakMap,Va=new WeakMap,mu=new WeakMap,gu=new WeakMap,ff=new WeakMap,Cv=new WeakSet,SE=function(e){e.stopPropagation()},Cn=new WeakSet,EE=function(e){o(this,Kr)._focusEventsAllowed=!1,Oe(e)},CE=function(e){o(this,Kr)._focusEventsAllowed=!0,Oe(e)},tu=function(e){const t=o(this,Kr)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",k(this,Cn,EE).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",k(this,Cn,CE).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",hs,{signal:t}),!0)},Fd=function(){const e=document.createElement("div");return e.className="divider",e},P(ki,Cv),P(ki,ff,null);let xx=ki;var pf,ll,Ii,ga,TE,PE,wx;class QN{constructor(e){P(this,ga);P(this,pf,null);P(this,ll,null);P(this,Ii);w(this,Ii,e)}show(e,t,n){const[r,i]=k(this,ga,PE).call(this,t,n),{style:l}=o(this,ll)||w(this,ll,k(this,ga,TE).call(this));e.append(o(this,ll)),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){o(this,ll).remove()}}pf=new WeakMap,ll=new WeakMap,Ii=new WeakMap,ga=new WeakSet,TE=function(){const e=w(this,ll,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=o(this,Ii)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",hs,{signal:t});const n=w(this,pf,document.createElement("div"));return n.className="buttons",e.append(n),o(this,Ii).hasCommentManager()&&k(this,ga,wx).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{o(this,Ii).commentSelection("floating_button")}),k(this,ga,wx).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{o(this,Ii).highlightSelection("floating_button")}),e},PE=function(e,t){let n=0,r=0;for(const i of e){const l=i.y+i.height;if(l<n)continue;const c=i.x+(t?i.width:0);if(l>n){r=c,n=l;continue}t?c>r&&(r=c):c<r&&(r=c)}return[t?1-r:r,n]},wx=function(e,t,n,r){const i=document.createElement("button");i.classList.add("basic",e),i.tabIndex=0,i.setAttribute("data-l10n-id",t);const l=document.createElement("span");i.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const c=o(this,Ii)._signal;c instanceof AbortSignal&&!c.aborted&&(i.addEventListener("contextmenu",hs,{signal:c}),i.addEventListener("click",r,{signal:c})),o(this,pf).append(i)};function kE(u,e,t){for(const n of t)e.addEventListener(n,u[n].bind(u))}var cl,ul,vu,hl;const ie=class ie{static initializeAndAddPointerId(e){(o(ie,ul)||w(ie,ul,new Set)).add(e)}static setPointer(e,t){o(ie,cl)||w(ie,cl,t),o(ie,hl)??w(ie,hl,e)}static setTimeStamp(e){w(ie,vu,e)}static isSamePointerId(e){return o(ie,cl)===e}static isSamePointerIdOrRemove(e){var t;return o(ie,cl)===e?!0:((t=o(ie,ul))==null||t.delete(e),!1)}static isSamePointerType(e){return o(ie,hl)===e}static isInitializedAndDifferentPointerType(e){return o(ie,hl)!==null&&!ie.isSamePointerType(e)}static isSameTimeStamp(e){return o(ie,vu)===e}static isUsingMultiplePointers(){var e;return((e=o(ie,ul))==null?void 0:e.size)>=1}static clearPointerType(){w(ie,hl,null)}static clearPointerIds(){w(ie,cl,NaN),w(ie,ul,null)}static clearTimeStamp(){w(ie,vu,NaN)}};cl=new WeakMap,ul=new WeakMap,vu=new WeakMap,hl=new WeakMap,P(ie,cl,NaN),P(ie,ul,null),P(ie,vu,NaN),P(ie,hl,null);let Mn=ie;var Tv;class JN{constructor(){P(this,Tv,0)}get id(){return`${sf}${Qe(this,Tv)._++}`}}Tv=new WeakMap;var yu,mf,Dn,xu,Mg;const i1=class i1{constructor(){P(this,xu);P(this,yu,vE());P(this,mf,0);P(this,Dn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const i=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Dt(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:i}=e;return k(this,xu,Mg).call(this,`${t}_${n}_${r}_${i}`,e)}async getFromUrl(e){return k(this,xu,Mg).call(this,e,e)}async getFromBlob(e,t){const n=await t;return k(this,xu,Mg).call(this,e,n)}async getFromId(e){o(this,Dn)||w(this,Dn,new Map);const t=o(this,Dn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){o(this,Dn)||w(this,Dn,new Map);let n=o(this,Dn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${o(this,yu)}_${Qe(this,mf)._++}`,refCounter:1,isSvg:!1},o(this,Dn).set(e,n),o(this,Dn).set(n.id,n),n}getSvgUrl(e){const t=o(this,Dn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;o(this,Dn)||w(this,Dn,new Map);const t=o(this,Dn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(n.width,n.height);i.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=i.convertToBlob()}(r=n.close)==null||r.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${o(this,yu)}_`)}};yu=new WeakMap,mf=new WeakMap,Dn=new WeakMap,xu=new WeakSet,Mg=async function(e,t){o(this,Dn)||w(this,Dn,new Map);let n=o(this,Dn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${o(this,yu)}_${Qe(this,mf)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await om(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const i=i1._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((f,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,f()},l.onload=async()=>{const g=n.svgUrl=l.result;c.src=await i?`${g}#svgView(preserveAspectRatio(none))`:g},c.onerror=l.onerror=p});l.readAsDataURL(r),await h}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Rt(r),n=null}return o(this,Dn).set(e,n),n&&o(this,Dn).set(n.id,n),n};let bx=i1;var _e,Wa,gf,Te;class ZN{constructor(e=128){P(this,_e,[]);P(this,Wa,!1);P(this,gf);P(this,Te,-1);w(this,gf,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:i=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(r&&e(),o(this,Wa))return;const h={cmd:e,undo:t,post:n,type:i};if(o(this,Te)===-1){o(this,_e).length>0&&(o(this,_e).length=0),w(this,Te,0),o(this,_e).push(h);return}if(l&&o(this,_e)[o(this,Te)].type===i){c&&(h.undo=o(this,_e)[o(this,Te)].undo),o(this,_e)[o(this,Te)]=h;return}const f=o(this,Te)+1;f===o(this,gf)?o(this,_e).splice(0,1):(w(this,Te,f),f<o(this,_e).length&&o(this,_e).splice(f)),o(this,_e).push(h)}undo(){if(o(this,Te)===-1)return;w(this,Wa,!0);const{undo:e,post:t}=o(this,_e)[o(this,Te)];e(),t==null||t(),w(this,Wa,!1),w(this,Te,o(this,Te)-1)}redo(){if(o(this,Te)<o(this,_e).length-1){w(this,Te,o(this,Te)+1),w(this,Wa,!0);const{cmd:e,post:t}=o(this,_e)[o(this,Te)];e(),t==null||t(),w(this,Wa,!1)}}hasSomethingToUndo(){return o(this,Te)!==-1}hasSomethingToRedo(){return o(this,Te)<o(this,_e).length-1}cleanType(e){if(o(this,Te)!==-1){for(let t=o(this,Te);t>=0;t--)if(o(this,_e)[t].type!==e){o(this,_e).splice(t+1,o(this,Te)-t),w(this,Te,t);return}o(this,_e).length=0,w(this,Te,-1)}}destroy(){w(this,_e,null)}}_e=new WeakMap,Wa=new WeakMap,gf=new WeakMap,Te=new WeakMap;var Pv,NE;class um{constructor(e){P(this,Pv);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=en.platform;for(const[n,r,i={}]of e)for(const l of n){const c=l.startsWith("mac+");t&&c?(this.callbacks.set(l.slice(4),{callback:r,options:i}),this.allKeys.add(l.split("+").at(-1))):!t&&!c&&(this.callbacks.set(l,{callback:r,options:i}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(k(this,Pv,NE).call(this,t));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:l=[],checker:c=null}}=n;c&&!c(e,t)||(r.bind(e,...l,t)(),i||Oe(t))}}Pv=new WeakSet,NE=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const kv=class kv{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return WN(e),Dt(this,"_colors",e)}convert(e){const t=cm(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((i,l)=>i===t[l]))return kv._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?pt.makeHexColor(...t):e}};K(kv,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Ax=kv;var wu,vr,bu,Pe,Ue,Au,Jr,Su,Zr,Ln,Ga,Xa,Eu,Ya,Vs,qr,dl,vf,yf,Cu,xf,Ws,Ka,Tu,Qa,Gs,Nv,Ja,Pu,wf,Za,fl,ku,qa,bf,We,ne,Mi,to,eo,Af,Nu,Sf,no,Xs,Di,Ef,Cf,ts,ft,Dg,Sx,RE,IE,jd,ME,DE,LE,Ex,OE,FE,jE,BE,zn,Ti,_E,UE,Cx,zE,Bd,Tx;const cu=class cu{constructor(e,t,n,r,i,l,c,h,f,p,g,v,x,A,b,E){P(this,ft);P(this,wu,new AbortController);P(this,vr,null);P(this,bu,null);P(this,Pe,new Map);P(this,Ue,new Map);P(this,Au,null);P(this,Jr,null);P(this,Su,null);P(this,Zr,new ZN);P(this,Ln,null);P(this,Ga,null);P(this,Xa,null);P(this,Eu,0);P(this,Ya,new Set);P(this,Vs,null);P(this,qr,null);P(this,dl,new Set);K(this,"_editorUndoBar",null);P(this,vf,!1);P(this,yf,!1);P(this,Cu,!1);P(this,xf,null);P(this,Ws,null);P(this,Ka,null);P(this,Tu,null);P(this,Qa,!1);P(this,Gs,null);P(this,Nv,new JN);P(this,Ja,!1);P(this,Pu,!1);P(this,wf,!1);P(this,Za,null);P(this,fl,null);P(this,ku,null);P(this,qa,null);P(this,bf,null);P(this,We,Ot.NONE);P(this,ne,new Set);P(this,Mi,null);P(this,to,null);P(this,eo,null);P(this,Af,null);P(this,Nu,null);P(this,Sf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});P(this,no,[0,0]);P(this,Xs,null);P(this,Di,null);P(this,Ef,null);P(this,Cf,null);P(this,ts,null);const T=this._signal=o(this,wu).signal;w(this,Di,e),w(this,Ef,t),w(this,Cf,n),w(this,Au,r),w(this,Ln,i),w(this,to,l),w(this,Nu,h),this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:T}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:T}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:T}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:T}),c._on("setpreference",this.onSetPreference.bind(this),{signal:T}),c._on("switchannotationeditorparams",R=>this.updateParams(R.type,R.value),{signal:T}),c._on("pagesedited",this.onPagesEdited.bind(this),{signal:T}),window.addEventListener("pointerdown",()=>{w(this,Pu,!0)},{capture:!0,signal:T}),window.addEventListener("pointerup",()=>{w(this,Pu,!1)},{capture:!0,signal:T}),k(this,ft,ME).call(this),k(this,ft,BE).call(this),k(this,ft,Ex).call(this),w(this,Jr,h.annotationStorage),w(this,xf,h.filterFactory),w(this,eo,f),w(this,Tu,p||null),w(this,vf,g),w(this,yf,v),w(this,Cu,x),w(this,bf,A||null),this.viewParameters={realScale:_o.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=E!==!1,i==null||i.setSidebarUiManager(this)}static get _keyboardManager(){const e=cu.prototype,t=l=>o(l,Di).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Dt(this,"_keyboardManager",new um([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&o(l,Di).contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&o(l,Di).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,n,r,i,l,c,h,f;(e=o(this,ts))==null||e.resolve(),w(this,ts,null),(t=o(this,wu))==null||t.abort(),w(this,wu,null),this._signal=null;for(const p of o(this,Ue).values())p.destroy();o(this,Ue).clear(),o(this,Pe).clear(),o(this,dl).clear(),(n=o(this,qa))==null||n.clear(),w(this,vr,null),o(this,ne).clear(),o(this,Zr).destroy(),(r=o(this,Au))==null||r.destroy(),(i=o(this,Ln))==null||i.destroy(),(l=o(this,to))==null||l.destroy(),(c=o(this,Gs))==null||c.hide(),w(this,Gs,null),(h=o(this,ku))==null||h.destroy(),w(this,ku,null),w(this,bu,null),o(this,Ws)&&(clearTimeout(o(this,Ws)),w(this,Ws,null)),o(this,Xs)&&(clearTimeout(o(this,Xs)),w(this,Xs,null)),(f=this._editorUndoBar)==null||f.destroy(),w(this,Nu,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return o(this,bf)}get useNewAltTextFlow(){return o(this,yf)}get useNewAltTextWhenAddingImage(){return o(this,Cu)}get hcmFilter(){return Dt(this,"hcmFilter",o(this,eo)?o(this,xf).addHCMFilter(o(this,eo).foreground,o(this,eo).background):"none")}get direction(){return Dt(this,"direction",getComputedStyle(o(this,Di)).direction)}get _highlightColors(){return Dt(this,"_highlightColors",o(this,Tu)?new Map(o(this,Tu).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Dt(this,"highlightColors",null);const t=new Map,n=!!o(this,eo);for(const[r,i]of e){const l=r.endsWith("_HCM");if(n&&l){t.set(r.replace("_HCM",""),i);continue}!n&&!l&&t.set(r,i)}return Dt(this,"highlightColors",t)}get highlightColorNames(){return Dt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),w(this,Xa,e)}setMainHighlightColorPicker(e){w(this,ku,e)}editAltText(e,t=!1){var n;(n=o(this,Au))==null||n.editAltText(this,e,t)}hasCommentManager(){return!!o(this,Ln)}editComment(e,t,n,r){var i;(i=o(this,Ln))==null||i.showDialog(this,e,t,n,r)}selectComment(e,t){const n=o(this,Ue).get(e),r=n==null?void 0:n.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=o(this,Ln))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=o(this,Ln))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=o(this,Ln))==null||t.removeComments([e.uid])}deleteComment(e,t){const n=()=>{e.comment=t},r=()=>{var i;(i=this._editorUndoBar)==null||i.show(n,"comment"),this.toggleComment(null),e.comment=null};this.addCommands({cmd:r,undo:n,mustExec:!0})}toggleComment(e,t,n=void 0){var r;(r=o(this,Ln))==null||r.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){var n;return e&&((n=o(this,Ln))==null?void 0:n.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=o(this,Ln))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(o(this,Ue).has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),r=i=>{i.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await n}getSignature(e){var t;(t=o(this,to))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return o(this,to)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":w(this,Cu,t);break}}onPagesEdited({pagesMapper:e}){for(const r of o(this,Pe).values())r.updatePageIndex(e.getPrevPageNumber(r.pageIndex+1)-1);const t=o(this,Ue),n=w(this,Ue,new Map);for(const[r,i]of t){const l=e.getPrevPageNumber(r+1)-1;if(l===-1){i.destroy();continue}n.set(l,i),i.updatePageIndex(l)}}onPageChanging({pageNumber:e}){w(this,Eu,e-1)}focusMainContainer(){o(this,Di).focus()}findParent(e,t){for(const n of o(this,Ue).values()){const{x:r,y:i,width:l,height:c}=n.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=i&&t<=i+c)return n}return null}disableUserSelect(e=!1){o(this,Ef).classList.toggle("noUserSelect",e)}addShouldRescale(e){o(this,dl).add(e)}removeShouldRescale(e){o(this,dl).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*_o.PDF_TO_CSS_UNITS;for(const n of o(this,dl))n.onScaleChanging();(t=o(this,Xa))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:l,focusOffset:c}=n,h=n.toString(),p=k(this,ft,Dg).call(this,n).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;n.empty();const v=k(this,ft,Sx).call(this,p),x=o(this,We)===Ot.NONE,A=()=>{const b=v==null?void 0:v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:r,anchorOffset:i,focusNode:l,focusOffset:c,text:h});x&&this.showAllEditors("highlight",!0,!0),t&&(b==null||b.editComment())};if(x){this.switchToMode(Ot.HIGHLIGHT,A);return}A()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!o(this,Jr))return null;const t=`${sf}${e}`,n=o(this,Jr).getRawValue(t);return n&&o(this,Jr).remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&o(this,Jr)&&!o(this,Jr).has(e.id)&&o(this,Jr).setValue(e.id,e)}a11yAlert(e,t=null){const n=o(this,Cf);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,o(this,Qa)&&(w(this,Qa,!1),k(this,ft,jd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of o(this,ne))if(t.div.contains(e)){w(this,fl,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!o(this,fl))return;const[e,t]=o(this,fl);w(this,fl,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){k(this,ft,Ex).call(this),this.setEditingState(!0)}removeEditListeners(){k(this,ft,OE).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of o(this,qr))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of o(this,qr))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=o(this,vr))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of o(this,ne)){const i=r.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const l of o(this,qr))if(l.isHandlingMimeForPasting(i.type)){l.paste(i,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){Rt(`paste: "${i.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const i=[];for(const h of n){const f=await r.deserialize(h);if(!f)return;i.push(f)}const l=()=>{for(const h of i)k(this,ft,Cx).call(this,h);k(this,ft,Tx).call(this,i)},c=()=>{for(const h of i)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(i){Rt(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),o(this,We)!==Ot.NONE&&!this.isEditorHandlingKeyboard&&cu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,o(this,Qa)&&(w(this,Qa,!1),k(this,ft,jd).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(k(this,ft,DE).call(this),k(this,ft,FE).call(this),k(this,ft,zn).call(this,{isEditing:o(this,We)!==Ot.NONE,isEmpty:k(this,ft,Bd).call(this),hasSomethingToUndo:o(this,Zr).hasSomethingToUndo(),hasSomethingToRedo:o(this,Zr).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,ft,LE).call(this),k(this,ft,jE).call(this),k(this,ft,zn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!o(this,qr)){w(this,qr,e);for(const t of o(this,qr))k(this,ft,Ti).call(this,t.defaultPropertiesToUpdate)}}getId(){return o(this,Nv).id}get currentLayer(){return o(this,Ue).get(o(this,Eu))}getLayer(e){return o(this,Ue).get(e)}get currentPageIndex(){return o(this,Eu)}addLayer(e){o(this,Ue).set(e.pageIndex,e),o(this,Ja)?e.enable():e.disable()}removeLayer(e){o(this,Ue).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,r=!1,i=!1,l=!1){var c,h,f,p,g,v;if(o(this,We)!==e&&!(o(this,ts)&&(await o(this,ts).promise,!o(this,ts)))){if(w(this,ts,Promise.withResolvers()),(c=o(this,Xa))==null||c.commitOrRemove(),o(this,We)===Ot.POPUP&&((h=o(this,Ln))==null||h.hideSidebar()),(f=o(this,Ln))==null||f.destroyPopup(),w(this,We,e),e===Ot.NONE){this.setEditingState(!1),k(this,ft,UE).call(this);for(const x of o(this,Pe).values())x.hideStandaloneCommentButton();(p=this._editorUndoBar)==null||p.hide(),this.toggleComment(null),o(this,ts).resolve();return}for(const x of o(this,Pe).values())x.addStandaloneCommentButton();e===Ot.SIGNATURE&&await((g=o(this,to))==null?void 0:g.loadSignatures()),n&&Mn.clearPointerType(),this.setEditingState(!0),await k(this,ft,_E).call(this),this.unselectAll();for(const x of o(this,Ue).values())x.updateMode(e);if(e===Ot.POPUP){o(this,bu)||w(this,bu,await o(this,Nu).getAnnotationsByType(new Set(o(this,qr).map(b=>b._editorType))));const x=new Set,A=[];for(const b of o(this,Pe).values()){const{annotationElementId:E,hasComment:T,deleted:R}=b;E&&x.add(E),T&&!R&&A.push(b.getData())}for(const b of o(this,bu)){const{id:E,popupRef:T,contentsObj:R}=b;T&&(R!=null&&R.str)&&!x.has(E)&&!o(this,Ya).has(E)&&A.push(b)}(v=o(this,Ln))==null||v.showSidebar(A)}if(!t){r&&this.addNewEditorFromKeyboard(),o(this,ts).resolve();return}for(const x of o(this,Pe).values())x.uid===t?(this.setSelected(x),l?x.editComment():i?x.enterInEditMode():x.focus()):x.unselect();o(this,ts).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==o(this,We)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(o(this,qr)){switch(e){case $t.CREATE:this.currentLayer.addNewEditor(t);return;case $t.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(o(this,Af)||w(this,Af,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of o(this,ne))n.updateParams(e,t);else for(const n of o(this,qr))n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var i;for(const l of o(this,Pe).values())l.editorType===e&&l.show(t);(((i=o(this,Af))==null?void 0:i.get($t.HIGHLIGHT_SHOW_ALL))??!0)!==t&&k(this,ft,Ti).call(this,[[$t.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(o(this,wf)!==e){w(this,wf,e);for(const t of o(this,Ue).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of o(this,Pe).values())t.pageIndex===e&&(yield t)}getEditor(e){return o(this,Pe).get(e)}addEditor(e){o(this,Pe).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(o(this,Ws)&&clearTimeout(o(this,Ws)),w(this,Ws,setTimeout(()=>{this.focusMainContainer(),w(this,Ws,null)},0))),o(this,Pe).delete(e.id),e.annotationElementId&&((t=o(this,qa))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!o(this,Ya).has(e.annotationElementId))&&((n=o(this,Jr))==null||n.remove(e.id))}addDeletedAnnotationElement(e){o(this,Ya).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return o(this,Ya).has(e)}removeDeletedAnnotationElement(e){o(this,Ya).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){o(this,vr)!==e&&(w(this,vr,e),e&&k(this,ft,Ti).call(this,e.propertiesToUpdate))}updateUI(e){o(this,ft,zE)===e&&k(this,ft,Ti).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){k(this,ft,Ti).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(o(this,ne).has(e)){o(this,ne).delete(e),e.unselect(),k(this,ft,zn).call(this,{hasSelectedEditor:this.hasSelection});return}o(this,ne).add(e),e.select(),k(this,ft,Ti).call(this,e.propertiesToUpdate),k(this,ft,zn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=o(this,Xa))==null||t.commitOrRemove();for(const n of o(this,ne))n!==e&&n.unselect();o(this,ne).clear(),o(this,ne).add(e),e.select(),k(this,ft,Ti).call(this,e.propertiesToUpdate),k(this,ft,zn).call(this,{hasSelectedEditor:!0})}isSelected(e){return o(this,ne).has(e)}get firstSelectedEditor(){return o(this,ne).values().next().value}unselect(e){e.unselect(),o(this,ne).delete(e),k(this,ft,zn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return o(this,ne).size!==0}get isEnterHandled(){return o(this,ne).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;o(this,Zr).undo(),k(this,ft,zn).call(this,{hasSomethingToUndo:o(this,Zr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,ft,Bd).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){o(this,Zr).redo(),k(this,ft,zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:o(this,Zr).hasSomethingToRedo(),isEmpty:k(this,ft,Bd).call(this)})}addCommands(e){o(this,Zr).add(e),k(this,ft,zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,ft,Bd).call(this)})}cleanUndoStack(e){o(this,Zr).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...o(this,ne)],n=()=>{var l;(l=this._editorUndoBar)==null||l.show(r,t.length===1?t[0].editorType:t.length);for(const c of t)c.remove()},r=()=>{for(const l of t)k(this,ft,Cx).call(this,l)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=o(this,vr))==null||e.commitOrRemove()}hasSomethingToControl(){return o(this,vr)||this.hasSelection}selectAll(){for(const e of o(this,ne))e.commit();k(this,ft,Tx).call(this,o(this,Pe).values())}unselectAll(){var e;if(!(o(this,vr)&&(o(this,vr).commitOrRemove(),o(this,We)!==Ot.NONE))&&!((e=o(this,Xa))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of o(this,ne))t.unselect();o(this,ne).clear(),k(this,ft,zn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;o(this,no)[0]+=e,o(this,no)[1]+=t;const[r,i]=o(this,no),l=[...o(this,ne)],c=1e3;o(this,Xs)&&clearTimeout(o(this,Xs)),w(this,Xs,setTimeout(()=>{w(this,Xs,null),o(this,no)[0]=o(this,no)[1]=0,this.addCommands({cmd:()=>{for(const h of l)o(this,Pe).has(h.id)&&(h.translateInPage(r,i),h.translationDone())},undo:()=>{for(const h of l)o(this,Pe).has(h.id)&&(h.translateInPage(-r,-i),h.translationDone())},mustExec:!1})},c));for(const h of l)h.translateInPage(e,t),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,Vs,new Map);for(const e of o(this,ne))o(this,Vs).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!o(this,Vs))return!1;this.disableUserSelect(!1);const e=o(this,Vs);w(this,Vs,null);let t=!1;for(const[{x:r,y:i,pageIndex:l},c]of e)c.newX=r,c.newY=i,c.newPageIndex=l,t||(t=r!==c.savedX||i!==c.savedY||l!==c.savedPageIndex);if(!t)return!1;const n=(r,i,l,c)=>{if(o(this,Pe).has(r.id)){const h=o(this,Ue).get(c);h?r._setParentAndPosition(h,i,l):(r.pageIndex=c,r.x=i,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:i,newY:l,newPageIndex:c}]of e)n(r,i,l,c)},undo:()=>{for(const[r,{savedX:i,savedY:l,savedPageIndex:c}]of e)n(r,i,l,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(o(this,Vs))for(const n of o(this,Vs).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||o(this,ne).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return o(this,vr)===e}getActive(){return o(this,vr)}getMode(){return o(this,We)}isEditingMode(){return o(this,We)!==Ot.NONE}get imageManager(){return Dt(this,"imageManager",new bx)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,p=t.rangeCount;f<p;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:r,width:i,height:l}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(f,p,g,v)=>({x:(p-r)/l,y:1-(f+g-n)/i,width:v/l,height:g/i});break;case"180":c=(f,p,g,v)=>({x:1-(f+g-n)/i,y:1-(p+v-r)/l,width:g/i,height:v/l});break;case"270":c=(f,p,g,v)=>({x:1-(p+v-r)/l,y:(f-n)/i,width:v/l,height:g/i});break;default:c=(f,p,g,v)=>({x:(f-n)/i,y:(p-r)/l,width:g/i,height:v/l});break}const h=[];for(let f=0,p=t.rangeCount;f<p;f++){const g=t.getRangeAt(f);if(!g.collapsed)for(const{x:v,y:x,width:A,height:b}of g.getClientRects())A===0||b===0||h.push(c(v,x,A,b))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:t}){(o(this,Su)||w(this,Su,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=o(this,Su))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=o(this,Su))==null?void 0:r.get(e.data.id);if(!t)return;const n=o(this,Jr).getRawValue(t);n&&(o(this,We)===Ot.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var i;const r=(i=o(this,qa))==null?void 0:i.get(e);r&&(r.setCanvas(t,n),o(this,qa).delete(e))}addMissingCanvas(e,t){(o(this,qa)||w(this,qa,new Map)).set(e,t)}};wu=new WeakMap,vr=new WeakMap,bu=new WeakMap,Pe=new WeakMap,Ue=new WeakMap,Au=new WeakMap,Jr=new WeakMap,Su=new WeakMap,Zr=new WeakMap,Ln=new WeakMap,Ga=new WeakMap,Xa=new WeakMap,Eu=new WeakMap,Ya=new WeakMap,Vs=new WeakMap,qr=new WeakMap,dl=new WeakMap,vf=new WeakMap,yf=new WeakMap,Cu=new WeakMap,xf=new WeakMap,Ws=new WeakMap,Ka=new WeakMap,Tu=new WeakMap,Qa=new WeakMap,Gs=new WeakMap,Nv=new WeakMap,Ja=new WeakMap,Pu=new WeakMap,wf=new WeakMap,Za=new WeakMap,fl=new WeakMap,ku=new WeakMap,qa=new WeakMap,bf=new WeakMap,We=new WeakMap,ne=new WeakMap,Mi=new WeakMap,to=new WeakMap,eo=new WeakMap,Af=new WeakMap,Nu=new WeakMap,Sf=new WeakMap,no=new WeakMap,Xs=new WeakMap,Di=new WeakMap,Ef=new WeakMap,Cf=new WeakMap,ts=new WeakMap,ft=new WeakSet,Dg=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Sx=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of o(this,Ue).values())if(n.hasTextLayer(e))return n;return null},RE=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=k(this,ft,Dg).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(o(this,Gs)||w(this,Gs,new QN(this)),o(this,Gs).show(n,r,this.direction==="ltr"))},IE=function(){var i,l,c;const e=document.getSelection();if(!e||e.isCollapsed){o(this,Mi)&&((i=o(this,Gs))==null||i.hide(),w(this,Mi,null),k(this,ft,zn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===o(this,Mi))return;const r=k(this,ft,Dg).call(this,e).closest(".textLayer");if(!r){o(this,Mi)&&((l=o(this,Gs))==null||l.hide(),w(this,Mi,null),k(this,ft,zn).call(this,{hasSelectedText:!1}));return}if((c=o(this,Gs))==null||c.hide(),w(this,Mi,t),k(this,ft,zn).call(this,{hasSelectedText:!0}),!(o(this,We)!==Ot.HIGHLIGHT&&o(this,We)!==Ot.NONE)&&(o(this,We)===Ot.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,Qa,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=o(this,We)===Ot.HIGHLIGHT?k(this,ft,Sx).call(this,r):null;if(h==null||h.toggleDrawing(),o(this,Pu)){const f=new AbortController,p=this.combinedSignal(f),g=v=>{v.type==="pointerup"&&v.button!==0||(f.abort(),h==null||h.toggleDrawing(!0),v.type==="pointerup"&&k(this,ft,jd).call(this,"main_toolbar"))};window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("blur",g,{signal:p})}else h==null||h.toggleDrawing(!0),k(this,ft,jd).call(this,"main_toolbar")}},jd=function(e=""){o(this,We)===Ot.HIGHLIGHT?this.highlightSelection(e):o(this,vf)&&k(this,ft,RE).call(this)},ME=function(){document.addEventListener("selectionchange",k(this,ft,IE).bind(this),{signal:this._signal})},DE=function(){if(o(this,Ka))return;w(this,Ka,new AbortController);const e=this.combinedSignal(o(this,Ka));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},LE=function(){var e;(e=o(this,Ka))==null||e.abort(),w(this,Ka,null)},Ex=function(){if(o(this,Za))return;w(this,Za,new AbortController);const e=this.combinedSignal(o(this,Za));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},OE=function(){var e;(e=o(this,Za))==null||e.abort(),w(this,Za,null)},FE=function(){if(o(this,Ga))return;w(this,Ga,new AbortController);const e=this.combinedSignal(o(this,Ga));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},jE=function(){var e;(e=o(this,Ga))==null||e.abort(),w(this,Ga,null)},BE=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},zn=function(e){Object.entries(e).some(([n,r])=>o(this,Sf)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(o(this,Sf),e)}),o(this,We)===Ot.HIGHLIGHT&&e.hasSelectedEditor===!1&&k(this,ft,Ti).call(this,[[$t.HIGHLIGHT_FREE,!0]]))},Ti=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},_E=async function(){if(!o(this,Ja)){w(this,Ja,!0);const e=[];for(const t of o(this,Ue).values())e.push(t.enable());await Promise.all(e);for(const t of o(this,Pe).values())t.enable()}},UE=function(){if(this.unselectAll(),o(this,Ja)){w(this,Ja,!1);for(const e of o(this,Ue).values())e.disable();for(const e of o(this,Pe).values())e.disable()}},Cx=function(e){const t=o(this,Ue).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},zE=function(){let e=null;for(e of o(this,ne));return e},Bd=function(){if(o(this,Pe).size===0)return!0;if(o(this,Pe).size===1)for(const e of o(this,Pe).values())return e.isEmpty();return!1},Tx=function(e){for(const t of o(this,ne))t.unselect();o(this,ne).clear();for(const t of e)t.isEmpty()||(o(this,ne).add(t),t.select());k(this,ft,zn).call(this,{hasSelectedEditor:this.hasSelection})},K(cu,"TRANSLATE_SMALL",1),K(cu,"TRANSLATE_BIG",10);let bc=cu;var on,Ys,As,Ru,Ks,yr,Iu,Qs,rr,Li,pl,Js,ro,Ds,_d,Lg;const Hn=class Hn{constructor(e){P(this,Ds);P(this,on,null);P(this,Ys,!1);P(this,As,null);P(this,Ru,null);P(this,Ks,null);P(this,yr,null);P(this,Iu,!1);P(this,Qs,null);P(this,rr,null);P(this,Li,null);P(this,pl,null);P(this,Js,!1);w(this,rr,e),w(this,Js,e._uiManager.useNewAltTextFlow),o(Hn,ro)||w(Hn,ro,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Hn._l10n??(Hn._l10n=e)}async render(){const e=w(this,As,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=w(this,Ru,document.createElement("span"));e.append(t),o(this,Js)?(e.classList.add("new"),e.setAttribute("data-l10n-id",o(Hn,ro).missing),t.setAttribute("data-l10n-id",o(Hn,ro)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=o(this,rr)._uiManager._signal;e.addEventListener("contextmenu",hs,{signal:n}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:n});const r=i=>{i.preventDefault(),o(this,rr)._uiManager.editAltText(o(this,rr)),o(this,Js)&&o(this,rr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:o(this,Ds,_d)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(w(this,Iu,!0),r(i))},{signal:n}),await k(this,Ds,Lg).call(this),e}finish(){o(this,As)&&(o(this,As).focus({focusVisible:o(this,Iu)}),w(this,Iu,!1))}isEmpty(){return o(this,Js)?o(this,on)===null:!o(this,on)&&!o(this,Ys)}hasData(){return o(this,Js)?o(this,on)!==null||!!o(this,Li):this.isEmpty()}get guessedText(){return o(this,Li)}async setGuessedText(e){o(this,on)===null&&(w(this,Li,e),w(this,pl,await Hn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),k(this,Ds,Lg).call(this))}toggleAltTextBadge(e=!1){var t;if(!o(this,Js)||o(this,on)){(t=o(this,Qs))==null||t.remove(),w(this,Qs,null);return}if(!o(this,Qs)){const n=w(this,Qs,document.createElement("div"));n.className="noAltTextBadge",o(this,rr).div.append(n)}o(this,Qs).classList.toggle("hidden",!e)}serialize(e){let t=o(this,on);return!e&&o(this,Li)===t&&(t=o(this,pl)),{altText:t,decorative:o(this,Ys),guessedText:o(this,Li),textWithDisclaimer:o(this,pl)}}get data(){return{altText:o(this,on),decorative:o(this,Ys)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:i=!1}){n&&(w(this,Li,n),w(this,pl,r)),!(o(this,on)===e&&o(this,Ys)===t)&&(i||(w(this,on,e),w(this,Ys,t)),k(this,Ds,Lg).call(this))}toggle(e=!1){o(this,As)&&(!e&&o(this,yr)&&(clearTimeout(o(this,yr)),w(this,yr,null)),o(this,As).disabled=!e)}shown(){o(this,rr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:o(this,Ds,_d)}})}destroy(){var e,t;(e=o(this,As))==null||e.remove(),w(this,As,null),w(this,Ru,null),w(this,Ks,null),(t=o(this,Qs))==null||t.remove(),w(this,Qs,null)}};on=new WeakMap,Ys=new WeakMap,As=new WeakMap,Ru=new WeakMap,Ks=new WeakMap,yr=new WeakMap,Iu=new WeakMap,Qs=new WeakMap,rr=new WeakMap,Li=new WeakMap,pl=new WeakMap,Js=new WeakMap,ro=new WeakMap,Ds=new WeakSet,_d=function(){return o(this,on)&&"added"||o(this,on)===null&&this.guessedText&&"review"||"missing"},Lg=async function(){var r,i,l;const e=o(this,As);if(!e)return;if(o(this,Js)){if(e.classList.toggle("done",!!o(this,on)),e.setAttribute("data-l10n-id",o(Hn,ro)[o(this,Ds,_d)]),(r=o(this,Ru))==null||r.setAttribute("data-l10n-id",o(Hn,ro)[`${o(this,Ds,_d)}-label`]),!o(this,on)){(i=o(this,Ks))==null||i.remove();return}}else{if(!o(this,on)&&!o(this,Ys)){e.classList.remove("done"),(l=o(this,Ks))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=o(this,Ks);if(!t){w(this,Ks,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${o(this,rr).id}`;const c=100,h=o(this,rr)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(o(this,yr)),w(this,yr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{w(this,yr,setTimeout(()=>{w(this,yr,null),o(this,Ks).classList.add("show"),o(this,rr)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:h}),e.addEventListener("mouseleave",()=>{var f;o(this,yr)&&(clearTimeout(o(this,yr)),w(this,yr,null)),(f=o(this,Ks))==null||f.classList.remove("show")},{signal:h})}o(this,Ys)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=o(this,on)),t.parentNode||e.append(t);const n=o(this,rr).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},P(Hn,ro,null),K(Hn,"_l10n",null);let pv=Hn;var vn,es,ml,me,Tf,so,ns,io,ao,gl,Pf,Px;class bg{constructor(e){P(this,Pf);P(this,vn,null);P(this,es,null);P(this,ml,!1);P(this,me,null);P(this,Tf,null);P(this,so,null);P(this,ns,null);P(this,io,null);P(this,ao,!1);P(this,gl,null);w(this,me,e)}renderForToolbar(){const e=w(this,es,document.createElement("button"));return e.className="comment",k(this,Pf,Px).call(this,e,!1)}renderForStandalone(){const e=w(this,vn,document.createElement("button"));e.className="annotationCommentButton";const t=o(this,me).commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(o(this,me)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=o(this,me).commentButtonColor;r&&(n.backgroundColor=r)}return k(this,Pf,Px).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=o(this,vn)??o(this,es))==null||e.focus()},0)}onUpdatedColor(){if(!o(this,vn))return;const e=o(this,me).commentButtonColor;e&&(o(this,vn).style.backgroundColor=e),o(this,me)._uiManager.updatePopupColor(o(this,me))}get commentButtonWidth(){var e;return(((e=o(this,vn))==null?void 0:e.getBoundingClientRect().width)??0)/o(this,me).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(o(this,gl))return o(this,gl);if(!o(this,vn))return null;const{x:e,y:t,height:n}=o(this,vn).getBoundingClientRect(),{x:r,y:i,width:l,height:c}=o(this,me).parent.boundingClientRect;return[(e-r)/l,(t+n-i)/c]}set commentPopupPositionInLayer(e){w(this,gl,e)}hasDefaultPopupPosition(){return o(this,gl)===null}removeStandaloneCommentButton(){var e;(e=o(this,vn))==null||e.remove(),w(this,vn,null)}removeToolbarCommentButton(){var e;(e=o(this,es))==null||e.remove(),w(this,es,null)}setCommentButtonStates({selected:e,hasPopup:t}){o(this,vn)&&(o(this,vn).classList.toggle("selected",e),o(this,vn).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let n,r;if(t)[n,r]=t;else{[n,r]=o(this,me).commentButtonPosition;const{width:p,height:g,x:v,y:x}=o(this,me);n=v+n*p,r=x+r*g}const i=o(this,me).parent.boundingClientRect,{x:l,y:c,width:h,height:f}=i;o(this,me)._uiManager.editComment(o(this,me),l+n*h,c+r*f,{...e,parentDimensions:i})}finish(){o(this,es)&&(o(this,es).focus({focusVisible:o(this,ml)}),w(this,ml,!1))}isDeleted(){return o(this,ao)||o(this,ns)===""}isEmpty(){return o(this,ns)===null}hasBeenEdited(){return this.isDeleted()||o(this,ns)!==o(this,Tf)}serialize(){return this.data}get data(){return{text:o(this,ns),richText:o(this,so),date:o(this,io),deleted:this.isDeleted()}}set data(e){if(e!==o(this,ns)&&w(this,so,null),e===null){w(this,ns,""),w(this,ao,!0);return}w(this,ns,e),w(this,io,new Date),w(this,ao,!1)}restoreData({text:e,richText:t,date:n}){w(this,ns,e),w(this,so,t),w(this,io,n),w(this,ao,!1)}setInitialText(e,t=null){w(this,Tf,e),this.data=e,w(this,io,null),w(this,so,t)}shown(){}destroy(){var e,t;(e=o(this,es))==null||e.remove(),w(this,es,null),(t=o(this,vn))==null||t.remove(),w(this,vn,null),w(this,ns,""),w(this,so,null),w(this,io,null),w(this,me,null),w(this,ml,!1),w(this,ao,!1)}}vn=new WeakMap,es=new WeakMap,ml=new WeakMap,me=new WeakMap,Tf=new WeakMap,so=new WeakMap,ns=new WeakMap,io=new WeakMap,ao=new WeakMap,gl=new WeakMap,Pf=new WeakSet,Px=function(e,t){if(!o(this,me)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[o(this,me)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=o(this,me)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",hs,{signal:n}),t&&(e.addEventListener("focusin",i=>{o(this,me)._focusEventsAllowed=!1,Oe(i)},{capture:!0,signal:n}),e.addEventListener("focusout",i=>{o(this,me)._focusEventsAllowed=!0,Oe(i)},{capture:!0,signal:n})),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:n});const r=i=>{i.preventDefault(),e===o(this,es)?this.edit():o(this,me).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(w(this,ml,!0),r(i))},{signal:n}),e.addEventListener("pointerenter",()=>{o(this,me).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{o(this,me).toggleComment(!1,!1)},{signal:n}),e};var Mu,vl,kf,Nf,Rf,If,Mf,Oi,yl,Fi,xl,ji,Uo,HE,$E,VE;const a1=class a1{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:i=null,onPinchEnd:l=null,signal:c}){P(this,Uo);P(this,Mu);P(this,vl,!1);P(this,kf,null);P(this,Nf);P(this,Rf);P(this,If);P(this,Mf);P(this,Oi,null);P(this,yl);P(this,Fi,null);P(this,xl);P(this,ji,null);w(this,Mu,e),w(this,kf,n),w(this,Nf,t),w(this,Rf,r),w(this,If,i),w(this,Mf,l),w(this,xl,new AbortController),w(this,yl,AbortSignal.any([c,o(this,xl).signal])),e.addEventListener("touchstart",k(this,Uo,HE).bind(this),{passive:!1,signal:o(this,yl)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/fi.pixelRatio}destroy(){var e,t;(e=o(this,xl))==null||e.abort(),w(this,xl,null),(t=o(this,Oi))==null||t.abort(),w(this,Oi,null)}};Mu=new WeakMap,vl=new WeakMap,kf=new WeakMap,Nf=new WeakMap,Rf=new WeakMap,If=new WeakMap,Mf=new WeakMap,Oi=new WeakMap,yl=new WeakMap,Fi=new WeakMap,xl=new WeakMap,ji=new WeakMap,Uo=new WeakSet,HE=function(e){var r,i,l;if((r=o(this,Nf))!=null&&r.call(this))return;if(e.touches.length===1){if(o(this,Oi))return;const c=w(this,Oi,new AbortController),h=AbortSignal.any([o(this,yl),c.signal]),f=o(this,Mu),p={capture:!0,signal:h,passive:!1},g=v=>{var x;v.pointerType==="touch"&&((x=o(this,Oi))==null||x.abort(),w(this,Oi,null))};f.addEventListener("pointerdown",v=>{v.pointerType==="touch"&&(Oe(v),g(v))},p),f.addEventListener("pointerup",g,p),f.addEventListener("pointercancel",g,p);return}if(!o(this,ji)){w(this,ji,new AbortController);const c=AbortSignal.any([o(this,yl),o(this,ji).signal]),h=o(this,Mu),f={signal:c,capture:!1,passive:!1};h.addEventListener("touchmove",k(this,Uo,$E).bind(this),f);const p=k(this,Uo,VE).bind(this);h.addEventListener("touchend",p,f),h.addEventListener("touchcancel",p,f),f.capture=!0,h.addEventListener("pointerdown",Oe,f),h.addEventListener("pointermove",Oe,f),h.addEventListener("pointercancel",Oe,f),h.addEventListener("pointerup",Oe,f),(i=o(this,Rf))==null||i.call(this)}if(Oe(e),e.touches.length!==2||(l=o(this,kf))!=null&&l.call(this)){w(this,Fi,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),w(this,Fi,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},$E=function(e){var D;if(!o(this,Fi)||e.touches.length!==2)return;Oe(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:r,screenY:i}=t,{screenX:l,screenY:c}=n,h=o(this,Fi),{touch0X:f,touch0Y:p,touch1X:g,touch1Y:v}=h,x=g-f,A=v-p,b=l-r,E=c-i,T=Math.hypot(b,E)||1,R=Math.hypot(x,A)||1;if(!o(this,vl)&&Math.abs(R-T)<=a1.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=r,h.touch0Y=i,h.touch1X=l,h.touch1Y=c,!o(this,vl)){w(this,vl,!0);return}const N=[(r+l)/2,(i+c)/2];(D=o(this,If))==null||D.call(this,N,R,T)},VE=function(e){var t;e.touches.length>=2||(o(this,ji)&&(o(this,ji).abort(),w(this,ji,null),(t=o(this,Mf))==null||t.call(this)),o(this,Fi)&&(Oe(e),w(this,Fi,null),w(this,vl,!1)))};let mv=a1;var wl,Ss,Ae,re,Bi,Du,oo,Df,yn,bl,_i,rs,lo,Lf,Al,xr,Of,Sl,Ui,Zs,Lu,Ou,ss,El,Ff,Rv,Nt,kx,jf,Nx,Og,WE,GE,Rx,Fg,Ix,XE,YE,KE,Mx,QE,Dx,JE,ZE,qE,Lx,Ud;const Lt=class Lt{constructor(e){P(this,Nt);P(this,wl,null);P(this,Ss,null);P(this,Ae,null);P(this,re,null);P(this,Bi,null);P(this,Du,!1);P(this,oo,null);P(this,Df,"");P(this,yn,null);P(this,bl,null);P(this,_i,null);P(this,rs,null);P(this,lo,null);P(this,Lf,"");P(this,Al,!1);P(this,xr,null);P(this,Of,!1);P(this,Sl,!1);P(this,Ui,!1);P(this,Zs,null);P(this,Lu,0);P(this,Ou,0);P(this,ss,null);P(this,El,null);K(this,"isSelected",!1);K(this,"_isCopy",!1);K(this,"_editToolbar",null);K(this,"_initialOptions",Object.create(null));K(this,"_initialData",null);K(this,"_isVisible",!0);K(this,"_uiManager",null);K(this,"_focusEventsAllowed",!0);P(this,Ff,!1);P(this,Rv,Lt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[i,l];const[c,h]=this.parentDimensions;this.x=e.x/c,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Lt.prototype._resizeWithKeyboard,t=bc.TRANSLATE_SMALL,n=bc.TRANSLATE_BIG;return Dt(this,"_resizerKeyboardManager",new um([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Lt.prototype._stopResizingWithKeyboard]]))}updatePageIndex(e){this.pageIndex=e}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Dt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new qN({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Lt._l10n??(Lt._l10n=e),Lt._l10nResizer||(Lt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Lt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Lt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Jt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return o(this,Ff)}set _isDraggable(e){var t;w(this,Ff,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=o(this,Rv)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(k(this,Nt,Ud).call(this),(t=o(this,rs))==null||t.remove(),w(this,rs,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(o(this,Al)?w(this,Al,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[i,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this._onTranslated()}translate(e,t){k(this,Nt,kx).call(this,this.parentDimensions,e,t)}translateInPage(e,t){o(this,xr)||w(this,xr,[this.x,this.y,this.width,this.height]),k(this,Nt,kx).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){o(this,xr)||w(this,xr,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[r,i]}=this;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,f]=this.getBaseTranslation();l+=h,c+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!o(this,xr)&&(o(this,xr)[0]!==this.x||o(this,xr)[1]!==this.y)}get _hasBeenResized(){return!!o(this,xr)&&(o(this,xr)[2]!==this.width||o(this,xr)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Lt,r=n/e,i=n/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,r]}=this;let{x:i,y:l,width:c,height:h}=this;if(c*=n,h*=r,i*=n,l*=r,this._mustFixPosition)switch(e){case 0:i=An(i,0,n-c),l=An(l,0,r-h);break;case 90:i=An(i,0,n-h),l=An(l,c,r);break;case 180:i=An(i,c,n),l=An(l,h,r);break;case 270:i=An(i,h,n),l=An(l,0,r-c);break}this.x=i/=n,this.y=l/=r;const[f,p]=this.getBaseTranslation();i+=f,l+=p,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return k(n=Lt,jf,Nx).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return k(n=Lt,jf,Nx).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=o(this,Ae))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||o(this,Sl))return this._editToolbar;this._editToolbar=new xx(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=o(this,Ae))==null||t.destroy()}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return o(this,Ae)||(pv.initialize(Lt._l10n),w(this,Ae,new pv(this)),o(this,wl)&&(o(this,Ae).data=o(this,wl),w(this,wl,null))),o(this,Ae)}get altTextData(){var e;return(e=o(this,Ae))==null?void 0:e.data}set altTextData(e){o(this,Ae)&&(o(this,Ae).data=e)}get guessedAltText(){var e;return(e=o(this,Ae))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=o(this,Ae))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=o(this,Ae))==null?void 0:t.serialize(e)}hasAltText(){return!!o(this,Ae)&&!o(this,Ae).isEmpty()}hasAltTextData(){var e;return((e=o(this,Ae))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=o(this,re))==null||e.focusButton()}addCommentButton(){return this.canAddComment?o(this,re)||w(this,re,new bg(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(o(this,Bi)){this._uiManager.isEditingMode()&&o(this,Bi).classList.remove("hidden");return}this.hasComment&&(w(this,Bi,o(this,re).renderForStandalone()),this.div.append(o(this,Bi)))}}removeStandaloneCommentButton(){o(this,re).removeStandaloneCommentButton(),w(this,Bi,null)}hideStandaloneCommentButton(){var e;(e=o(this,Bi))==null||e.classList.add("hidden")}get comment(){if(!o(this,re))return null;const{data:{richText:e,text:t,date:n,deleted:r}}=o(this,re);return{text:t,richText:e,date:n,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){o(this,re)||w(this,re,new bg(this)),typeof e=="object"&&e!==null?o(this,re).restoreData(e):o(this,re).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(o(this,re)||w(this,re,new bg(this)),o(this,re).setInitialText(e,n),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=o(this,re))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=o(this,re))==null?void 0:e.isDeleted()}get hasComment(){return!!o(this,re)&&!o(this,re).isEmpty()&&!o(this,re).isDeleted()}async editComment(e){o(this,re)||w(this,re,new bg(this)),o(this,re).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){o(this,re).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[i]=this.pageDimensions,[l]=this.pageTranslation,c=l+i+1,h=r-100,f=c+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,h,f,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){o(this,re).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var l;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=o(this,Du)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),k(this,Nt,Dx).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),kE(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(o(this,El)||w(this,El,new mv({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:k(this,Nt,XE).bind(this),onPinching:k(this,Nt,YE).bind(this),onPinchEnd:k(this,Nt,KE).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(l=this._uiManager._editorUndoBar)==null||l.hide(),e}pointerdown(e){const{isMac:t}=en.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(w(this,Al,!0),this._isDraggable){k(this,Nt,QE).call(this,e);return}k(this,Nt,Mx).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){o(this,Zs)&&clearTimeout(o(this,Zs)),w(this,Zs,setTimeout(()=>{var e;w(this,Zs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const r=this.parentScale,[i,l]=this.pageDimensions,[c,h]=this.pageTranslation,f=e/r,p=t/r,g=this.x*i,v=this.y*l,x=this.width*i,A=this.height*l;switch(n){case 0:return[g+f+c,l-v-p-A+h,g+f+x+c,l-v-p+h];case 90:return[g+p+c,l-v+f+h,g+p+A+c,l-v+f+x+h];case 180:return[g-f-x+c,l-v+p+h,g-f+c,l-v+p+A+h];case 270:return[g-p-A+c,l-v-f-x+h,g-p+c,l-v-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,l]=e,c=i-n,h=l-r;switch(this.rotation){case 0:return[n,t-l,c,h];case 90:return[n,t-r,h,c];case 180:return[i,t-r,c,h];case 270:return[i,t-l,h,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Lt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=o(this,re))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:r,deleted:i,richText:l},uid:c,pageIndex:h,creationDate:f,modificationDate:p}=this;return{id:c,pageIndex:h,rect:this.getPDFRect(),richText:l,contentsObj:{str:e},creationDate:f,modificationDate:n||p,popupRef:!i,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),w(this,Sl,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),w(this,Sl,!1),!0):!1}isInEditMode(){return o(this,Sl)}shouldGetKeyboardEvents(){return o(this,Ui)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:i,innerWidth:l}=window;return t<l&&r>0&&e<i&&n>0}rebuild(){k(this,Nt,Dx).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,w(r,wl,e.accessibilityData),r._isCopy=e.isCopy||!1;const[i,l]=r.pageDimensions,[c,h,f,p]=r.getRectInCurrentCoords(e.rect,l);return r.x=c/i,r.y=h/l,r.width=f/i,r.height=p/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,n;if((e=o(this,lo))==null||e.abort(),w(this,lo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),o(this,Zs)&&(clearTimeout(o(this,Zs)),w(this,Zs,null)),k(this,Nt,Ud).call(this),this.removeEditToolbar(),o(this,ss)){for(const r of o(this,ss).values())clearTimeout(r);w(this,ss,null)}this.parent=null,(t=o(this,El))==null||t.destroy(),w(this,El,null),(n=o(this,rs))==null||n.remove(),w(this,rs,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,Nt,WE).call(this),o(this,yn).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,r,i,l]=this.getPDFRect();return[Lt._round(n+(i-n)*e),Lt._round(r+(l-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return o(this,re).commentPopupPositionInLayer}set commentPopupPosition(e){o(this,re).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return o(this,re).hasDefaultPopupPosition()}get commentButtonWidth(){return o(this,re).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=o(this,re))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),w(this,_i,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=o(this,yn).children;if(!o(this,Ss)){w(this,Ss,Array.from(t));const l=k(this,Nt,JE).bind(this),c=k(this,Nt,ZE).bind(this),h=this._uiManager._signal;for(const f of o(this,Ss)){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:h}),f.addEventListener("blur",c,{signal:h}),f.addEventListener("focus",k(this,Nt,qE).bind(this,p),{signal:h}),f.setAttribute("data-l10n-id",Lt._l10nResizer[p])}}const n=o(this,Ss)[0];let r=0;for(const l of t){if(l===n)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(o(this,Ss).length/4);if(i!==r){if(i<r)for(let c=0;c<r-i;c++)o(this,yn).append(o(this,yn).firstElementChild);else if(i>r)for(let c=0;c<i-r;c++)o(this,yn).firstElementChild.before(o(this,yn).lastElementChild);let l=0;for(const c of t){const f=o(this,Ss)[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Lt._l10nResizer[f])}}k(this,Nt,Lx).call(this,0),w(this,Ui,!0),o(this,yn).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){o(this,Ui)&&k(this,Nt,Ix).call(this,o(this,Lf),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){k(this,Nt,Ud).call(this),this.div.focus()}select(){var e,t,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(n=o(this,Ae))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,n,r,i;this.isSelected&&(this.isSelected=!1,(e=o(this,yn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(i=o(this,Ae))==null||i.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return o(this,Of)}set isEditing(e){w(this,Of,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){o(this,ss)||w(this,ss,new Map);const{action:n}=e;let r=o(this,ss).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),o(this,ss).delete(n),o(this,ss).size===0&&w(this,ss,null)},Lt._telemetryTimeout),o(this,ss).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),w(this,Du,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,Du,!0)}updateFakeAnnotationElement(e){if(!o(this,rs)&&!this.deleted){w(this,rs,e.addFakeAnnotation(this));return}if(this.deleted){o(this,rs).remove(),w(this,rs,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&o(this,rs).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};wl=new WeakMap,Ss=new WeakMap,Ae=new WeakMap,re=new WeakMap,Bi=new WeakMap,Du=new WeakMap,oo=new WeakMap,Df=new WeakMap,yn=new WeakMap,bl=new WeakMap,_i=new WeakMap,rs=new WeakMap,lo=new WeakMap,Lf=new WeakMap,Al=new WeakMap,xr=new WeakMap,Of=new WeakMap,Sl=new WeakMap,Ui=new WeakMap,Zs=new WeakMap,Lu=new WeakMap,Ou=new WeakMap,ss=new WeakMap,El=new WeakMap,Ff=new WeakMap,Rv=new WeakMap,Nt=new WeakSet,kx=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},jf=new WeakSet,Nx=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Og=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},WE=function(){if(o(this,yn))return;w(this,yn,document.createElement("div")),o(this,yn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");o(this,yn).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",k(this,Nt,GE).bind(this,n),{signal:t}),r.addEventListener("contextmenu",hs,{signal:t}),r.tabIndex=-1}this.div.prepend(o(this,yn))},GE=function(e,t){var p;t.preventDefault();const{isMac:n}=en.platform;if(t.button!==0||t.ctrlKey&&n)return;(p=o(this,Ae))==null||p.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,w(this,bl,[t.screenX,t.screenY]);const i=new AbortController,l=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,Nt,Ix).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Oe,{passive:!1,signal:l}),window.addEventListener("contextmenu",hs,{signal:l}),w(this,_i,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const c=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{var g;i.abort(),this.parent.togglePointerEvents(!0),(g=o(this,Ae))==null||g.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=h,k(this,Nt,Fg).call(this)};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})},Rx=function(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Fg=function(){if(!o(this,_i))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=o(this,_i);w(this,_i,null);const i=this.x,l=this.y,c=this.width,h=this.height;i===e&&l===t&&c===n&&h===r||this.addCommands({cmd:k(this,Nt,Rx).bind(this,i,l,c,h),undo:k(this,Nt,Rx).bind(this,e,t,n,r),mustExec:!0})},Ix=function(e,t){const[n,r]=this.parentDimensions,i=this.x,l=this.y,c=this.width,h=this.height,f=Lt.MIN_SIZE/n,p=Lt.MIN_SIZE/r,g=k(this,Nt,Og).call(this,this.rotation),v=(tt,J)=>[g[0]*tt+g[2]*J,g[1]*tt+g[3]*J],x=k(this,Nt,Og).call(this,360-this.rotation),A=(tt,J)=>[x[0]*tt+x[2]*J,x[1]*tt+x[3]*J];let b,E,T=!1,R=!1;switch(e){case"topLeft":T=!0,b=(tt,J)=>[0,0],E=(tt,J)=>[tt,J];break;case"topMiddle":b=(tt,J)=>[tt/2,0],E=(tt,J)=>[tt/2,J];break;case"topRight":T=!0,b=(tt,J)=>[tt,0],E=(tt,J)=>[0,J];break;case"middleRight":R=!0,b=(tt,J)=>[tt,J/2],E=(tt,J)=>[0,J/2];break;case"bottomRight":T=!0,b=(tt,J)=>[tt,J],E=(tt,J)=>[0,0];break;case"bottomMiddle":b=(tt,J)=>[tt/2,J],E=(tt,J)=>[tt/2,0];break;case"bottomLeft":T=!0,b=(tt,J)=>[0,J],E=(tt,J)=>[tt,0];break;case"middleLeft":R=!0,b=(tt,J)=>[0,J/2],E=(tt,J)=>[tt,J/2];break}const N=b(c,h),D=E(c,h);let M=v(...D);const L=Lt._round(i+M[0]),F=Lt._round(l+M[1]);let U=1,z=1,G,X;if(t.fromKeyboard)({deltaX:G,deltaY:X}=t);else{const{screenX:tt,screenY:J}=t,[Y,ct]=o(this,bl);[G,X]=this.screenToPageTranslation(tt-Y,J-ct),o(this,bl)[0]=tt,o(this,bl)[1]=J}if([G,X]=A(G/n,X/r),T){const tt=Math.hypot(c,h);U=z=Math.max(Math.min(Math.hypot(D[0]-N[0]-G,D[1]-N[1]-X)/tt,1/c,1/h),f/c,p/h)}else R?U=An(Math.abs(D[0]-N[0]-G),f,1)/c:z=An(Math.abs(D[1]-N[1]-X),p,1)/h;const ot=Lt._round(c*U),q=Lt._round(h*z);M=v(...E(ot,q));const st=L-M[0],ht=F-M[1];o(this,xr)||w(this,xr,[this.x,this.y,this.width,this.height]),this.width=ot,this.height=q,this.x=st,this.y=ht,this.setDims(),this.fixAndSetPosition(),this._onResizing()},XE=function(){var e;w(this,_i,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=o(this,Ae))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},YE=function(e,t,n){let i=.7*(n/t)+1-.7;if(i===1)return;const l=k(this,Nt,Og).call(this,this.rotation),c=(L,F)=>[l[0]*L+l[2]*F,l[1]*L+l[3]*F],[h,f]=this.parentDimensions,p=this.x,g=this.y,v=this.width,x=this.height,A=Lt.MIN_SIZE/h,b=Lt.MIN_SIZE/f;i=Math.max(Math.min(i,1/v,1/x),A/v,b/x);const E=Lt._round(v*i),T=Lt._round(x*i);if(E===v&&T===x)return;o(this,xr)||w(this,xr,[p,g,v,x]);const R=c(v/2,x/2),N=Lt._round(p+R[0]),D=Lt._round(g+R[1]),M=c(E/2,T/2);this.x=N-M[0],this.y=D-M[1],this.width=E,this.height=T,this.setDims(),this.fixAndSetPosition(),this._onResizing()},KE=function(){var e;(e=o(this,Ae))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),k(this,Nt,Fg).call(this)},Mx=function(e){const{isMac:t}=en.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},QE=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,i=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:i},c=f=>{r.abort(),w(this,oo,null),w(this,Al,!1),this._uiManager.endDragSession()||k(this,Nt,Mx).call(this,f),n&&this._onStopDragging()};t&&(w(this,Lu,e.clientX),w(this,Ou,e.clientY),w(this,oo,e.pointerId),w(this,Df,e.pointerType),window.addEventListener("pointermove",f=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:g,pointerId:v}=f;if(v!==o(this,oo)){Oe(f);return}const[x,A]=this.screenToPageTranslation(p-o(this,Lu),g-o(this,Ou));w(this,Lu,p),w(this,Ou,g),this._uiManager.dragSelectedEditors(x,A)},l),window.addEventListener("touchmove",Oe,l),window.addEventListener("pointerdown",f=>{f.pointerType===o(this,Df)&&(o(this,El)||f.isPrimary)&&c(f),Oe(f)},l));const h=f=>{if(!o(this,oo)||o(this,oo)===f.pointerId){c(f);return}Oe(f)};window.addEventListener("pointerup",h,{signal:i}),window.addEventListener("blur",h,{signal:i})},Dx=function(){if(o(this,lo)||!this.div)return;w(this,lo,new AbortController);const e=this._uiManager.combinedSignal(o(this,lo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},JE=function(e){Lt._resizerKeyboardManager.exec(this,e)},ZE=function(e){var t;o(this,Ui)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==o(this,yn)&&k(this,Nt,Ud).call(this)},qE=function(e){w(this,Lf,o(this,Ui)?e:"")},Lx=function(e){if(o(this,Ss))for(const t of o(this,Ss))t.tabIndex=e},Ud=function(){w(this,Ui,!1),k(this,Nt,Lx).call(this,-1),k(this,Nt,Fg).call(this)},P(Lt,jf),K(Lt,"_l10n",null),K(Lt,"_l10nResizer",null),K(Lt,"_borderLineWidth",-1),K(Lt,"_colorManager",new Ax),K(Lt,"_zIndex",1),K(Lt,"_telemetryTimeout",1e3);let ge=Lt;class qN extends ge{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const RS=3285377520,Xr=4294901760,Hs=65535;class tC{constructor(e){this.h1=e?e&4294967295:RS,this.h2=e?e&4294967295:RS}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let b=0,E=e.length;b<E;b++){const T=e.charCodeAt(b);T<=255?t[n++]=T:(t[n++]=T>>>8,t[n++]=T&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,i=n-r*4,l=new Uint32Array(t.buffer,0,r);let c=0,h=0,f=this.h1,p=this.h2;const g=3432918353,v=461845907,x=g&Hs,A=v&Hs;for(let b=0;b<r;b++)b&1?(c=l[b],c=c*g&Xr|c*x&Hs,c=c<<15|c>>>17,c=c*v&Xr|c*A&Hs,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(h=l[b],h=h*g&Xr|h*x&Hs,h=h<<15|h>>>17,h=h*v&Xr|h*A&Hs,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,i){case 3:c^=t[r*4+2]<<16;case 2:c^=t[r*4+1]<<8;case 1:c^=t[r*4],c=c*g&Xr|c*x&Hs,c=c<<15|c>>>17,c=c*v&Xr|c*A&Hs,r&1?f^=c:p^=c}this.h1=f,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Xr|e*36045&Hs,t=t*4283543511&Xr|((t<<16|e>>>16)*2950163797&Xr)>>>16,e^=t>>>1,e=e*444984403&Xr|e*60499&Hs,t=t*3301882366&Xr|((t<<16|e>>>16)*3120437893&Xr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Ox=Object.freeze({map:null,hash:"",transfer:void 0});var Cl,Tl,zi,xn,Iv,eC;class Zw{constructor(){P(this,Iv);P(this,Cl,!1);P(this,Tl,null);P(this,zi,null);P(this,xn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=o(this,xn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return o(this,xn).get(e)}remove(e){const t=o(this,xn).get(e);if(t!==void 0&&(t instanceof ge&&o(this,zi).delete(t.annotationElementId),o(this,xn).delete(e),o(this,xn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of o(this,xn).values())if(n instanceof ge)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=o(this,xn).get(e);let r=!1;if(n!==void 0)for(const[i,l]of Object.entries(t))n[i]!==l&&(r=!0,n[i]=l);else r=!0,o(this,xn).set(e,t);r&&k(this,Iv,eC).call(this),t instanceof ge&&((o(this,zi)||w(this,zi,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return o(this,xn).has(e)}get size(){return o(this,xn).size}resetModified(){o(this,Cl)&&(w(this,Cl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new nC(this)}get serializable(){if(o(this,xn).size===0)return Ox;const e=new Map,t=new tC,n=[],r=Object.create(null);let i=!1;for(const[l,c]of o(this,xn)){const h=c instanceof ge?c.serialize(!1,r):c;c.page&&(c.pageIndex=c.page._pageIndex,delete c.page),h&&(e.set(l,h),t.update(`${l}:${JSON.stringify(h)}`),i||(i=!!h.bitmap))}if(i)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Ox}get editorStats(){let e=null;const t=new Map;let n=0,r=0;for(const i of o(this,xn).values()){if(!(i instanceof ge)){i.popup&&(i.popup.deleted?r+=1:n+=1);continue}i.isCommentDeleted?r+=1:i.hasEditedComment&&(n+=1);const l=i.telemetryFinalData;if(!l)continue;const{type:c}=l;t.has(c)||t.set(c,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const h=e[c]||(e[c]=new Map);for(const[f,p]of Object.entries(l)){if(f==="type")continue;let g=h.get(f);g||(g=new Map,h.set(f,g));const v=g.get(p)??0;g.set(p,v+1)}}if((r>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:n}),!e)return null;for(const[i,l]of t)e[i]=l.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){w(this,Tl,null)}updateEditor(e,t){var r;const n=(r=o(this,zi))==null?void 0:r.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=o(this,zi))==null?void 0:t.get(e))||null}get modifiedIds(){if(o(this,Tl))return o(this,Tl);const e=[];if(o(this,zi))for(const t of o(this,zi).values())t.serialize()&&e.push(t.annotationElementId);return w(this,Tl,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return o(this,xn).entries()}}Cl=new WeakMap,Tl=new WeakMap,zi=new WeakMap,xn=new WeakMap,Iv=new WeakSet,eC=function(){o(this,Cl)||(w(this,Cl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Bf;class nC extends Zw{constructor(t){super();P(this,Bf);const{map:n,hash:r,transfer:i}=t.serializable,l=structuredClone(n,i?{transfer:i}:null);w(this,Bf,{map:l,hash:r,transfer:i})}get print(){Jt("Should not call PrintAnnotationStorage.print")}get serializable(){return o(this,Bf)}get modifiedIds(){return Dt(this,"modifiedIds",{ids:new Set,hash:""})}}Bf=new WeakMap;var Fu;class tR{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){P(this,Fu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),o(this,Fu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||o(this,Fu).has(e.loadedName))){if(Qt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:l}=e,c=new FontFace(r,i,l);this.addNativeFontFace(c);try{await c.load(),o(this,Fu).add(r),n==null||n(e)}catch{Rt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Jt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Rt(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Dt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Dt(this,"isSyncFontLoadingSupported",Gn||en.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Qt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const i=n.shift();setTimeout(i.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Dt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(D,M){return D.charCodeAt(M)<<24|D.charCodeAt(M+1)<<16|D.charCodeAt(M+2)<<8|D.charCodeAt(M+3)&255}function r(D,M,L,F){const U=D.substring(0,M),z=D.substring(M+L);return U+F+z}let i,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let f=0;function p(D,M){if(++f>30){Rt("Load test font never loaded."),M();return}if(h.font="30px "+D,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(p.bind(null,D,M))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,g.length,g);const A=16,b=1482184792;let E=n(v,A);for(i=0,l=g.length-3;i<l;i+=4)E=E-b+n(g,i)|0;i<g.length&&(E=E-b+n(g+"XXX",i)|0),v=r(v,A,4,ON(E));const T=`url(data:font/opentype;base64,${btoa(v)});`,R=`@font-face {font-family:"${g}";src:${T}}`;this.insertRule(R);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const D of[e.loadedName,g]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=D,N.append(M)}this._document.body.append(N),p(g,()=>{N.remove(),t.complete()})}}Fu=new WeakMap;var ae;class eR{constructor(e,t=null,n,r){P(this,ae);this.compiledGlyphs=Object.create(null),w(this,ae,e),this._inspectFont=t,n&&Object.assign(this,n),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${this.data.toBase64()});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(l){Rt(`getPathGenerator - ignoring character: "${l}".`)}const i=wE(r==null?void 0:r.path);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=i}get black(){return o(this,ae).black}get bold(){return o(this,ae).bold}get disableFontFace(){return o(this,ae).disableFontFace??!1}set disableFontFace(e){Dt(this,"disableFontFace",!!e)}get fontExtraProperties(){return o(this,ae).fontExtraProperties??!1}get isInvalidPDFjsFont(){return o(this,ae).isInvalidPDFjsFont}get isType3Font(){return o(this,ae).isType3Font}get italic(){return o(this,ae).italic}get missingFile(){return o(this,ae).missingFile}get remeasure(){return o(this,ae).remeasure}get vertical(){return o(this,ae).vertical}get ascent(){return o(this,ae).ascent}get defaultWidth(){return o(this,ae).defaultWidth}get descent(){return o(this,ae).descent}get bbox(){return o(this,ae).bbox}set bbox(e){Dt(this,"bbox",e)}get fontMatrix(){return o(this,ae).fontMatrix}get fallbackName(){return o(this,ae).fallbackName}get loadedName(){return o(this,ae).loadedName}get mimetype(){return o(this,ae).mimetype}get name(){return o(this,ae).name}get data(){return o(this,ae).data}clearData(){o(this,ae).clearData()}get cssFontInfo(){return o(this,ae).cssFontInfo}get systemFontInfo(){return o(this,ae).systemFontInfo}get defaultVMetrics(){return o(this,ae).defaultVMetrics}}ae=new WeakMap;var ju,Bu,_f,_u,jg;const uu=class uu{constructor(e){P(this,_u);P(this,ju);P(this,Bu);P(this,_f);w(this,ju,e),w(this,Bu,new DataView(o(this,ju))),w(this,_f,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let r=0;for(const f of uu.strings){const p=t.encode(e[f]);n[f]=p,r+=4+p.length}const i=new ArrayBuffer(r),l=new Uint8Array(i),c=new DataView(i);let h=0;for(const f of uu.strings){const p=n[f],g=p.length;c.setUint32(h,g),l.set(p,h+4),h+=4+g}return Qt(h===i.byteLength,"CssFontInfo.write: Buffer overflow"),i}get fontFamily(){return k(this,_u,jg).call(this,0)}get fontWeight(){return k(this,_u,jg).call(this,1)}get italicAngle(){return k(this,_u,jg).call(this,2)}};ju=new WeakMap,Bu=new WeakMap,_f=new WeakMap,_u=new WeakSet,jg=function(e){Qt(e<uu.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=o(this,Bu).getUint32(t)+4;const n=o(this,Bu).getUint32(t);return o(this,_f).decode(new Uint8Array(o(this,ju),t+4,n))},K(uu,"strings",["fontFamily","fontWeight","italicAngle"]);let gv=uu;var co,qs,Pl,kl,zd;const hu=class hu{constructor(e){P(this,kl);P(this,co);P(this,qs);P(this,Pl);w(this,co,e),w(this,qs,new DataView(o(this,co))),w(this,Pl,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let r=0;for(const v of hu.strings){const x=t.encode(e[v]);n[v]=x,r+=4+x.length}r+=4;let i,l,c=1+r;e.style&&(i=t.encode(e.style.style),l=t.encode(e.style.weight),c+=4+i.length+4+l.length);const h=new ArrayBuffer(c),f=new Uint8Array(h),p=new DataView(h);let g=0;p.setUint8(g++,e.guessFallback?1:0),p.setUint32(g,0),g+=4,r=0;for(const v of hu.strings){const x=n[v],A=x.length;r+=4+A,p.setUint32(g,A),f.set(x,g+4),g+=4+A}return p.setUint32(g-r-4,r),e.style&&(p.setUint32(g,i.length),f.set(i,g+4),g+=4+i.length,p.setUint32(g,l.length),f.set(l,g+4),g+=4+l.length),Qt(g<=h.byteLength,"SubstitionInfo.write: Buffer overflow"),h.transferToFixedLength(g)}get guessFallback(){return o(this,qs).getUint8(0)!==0}get css(){return k(this,kl,zd).call(this,0)}get loadedName(){return k(this,kl,zd).call(this,1)}get baseFontName(){return k(this,kl,zd).call(this,2)}get src(){return k(this,kl,zd).call(this,3)}get style(){let e=1;e+=4+o(this,qs).getUint32(e);const t=o(this,qs).getUint32(e),n=o(this,Pl).decode(new Uint8Array(o(this,co),e+4,t));e+=4+t;const r=o(this,qs).getUint32(e),i=o(this,Pl).decode(new Uint8Array(o(this,co),e+4,r));return{style:n,weight:i}}};co=new WeakMap,qs=new WeakMap,Pl=new WeakMap,kl=new WeakSet,zd=function(e){Qt(e<hu.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=o(this,qs).getUint32(t)+4;const n=o(this,qs).getUint32(t);return o(this,Pl).decode(new Uint8Array(o(this,co),t+4,n))},K(hu,"strings",["css","loadedName","baseFontName","src"]);let vv=hu;var Uu,zu,Hu,$u,wr,ti,Uf,oe,Le,xs,Bg,Hd;const Ft=class Ft{constructor({data:e,extra:t}){P(this,Le);P(this,ti);P(this,Uf);P(this,oe);w(this,ti,e),w(this,Uf,new TextDecoder),w(this,oe,new DataView(o(this,ti))),t&&Object.assign(this,t)}get black(){return k(this,Le,xs).call(this,0)}get bold(){return k(this,Le,xs).call(this,1)}get disableFontFace(){return k(this,Le,xs).call(this,2)}get fontExtraProperties(){return k(this,Le,xs).call(this,3)}get isInvalidPDFjsFont(){return k(this,Le,xs).call(this,4)}get isType3Font(){return k(this,Le,xs).call(this,5)}get italic(){return k(this,Le,xs).call(this,6)}get missingFile(){return k(this,Le,xs).call(this,7)}get remeasure(){return k(this,Le,xs).call(this,8)}get vertical(){return k(this,Le,xs).call(this,9)}get ascent(){return k(this,Le,Bg).call(this,0)}get defaultWidth(){return k(this,Le,Bg).call(this,1)}get descent(){return k(this,Le,Bg).call(this,2)}get bbox(){let e=o(Ft,zu);if(o(this,oe).getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<4;r++)n.push(o(this,oe).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=o(Ft,Hu);if(o(this,oe).getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<6;r++)n.push(o(this,oe).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=o(Ft,$u);if(o(this,oe).getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<3;r++)n.push(o(this,oe).getInt16(e,!0)),e+=2;return n}get fallbackName(){return k(this,Le,Hd).call(this,0)}get loadedName(){return k(this,Le,Hd).call(this,1)}get mimetype(){return k(this,Le,Hd).call(this,2)}get name(){return k(this,Le,Hd).call(this,3)}get data(){let e=o(Ft,wr);const t=o(this,oe).getUint32(e);e+=4+t;const n=o(this,oe).getUint32(e);e+=4+n;const r=o(this,oe).getUint32(e);e+=4+r;const i=o(this,oe).getUint32(e);if(i!==0)return new Uint8Array(o(this,ti),e+4,i)}clearData(){let e=o(Ft,wr);const t=o(this,oe).getUint32(e);e+=4+t;const n=o(this,oe).getUint32(e);e+=4+n;const r=o(this,oe).getUint32(e);e+=4+r;const i=o(this,oe).getUint32(e);new Uint8Array(o(this,ti),e+4,i).fill(0),o(this,oe).setUint32(e,0)}get cssFontInfo(){let e=o(Ft,wr);const t=o(this,oe).getUint32(e);e+=4+t;const n=o(this,oe).getUint32(e);e+=4+n;const r=o(this,oe).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(o(this,ti),e+4,r)),new gv(i.buffer)}get systemFontInfo(){let e=o(Ft,wr);const t=o(this,oe).getUint32(e);e+=4+t;const n=o(this,oe).getUint32(e);if(n===0)return null;const r=new Uint8Array(n);return r.set(new Uint8Array(o(this,ti),e+4,n)),new vv(r.buffer)}static write(e){const t=e.systemFontInfo?vv.write(e.systemFontInfo):null,n=e.cssFontInfo?gv.write(e.cssFontInfo):null,r=new TextEncoder,i={};let l=0;for(const b of Ft.strings)i[b]=r.encode(e[b]),l+=4+i[b].length;const c=o(Ft,wr)+4+l+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),h=new ArrayBuffer(c),f=new Uint8Array(h),p=new DataView(h);let g=0;const v=Ft.bools.length;let x=0,A=0;for(let b=0;b<v;b++){const E=e[Ft.bools[b]];x|=(E===void 0?0:E?2:1)<<A,A+=2,(A===8||b===v-1)&&(p.setUint8(g++,x),x=0,A=0)}Qt(g===o(Ft,Uu),"FontInfo.write: Boolean properties offset mismatch");for(const b of Ft.numbers)p.setFloat64(g,e[b]),g+=8;if(Qt(g===o(Ft,zu),"FontInfo.write: Number properties offset mismatch"),e.bbox){p.setUint8(g++,4);for(const b of e.bbox)p.setInt16(g,b,!0),g+=2}else p.setUint8(g++,0),g+=8;if(Qt(g===o(Ft,Hu),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){p.setUint8(g++,6);for(const b of e.fontMatrix)p.setFloat64(g,b,!0),g+=8}else p.setUint8(g++,0),g+=48;if(Qt(g===o(Ft,$u),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){p.setUint8(g++,1);for(const b of e.defaultVMetrics)p.setInt16(g,b,!0),g+=2}else p.setUint8(g++,0),g+=6;Qt(g===o(Ft,wr),"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(o(Ft,wr),0),g+=4;for(const b of Ft.strings){const E=i[b],T=E.length;p.setUint32(g,T),f.set(E,g+4),g+=4+T}if(p.setUint32(o(Ft,wr),g-o(Ft,wr)-4),!t)p.setUint32(g,0),g+=4;else{const b=t.byteLength;p.setUint32(g,b),Qt(g+4+b<=h.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(t),g+4),g+=4+b}if(!n)p.setUint32(g,0),g+=4;else{const b=n.byteLength;p.setUint32(g,b),Qt(g+4+b<=h.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(n),g+4),g+=4+b}return e.data===void 0?(p.setUint32(g,0),g+=4):(p.setUint32(g,e.data.length),f.set(e.data,g+4),g+=4+e.data.length),Qt(g<=h.byteLength,"FontInfo.write: Buffer overflow"),h.transferToFixedLength(g)}};Uu=new WeakMap,zu=new WeakMap,Hu=new WeakMap,$u=new WeakMap,wr=new WeakMap,ti=new WeakMap,Uf=new WeakMap,oe=new WeakMap,Le=new WeakSet,xs=function(e){Qt(e<Ft.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,r=o(this,oe).getUint8(t)>>n&3;return r===0?void 0:r===2},Bg=function(e){return Qt(e<Ft.numbers.length,"Invalid number index"),o(this,oe).getFloat64(o(Ft,Uu)+e*8)},Hd=function(e){Qt(e<Ft.strings.length,"Invalid string index");let t=o(Ft,wr)+4;for(let i=0;i<e;i++)t+=o(this,oe).getUint32(t)+4;const n=o(this,oe).getUint32(t),r=new Uint8Array(n);return r.set(new Uint8Array(o(this,ti),t+4,n)),o(this,Uf).decode(r)},K(Ft,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),K(Ft,"numbers",["ascent","defaultWidth","descent"]),K(Ft,"strings",["fallbackName","loadedName","mimetype","name"]),P(Ft,Uu,Math.ceil(Ft.bools.length*2/8)),P(Ft,zu,o(Ft,Uu)+Ft.numbers.length*8),P(Ft,Hu,o(Ft,zu)+1+8),P(Ft,$u,o(Ft,Hu)+1+48),P(Ft,wr,o(Ft,$u)+1+6);let Fx=Ft;var zf,Hf,$f,Vf,Wf,Gf,Xf,Yf;const pe=class pe{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,n=null,r=[],i=[],l=[],c=[],h=null,f=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,n=e[2],l=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,h=e[1],r=e[2],i=e[3],c=e[4]||[],n=e[6],f=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const p=Math.floor(r.length/2),g=Math.floor(i.length/3),v=l.length,x=c.length;let A=0;for(const M of c)A+=1,A=Math.ceil(A/4)*4,A+=4+M.coords.length*4,A+=4+M.colors.length*4,M.verticesPerRow!==void 0&&(A+=4);const b=20+p*8+g*3+v*8+(n?16:0)+(f?3:0)+A,E=new ArrayBuffer(b),T=new DataView(E),R=new Uint8Array(E);T.setUint8(o(pe,zf),t),T.setUint8(o(pe,Hf),n?1:0),T.setUint8(o(pe,$f),f?1:0),T.setUint8(o(pe,Vf),h),T.setUint32(o(pe,Wf),p,!0),T.setUint32(o(pe,Gf),g,!0),T.setUint32(o(pe,Xf),v,!0),T.setUint32(o(pe,Yf),x,!0);let N=20;new Float32Array(E,N,p*2).set(r),N+=p*8,R.set(i,N),N+=g*3;for(const[M,L]of l)T.setFloat32(N,M,!0),N+=4,T.setUint32(N,parseInt(L.slice(1),16),!0),N+=4;if(n)for(const M of n)T.setFloat32(N,M,!0),N+=4;f&&(R.set(f,N),N+=3);for(let M=0;M<c.length;M++){const L=c[M];T.setUint8(N,L.type),N+=1,N=Math.ceil(N/4)*4,T.setUint32(N,L.coords.length,!0),N+=4,new Int32Array(E,N,L.coords.length).set(L.coords),N+=L.coords.length*4,T.setUint32(N,L.colors.length,!0),N+=4,new Int32Array(E,N,L.colors.length).set(L.colors),N+=L.colors.length*4,L.verticesPerRow!==void 0&&(T.setUint32(N,L.verticesPerRow,!0),N+=4)}return E}getIR(){const e=this.view,t=this.data[o(pe,zf)],n=!!this.data[o(pe,Hf)],r=!!this.data[o(pe,$f)],i=e.getUint32(o(pe,Wf),!0),l=e.getUint32(o(pe,Gf),!0),c=e.getUint32(o(pe,Xf),!0),h=e.getUint32(o(pe,Yf),!0);let f=20;const p=new Float32Array(this.buffer,f,i*2);f+=i*8;const g=new Uint8Array(this.buffer,f,l*3);f+=l*3;const v=[];for(let E=0;E<c;++E){const T=e.getFloat32(f,!0);f+=4;const R=e.getUint32(f,!0);f+=4,v.push([T,`#${R.toString(16).padStart(6,"0")}`])}let x=null;if(n){x=[];for(let E=0;E<4;++E)x.push(e.getFloat32(f,!0)),f+=4}let A=null;r&&(A=new Uint8Array(this.buffer,f,3),f+=3);const b=[];for(let E=0;E<h;++E){const T=e.getUint8(f);f+=1,f=Math.ceil(f/4)*4;const R=e.getUint32(f,!0);f+=4;const N=new Int32Array(this.buffer,f,R);f+=R*4;const D=e.getUint32(f,!0);f+=4;const M=new Int32Array(this.buffer,f,D);f+=D*4;const L={type:T,coords:N,colors:M};T===px.LATTICE&&(L.verticesPerRow=e.getUint32(f,!0),f+=4),b.push(L)}if(t===1)return["RadialAxial","axial",x,v,Array.from(p.slice(0,2)),Array.from(p.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",x,v,[p[0],p[1]],[p[3],p[4]],p[2],p[5]];if(t===3){const E=this.data[o(pe,Vf)];let T=null;if(p.length>0){let R=p[0],N=p[0],D=p[1],M=p[1];for(let L=0;L<p.length;L+=2){const F=p[L],U=p[L+1];R=R>F?F:R,D=D>U?U:D,N=N<F?F:N,M=M<U?U:M}T=[R,D,N,M]}return["Mesh",E,p,g,b,T,x,A]}throw new Error(`Unsupported pattern kind: ${t}`)}};zf=new WeakMap,Hf=new WeakMap,$f=new WeakMap,Vf=new WeakMap,Wf=new WeakMap,Gf=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,P(pe,zf,0),P(pe,Hf,1),P(pe,$f,2),P(pe,Vf,3),P(pe,Wf,4),P(pe,Gf,8),P(pe,Xf,12),P(pe,Yf,16);let jx=pe;var Vu;class nR{constructor(e){P(this,Vu);w(this,Vu,e)}static write(e){let t,n;return en.isFloat16ArraySupported?(n=new ArrayBuffer(e.length*2),t=new Float16Array(n)):(n=new ArrayBuffer(e.length*4),t=new Float32Array(n)),t.set(e),n}get path(){return en.isFloat16ArraySupported?new Float16Array(o(this,Vu)):new Float32Array(o(this,Vu))}}Vu=new WeakMap;function rR(u){if(u instanceof URL)return u.href;if(typeof u=="string"){if(Gn)return u;const e=URL.parse(u,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function sR(u){if(Gn&&typeof Buffer<"u"&&u instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return Kv(u);if(u instanceof ArrayBuffer||ArrayBuffer.isView(u)||typeof u=="object"&&!isNaN(u==null?void 0:u.length))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Ag(u){if(typeof u!="string")return null;if(u.endsWith("/"))return u;throw new Error(`Invalid factory url: "${u}" must include trailing slash.`)}const Bx=u=>typeof u=="object"&&Number.isInteger(u==null?void 0:u.num)&&u.num>=0&&Number.isInteger(u==null?void 0:u.gen)&&u.gen>=0,iR=u=>typeof u=="object"&&typeof(u==null?void 0:u.name)=="string",aR=UN.bind(null,Bx,iR);var Hi,Mv;class oR{constructor(){P(this,Hi,new Map);P(this,Mv,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};o(this,Mv).then(()=>{for(const[r]of o(this,Hi))r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:i}=n;if(i.aborted){Rt("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>i.removeEventListener("abort",l),i.addEventListener("abort",l)}o(this,Hi).set(t,r)}removeEventListener(e,t){const n=o(this,Hi).get(t);n==null||n(),o(this,Hi).delete(t)}terminate(){for(const[,e]of o(this,Hi))e==null||e();o(this,Hi).clear()}}Hi=new WeakMap,Mv=new WeakMap;jt(1689);const Sg={DATA:1,ERROR:2},$e={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function IS(){}function er(u){if(u instanceof Bo||u instanceof mx||u instanceof SS||u instanceof dv||u instanceof nx)return u;switch(u instanceof Error||typeof u=="object"&&u!==null||Jt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new Bo(u.message);case"InvalidPDFException":return new mx(u.message);case"PasswordException":return new SS(u.message,u.code);case"ResponseException":return new dv(u.message,u.status,u.missing);case"UnknownErrorException":return new nx(u.message,u.details)}return new nx(u.message,u.toString())}var Wu,us,rC,sC,iC,_g;class $d{constructor(e,t,n){P(this,us);P(this,Wu,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",k(this,us,rC).bind(this),{signal:o(this,Wu).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(l){i.reject(l)}return i.promise}sendWithStream(e,t,n,r){const i=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[i]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:e,streamId:i,data:t,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[i].pullCall=p,h.postMessage({sourceName:l,targetName:c,stream:$e.PULL,streamId:i,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Qt(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[i].cancelCall=p,this.streamControllers[i].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:$e.CANCEL,streamId:i,reason:er(f)}),p.promise}},n)}destroy(){var e;(e=o(this,Wu))==null||e.abort(),w(this,Wu,null)}}Wu=new WeakMap,us=new WeakSet,rC=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){k(this,us,iC).call(this,e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Sg.DATA)r.resolve(e.data);else if(e.callback===Sg.ERROR)r.reject(er(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(l){i.postMessage({sourceName:n,targetName:r,callback:Sg.DATA,callbackId:e.callbackId,data:l})},function(l){i.postMessage({sourceName:n,targetName:r,callback:Sg.ERROR,callbackId:e.callbackId,reason:er(l)})});return}if(e.streamId){k(this,us,sC).call(this,e);return}t(e.data)},sC=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,l=this,c=this.actionHandler[e.action],h={enqueue(f,p=1,g){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:r,stream:$e.ENQUEUE,streamId:t,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:$e.CLOSE,streamId:t}),delete l.streamSinks[t])},error(f){Qt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:$e.ERROR,streamId:t,reason:er(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[t]=h,Promise.try(c,e.data,h).then(function(){i.postMessage({sourceName:n,targetName:r,stream:$e.START_COMPLETE,streamId:t,success:!0})},function(f){i.postMessage({sourceName:n,targetName:r,stream:$e.START_COMPLETE,streamId:t,reason:er(f)})})},iC=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,l=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case $e.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(er(e.reason));break;case $e.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(er(e.reason));break;case $e.PULL:if(!c){i.postMessage({sourceName:n,targetName:r,stream:$e.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||IS).then(function(){i.postMessage({sourceName:n,targetName:r,stream:$e.PULL_COMPLETE,streamId:t,success:!0})},function(f){i.postMessage({sourceName:n,targetName:r,stream:$e.PULL_COMPLETE,streamId:t,reason:er(f)})});break;case $e.ENQUEUE:if(Qt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case $e.CLOSE:if(Qt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),k(this,us,_g).call(this,l,t);break;case $e.ERROR:Qt(l,"error should have stream controller"),l.controller.error(er(e.reason)),k(this,us,_g).call(this,l,t);break;case $e.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(er(e.reason)),k(this,us,_g).call(this,l,t);break;case $e.CANCEL:if(!c)break;const h=er(e.reason);Promise.try(c.onCancel||IS,h).then(function(){i.postMessage({sourceName:n,targetName:r,stream:$e.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){i.postMessage({sourceName:n,targetName:r,stream:$e.CANCEL_COMPLETE,streamId:t,reason:er(f)})}),c.sinkCapability.reject(h),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},_g=async function(e,t){var n,r,i;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var Kf;class aC{constructor({enableHWA:e=!1}){P(this,Kf,!1);w(this,Kf,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!o(this,Kf)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Jt("Abstract method `_createCanvas` called.")}}Kf=new WeakMap;class lR extends aC{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class oC{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Jt("Abstract method `_fetch` called.")}}class MS extends oC{async _fetch(e){const t=await om(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Kv(t)}}jt(2489);class lC{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,i){return"none"}destroy(e=!1){}}var Nl,Gu,$i,Vi,On,Rl,Il,vt,In,Vd,eu,Ug,nu,cC,_x,ru,Wd,Gd,Ux,Xd;class cR extends lC{constructor({docId:t,ownerDocument:n=globalThis.document}){super();P(this,vt);P(this,Nl);P(this,Gu);P(this,$i);P(this,Vi);P(this,On);P(this,Rl);P(this,Il,0);w(this,Vi,t),w(this,On,n)}addFilter(t){if(!t)return"none";let n=o(this,vt,In).get(t);if(n)return n;const[r,i,l]=k(this,vt,Ug).call(this,t),c=t.length===1?r:`${r}${i}${l}`;if(n=o(this,vt,In).get(c),n)return o(this,vt,In).set(t,n),n;const h=`g_${o(this,Vi)}_transfer_map_${Qe(this,Il)._++}`,f=k(this,vt,nu).call(this,h);o(this,vt,In).set(t,f),o(this,vt,In).set(c,f);const p=k(this,vt,ru).call(this,h);return k(this,vt,Gd).call(this,r,i,l,p),f}addHCMFilter(t,n){var A;const r=`${t}-${n}`,i="base";let l=o(this,vt,Vd).get(i);if((l==null?void 0:l.key)===r||(l?((A=l.filter)==null||A.remove(),l.key=r,l.url="none",l.filter=null):(l={key:r,url:"none",filter:null},o(this,vt,Vd).set(i,l)),!t||!n))return l.url;const c=k(this,vt,Xd).call(this,t);t=pt.makeHexColor(...c);const h=k(this,vt,Xd).call(this,n);if(n=pt.makeHexColor(...h),o(this,vt,eu).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const f=new Array(256);for(let b=0;b<=255;b++){const E=b/255;f[b]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const p=f.join(","),g=`g_${o(this,Vi)}_hcm_filter`,v=l.filter=k(this,vt,ru).call(this,g);k(this,vt,Gd).call(this,p,p,p,v),k(this,vt,_x).call(this,v);const x=(b,E)=>{const T=c[b]/255,R=h[b]/255,N=new Array(E+1);for(let D=0;D<=E;D++)N[D]=T+D/E*(R-T);return N.join(",")};return k(this,vt,Gd).call(this,x(0,5),x(1,5),x(2,5),v),l.url=k(this,vt,nu).call(this,g),l.url}addAlphaFilter(t){let n=o(this,vt,In).get(t);if(n)return n;const[r]=k(this,vt,Ug).call(this,[t]),i=`alpha_${r}`;if(n=o(this,vt,In).get(i),n)return o(this,vt,In).set(t,n),n;const l=`g_${o(this,Vi)}_alpha_map_${Qe(this,Il)._++}`,c=k(this,vt,nu).call(this,l);o(this,vt,In).set(t,c),o(this,vt,In).set(i,c);const h=k(this,vt,ru).call(this,l);return k(this,vt,Ux).call(this,r,h),c}addLuminosityFilter(t){let n=o(this,vt,In).get(t||"luminosity");if(n)return n;let r,i;if(t?([r]=k(this,vt,Ug).call(this,[t]),i=`luminosity_${r}`):i="luminosity",n=o(this,vt,In).get(i),n)return o(this,vt,In).set(t,n),n;const l=`g_${o(this,Vi)}_luminosity_map_${Qe(this,Il)._++}`,c=k(this,vt,nu).call(this,l);o(this,vt,In).set(t,c),o(this,vt,In).set(i,c);const h=k(this,vt,ru).call(this,l);return k(this,vt,cC).call(this,h),t&&k(this,vt,Ux).call(this,r,h),c}addHighlightHCMFilter(t,n,r,i,l){var R;const c=`${n}-${r}-${i}-${l}`;let h=o(this,vt,Vd).get(t);if((h==null?void 0:h.key)===c||(h?((R=h.filter)==null||R.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},o(this,vt,Vd).set(t,h)),!n||!r))return h.url;const[f,p]=[n,r].map(k(this,vt,Xd).bind(this));let g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[x,A]=[i,l].map(k(this,vt,Xd).bind(this));v<g&&([g,v,x,A]=[v,g,A,x]),o(this,vt,eu).style.color="";const b=(N,D,M)=>{const L=new Array(256),F=(v-g)/M,U=N/255,z=(D-N)/(255*M);let G=0;for(let X=0;X<=M;X++){const ot=Math.round(g+X*F),q=U+X*z;for(let st=G;st<=ot;st++)L[st]=q;G=ot+1}for(let X=G;X<256;X++)L[X]=L[G-1];return L.join(",")},E=`g_${o(this,Vi)}_hcm_${t}_filter`,T=h.filter=k(this,vt,ru).call(this,E);return k(this,vt,_x).call(this,T),k(this,vt,Gd).call(this,b(x[0],A[0],5),b(x[1],A[1],5),b(x[2],A[2],5),T),h.url=k(this,vt,nu).call(this,E),h.url}destroy(t=!1){var n,r,i,l;t&&((n=o(this,Rl))!=null&&n.size)||((r=o(this,$i))==null||r.parentNode.parentNode.remove(),w(this,$i,null),(i=o(this,Gu))==null||i.clear(),w(this,Gu,null),(l=o(this,Rl))==null||l.clear(),w(this,Rl,null),w(this,Il,0))}}Nl=new WeakMap,Gu=new WeakMap,$i=new WeakMap,Vi=new WeakMap,On=new WeakMap,Rl=new WeakMap,Il=new WeakMap,vt=new WeakSet,In=function(){return o(this,Gu)||w(this,Gu,new Map)},Vd=function(){return o(this,Rl)||w(this,Rl,new Map)},eu=function(){if(!o(this,$i)){const t=o(this,On).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=o(this,On).createElementNS(Ci,"svg");r.setAttribute("width",0),r.setAttribute("height",0),w(this,$i,o(this,On).createElementNS(Ci,"defs")),t.append(r),r.append(o(this,$i)),o(this,On).body.append(t)}return o(this,$i)},Ug=function(t){if(t.length===1){const f=t[0],p=new Array(256);for(let v=0;v<256;v++)p[v]=f[v]/255;const g=p.join(",");return[g,g,g]}const[n,r,i]=t,l=new Array(256),c=new Array(256),h=new Array(256);for(let f=0;f<256;f++)l[f]=n[f]/255,c[f]=r[f]/255,h[f]=i[f]/255;return[l.join(","),c.join(","),h.join(",")]},nu=function(t){if(o(this,Nl)===void 0){w(this,Nl,"");const n=o(this,On).URL;n!==o(this,On).baseURI&&(Qv(n)?Rt('#createUrl: ignore "data:"-URL for performance reasons.'):w(this,Nl,gE(n,"")))}return`url(${o(this,Nl)}#${t})`},cC=function(t){const n=o(this,On).createElementNS(Ci,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},_x=function(t){const n=o(this,On).createElementNS(Ci,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},ru=function(t){const n=o(this,On).createElementNS(Ci,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),o(this,vt,eu).append(n),n},Wd=function(t,n,r){const i=o(this,On).createElementNS(Ci,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),t.append(i)},Gd=function(t,n,r,i){const l=o(this,On).createElementNS(Ci,"feComponentTransfer");i.append(l),k(this,vt,Wd).call(this,l,"feFuncR",t),k(this,vt,Wd).call(this,l,"feFuncG",n),k(this,vt,Wd).call(this,l,"feFuncB",r)},Ux=function(t,n){const r=o(this,On).createElementNS(Ci,"feComponentTransfer");n.append(r),k(this,vt,Wd).call(this,r,"feFuncA",t)},Xd=function(t){return o(this,vt,eu).style.color=t,cm(getComputedStyle(o(this,vt,eu)).getPropertyValue("color"))};class uC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Jt("Abstract method `_fetch` called.")}}class DS extends uC{async _fetch(e){const t=await om(e,"arraybuffer");return new Uint8Array(t)}}class hC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Jt("Abstract method `_fetch` called.")}}class LS extends hC{async _fetch(e){const t=await om(e,"arraybuffer");return new Uint8Array(t)}}var ZS;if(Gn){let u;try{const e=process.getBuiltinModule("module").createRequire(import.meta.url);try{u=e("@napi-rs/canvas")}catch(t){Rt(`Cannot load "@napi-rs/canvas" package: "${t}".`)}}catch(e){Rt(`Cannot access the \`require\` function: "${e}".`)}globalThis.DOMMatrix||(u!=null&&u.DOMMatrix?globalThis.DOMMatrix=u.DOMMatrix:Rt("Cannot polyfill `DOMMatrix`, rendering may be broken.")),globalThis.ImageData||(u!=null&&u.ImageData?globalThis.ImageData=u.ImageData:Rt("Cannot polyfill `ImageData`, rendering may be broken.")),globalThis.Path2D||(u!=null&&u.Path2D?globalThis.Path2D=u.Path2D:Rt("Cannot polyfill `Path2D`, rendering may be broken.")),(ZS=globalThis.navigator)!=null&&ZS.language||(globalThis.navigator={language:"en-US",platform:"",userAgent:""})}async function qw(u){const t=await process.getBuiltinModule("fs").promises.readFile(u);return new Uint8Array(t)}class uR extends lC{}class hR extends aC{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class dR extends oC{async _fetch(e){return qw(e)}}class fR extends uC{async _fetch(e){return qw(e)}}class pR extends hC{async _fetch(e){return qw(e)}}jt(7588);const Zc="__forcedDependency",{floor:OS,ceil:FS}=Math;function Eg(u,e,t,n,r,i){u[e*4+0]=Math.min(u[e*4+0],t),u[e*4+1]=Math.min(u[e*4+1],n),u[e*4+2]=Math.max(u[e*4+2],r),u[e*4+3]=Math.max(u[e*4+3],i)}const zx=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Xu,uo;class mR{constructor(e,t){P(this,Xu);P(this,uo);w(this,Xu,e),w(this,uo,t)}get length(){return o(this,Xu).length}isEmpty(e){return o(this,Xu)[e]===zx}minX(e){return o(this,uo)[e*4+0]/256}minY(e){return o(this,uo)[e*4+1]/256}maxX(e){return(o(this,uo)[e*4+2]+1)/256}maxY(e){return(o(this,uo)[e*4+3]+1)/256}}Xu=new WeakMap,uo=new WeakMap;const Cg=(u,e)=>{if(!u)return;let t=u.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},u.set(e,t)),t};var sr,ir,Ml,Es,Dl,Wi,se,le,Gi,ar,Qf,Yu,Ll,Ol,Xi,Fn,ei,Jf,Hx;class gR{constructor(e,t,n=!1){P(this,Jf);P(this,sr,{__proto__:null});P(this,ir,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Zc]:[]});P(this,Ml,new Map);P(this,Es,[]);P(this,Dl,[]);P(this,Wi,[[1,0,0,1,0,0]]);P(this,se,[-1/0,-1/0,1/0,1/0]);P(this,le,new Float64Array([1/0,1/0,-1/0,-1/0]));P(this,Gi,-1);P(this,ar,new Set);P(this,Qf,new Map);P(this,Yu,new Map);P(this,Ll);P(this,Ol);P(this,Xi);P(this,Fn);P(this,ei);w(this,Ll,e.width),w(this,Ol,e.height),k(this,Jf,Hx).call(this,t),n&&w(this,ei,new Map)}growOperationsCount(e){e>=o(this,Fn).length&&k(this,Jf,Hx).call(this,e,o(this,Fn))}save(e){return w(this,sr,{__proto__:o(this,sr)}),w(this,ir,{__proto__:o(this,ir),transform:{__proto__:o(this,ir).transform},moveText:{__proto__:o(this,ir).moveText},sameLineText:{__proto__:o(this,ir).sameLineText},[Zc]:{__proto__:o(this,ir)[Zc]}}),w(this,se,{__proto__:o(this,se)}),o(this,Es).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(o(this,sr));if(t===null)return this;w(this,sr,t),w(this,ir,Object.getPrototypeOf(o(this,ir))),w(this,se,Object.getPrototypeOf(o(this,se)));const n=o(this,Es).pop();return n!==void 0&&((r=Cg(o(this,ei),e))==null||r.dependencies.add(n),o(this,Fn)[e]=o(this,Fn)[n]),this}recordOpenMarker(e){return o(this,Es).push(e),this}getOpenMarker(){return o(this,Es).length===0?null:o(this,Es).at(-1)}recordCloseMarker(e){var n;const t=o(this,Es).pop();return t!==void 0&&((n=Cg(o(this,ei),e))==null||n.dependencies.add(t),o(this,Fn)[e]=o(this,Fn)[t]),this}beginMarkedContent(e){return o(this,Dl).push(e),this}endMarkedContent(e){var n;const t=o(this,Dl).pop();return t!==void 0&&((n=Cg(o(this,ei),e))==null||n.dependencies.add(t),o(this,Fn)[e]=o(this,Fn)[t]),this}pushBaseTransform(e){return o(this,Wi).push(pt.multiplyByDOMMatrix(o(this,Wi).at(-1),e.getTransform())),this}popBaseTransform(){return o(this,Wi).length>1&&o(this,Wi).pop(),this}recordSimpleData(e,t){return o(this,sr)[e]=t,this}recordIncrementalData(e,t){return o(this,ir)[e].push(t),this}resetIncrementalData(e,t){return o(this,ir)[e].length=0,this}recordNamedData(e,t){return o(this,Ml).set(e,t),this}recordSimpleDataFromNamed(e,t,n){o(this,sr)[e]=o(this,Ml).get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Zc,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in o(this,sr)&&this.recordFutureForcedDependency(t,o(this,sr)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of o(this,ar))this.recordFutureForcedDependency(Zc,e);return this}resetBBox(e){return o(this,Gi)!==e&&(w(this,Gi,e),o(this,le)[0]=1/0,o(this,le)[1]=1/0,o(this,le)[2]=-1/0,o(this,le)[3]=-1/0),this}recordClipBox(e,t,n,r,i,l){const c=pt.multiplyByDOMMatrix(o(this,Wi).at(-1),t.getTransform()),h=[1/0,1/0,-1/0,-1/0];pt.axialAlignedBoundingBox([n,i,r,l],c,h);const f=pt.intersect(o(this,se),h);return f?(o(this,se)[0]=f[0],o(this,se)[1]=f[1],o(this,se)[2]=f[2],o(this,se)[3]=f[3]):(o(this,se)[0]=o(this,se)[1]=1/0,o(this,se)[2]=o(this,se)[3]=-1/0),this}recordBBox(e,t,n,r,i,l){const c=o(this,se);if(c[0]===1/0)return this;const h=pt.multiplyByDOMMatrix(o(this,Wi).at(-1),t.getTransform());if(c[0]===-1/0)return pt.axialAlignedBoundingBox([n,i,r,l],h,o(this,le)),this;const f=[1/0,1/0,-1/0,-1/0];return pt.axialAlignedBoundingBox([n,i,r,l],h,f),o(this,le)[0]=Math.min(o(this,le)[0],Math.max(f[0],c[0])),o(this,le)[1]=Math.min(o(this,le)[1],Math.max(f[1],c[1])),o(this,le)[2]=Math.max(o(this,le)[2],Math.min(f[2],c[2])),o(this,le)[3]=Math.max(o(this,le)[3],Math.min(f[3],c[3])),this}recordCharacterBBox(e,t,n,r=1,i=0,l=0,c){const h=n.bbox;let f,p;if(h&&(f=h[2]!==h[0]&&h[3]!==h[1]&&o(this,Yu).get(n),f!==!1&&(p=[0,0,0,0],pt.axialAlignedBoundingBox(h,n.fontMatrix,p),(r!==1||i!==0||l!==0)&&pt.scaleMinMax([r,0,0,-r,i,l],p),f)))return this.recordBBox(e,t,p[0],p[2],p[1],p[3]);if(!c)return this.recordFullPageBBox(e);const g=c();return h&&p&&f===void 0&&(f=p[0]<=i-g.actualBoundingBoxLeft&&p[2]>=i+g.actualBoundingBoxRight&&p[1]<=l-g.actualBoundingBoxAscent&&p[3]>=l+g.actualBoundingBoxDescent,o(this,Yu).set(n,f),f)?this.recordBBox(e,t,p[0],p[2],p[1],p[3]):this.recordBBox(e,t,i-g.actualBoundingBoxLeft,i+g.actualBoundingBoxRight,l-g.actualBoundingBoxAscent,l+g.actualBoundingBoxDescent)}recordFullPageBBox(e){return o(this,le)[0]=Math.max(0,o(this,se)[0]),o(this,le)[1]=Math.max(0,o(this,se)[1]),o(this,le)[2]=Math.min(o(this,Ll),o(this,se)[2]),o(this,le)[3]=Math.min(o(this,Ol),o(this,se)[3]),this}getSimpleIndex(e){return o(this,sr)[e]}recordDependencies(e,t){const n=o(this,ar),r=o(this,sr),i=o(this,ir);for(const l of t)l in o(this,sr)?n.add(r[l]):l in i&&i[l].forEach(n.add,n);return this}recordNamedDependency(e,t){return o(this,Ml).has(t)&&o(this,ar).add(o(this,Ml).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Zc]),o(this,ei)){const n=Cg(o(this,ei),e),{dependencies:r}=n;o(this,ar).forEach(r.add,r),o(this,Es).forEach(r.add,r),o(this,Dl).forEach(r.add,r),r.delete(e),n.isRenderingOperation=!0}if(o(this,Gi)===e){const n=OS(o(this,le)[0]*256/o(this,Ll)),r=OS(o(this,le)[1]*256/o(this,Ol)),i=FS(o(this,le)[2]*256/o(this,Ll)),l=FS(o(this,le)[3]*256/o(this,Ol));Eg(o(this,Xi),e,n,r,i,l);for(const c of o(this,ar))c!==e&&Eg(o(this,Xi),c,n,r,i,l);for(const c of o(this,Es))c!==e&&Eg(o(this,Xi),c,n,r,i,l);for(const c of o(this,Dl))c!==e&&Eg(o(this,Xi),c,n,r,i,l);t||(o(this,ar).clear(),w(this,Gi,-1))}return this}recordShowTextOperation(e,t=!1){const n=Array.from(o(this,ar));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of n)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return o(this,Gi)===e&&(w(this,Gi,-1),o(this,se)[0]=Math.max(o(this,se)[0],o(this,le)[0]),o(this,se)[1]=Math.max(o(this,se)[1],o(this,le)[1]),o(this,se)[2]=Math.min(o(this,se)[2],o(this,le)[2]),o(this,se)[3]=Math.min(o(this,se)[3],o(this,le)[3]),t||o(this,ar).clear()),this}_takePendingDependencies(){const e=o(this,ar);return w(this,ar,new Set),e}_extractOperation(e){const t=o(this,Qf).get(e);return o(this,Qf).delete(e),t}_pushPendingDependencies(e){for(const t of e)o(this,ar).add(t)}take(){return o(this,Yu).clear(),new mR(o(this,Fn),o(this,Xi))}takeDebugMetadata(){return o(this,ei)}}sr=new WeakMap,ir=new WeakMap,Ml=new WeakMap,Es=new WeakMap,Dl=new WeakMap,Wi=new WeakMap,se=new WeakMap,le=new WeakMap,Gi=new WeakMap,ar=new WeakMap,Qf=new WeakMap,Yu=new WeakMap,Ll=new WeakMap,Ol=new WeakMap,Xi=new WeakMap,Fn=new WeakMap,ei=new WeakMap,Jf=new WeakSet,Hx=function(e,t){const n=new ArrayBuffer(e*4);w(this,Xi,new Uint8ClampedArray(n)),w(this,Fn,new Uint32Array(n)),t&&t.length>0?(o(this,Fn).set(t),o(this,Fn).fill(zx,t.length)):o(this,Fn).fill(zx)};var he,Ie,Cs,Ku,Qu;const o1=class o1{constructor(e,t,n){P(this,he);P(this,Ie);P(this,Cs);P(this,Ku,0);P(this,Qu,0);if(e instanceof o1&&o(e,Cs)===!!n)return e;w(this,he,e),w(this,Ie,t),w(this,Cs,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Qe(this,Qu)._++,o(this,he).save(o(this,Ie)),this}restore(e){return o(this,Qu)>0&&(o(this,he).restore(o(this,Ie)),Qe(this,Qu)._--),this}recordOpenMarker(e){return Qe(this,Ku)._++,this}getOpenMarker(){return o(this,Ku)>0?o(this,Ie):o(this,he).getOpenMarker()}recordCloseMarker(e){return Qe(this,Ku)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return o(this,he).pushBaseTransform(e),this}popBaseTransform(){return o(this,he).popBaseTransform(),this}recordSimpleData(e,t){return o(this,he).recordSimpleData(e,o(this,Ie)),this}recordIncrementalData(e,t){return o(this,he).recordIncrementalData(e,o(this,Ie)),this}resetIncrementalData(e,t){return o(this,he).resetIncrementalData(e,o(this,Ie)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return o(this,he).recordSimpleDataFromNamed(e,t,o(this,Ie)),this}recordFutureForcedDependency(e,t){return o(this,he).recordFutureForcedDependency(e,o(this,Ie)),this}inheritSimpleDataAsFutureForcedDependencies(e){return o(this,he).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return o(this,he).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return o(this,Cs)||o(this,he).resetBBox(o(this,Ie)),this}recordClipBox(e,t,n,r,i,l){return o(this,Cs)||o(this,he).recordClipBox(o(this,Ie),t,n,r,i,l),this}recordBBox(e,t,n,r,i,l){return o(this,Cs)||o(this,he).recordBBox(o(this,Ie),t,n,r,i,l),this}recordCharacterBBox(e,t,n,r,i,l,c){return o(this,Cs)||o(this,he).recordCharacterBBox(o(this,Ie),t,n,r,i,l,c),this}recordFullPageBBox(e){return o(this,Cs)||o(this,he).recordFullPageBBox(o(this,Ie)),this}getSimpleIndex(e){return o(this,he).getSimpleIndex(e)}recordDependencies(e,t){return o(this,he).recordDependencies(o(this,Ie),t),this}recordNamedDependency(e,t){return o(this,he).recordNamedDependency(o(this,Ie),t),this}recordOperation(e){return o(this,he).recordOperation(o(this,Ie),!0),this}recordShowTextOperation(e){return o(this,he).recordShowTextOperation(o(this,Ie),!0),this}bboxToClipBoxDropOperation(e){return o(this,Cs)||o(this,he).bboxToClipBoxDropOperation(o(this,Ie),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};he=new WeakMap,Ie=new WeakMap,Cs=new WeakMap,Ku=new WeakMap,Qu=new WeakMap;let yv=o1;const Yr={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Sn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function $x(u,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),u.clip(r)}class t1{isModifyingCurrentTransform(){return!1}getPattern(){Jt("Abstract method `getPattern` called.")}}class vR extends t1{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,t=null){let n,r=this._p0,i=this._p1;if(t&&(r=r.slice(),i=i.slice(),pt.applyTransform(r,t),pt.applyTransform(i,t)),this._type==="axial")n=e.createLinearGradient(r[0],r[1],i[0],i[1]);else if(this._type==="radial"){let l=this._r0,c=this._r1;if(t){const h=new Float32Array(2);pt.singularValueDecompose2dScale(t,h),l*=h[0],c*=h[0]}n=e.createRadialGradient(r[0],r[1],l,i[0],i[1],c)}for(const l of this._colorStops)n.addColorStop(l[0],l[1]);return n}getPattern(e,t,n,r){let i;if(r===Sn.STROKE||r===Sn.FILL){if(this.isOriginBased()){let v=pt.transform(n,t.baseTransform);this.matrix&&(v=pt.transform(v,this.matrix));const x=.001,A=Math.hypot(v[0],v[1]),b=Math.hypot(v[2],v[3]),E=(v[0]*v[2]+v[1]*v[3])/(A*b);if(Math.abs(E)<x)if(this.isRadial()){if(Math.abs(A-b)<x)return this._createGradient(e,v)}else return this._createGradient(e,v)}const l=t.current.getClippedPathBoundingBox(r,ke(e))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,f=t.cachedCanvases.getCanvas("pattern",c,h),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=pt.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),$x(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),i=e.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(n);i.setTransform(g)}else $x(e,this._bbox),i=this._createGradient(e);return i}}function ix(u,e,t,n,r,i,l,c){const h=e.coords,f=e.colors,p=u.data,g=u.width*4;let v;h[t+1]>h[n+1]&&(v=t,t=n,n=v,v=i,i=l,l=v),h[n+1]>h[r+1]&&(v=n,n=r,r=v,v=l,l=c,c=v),h[t+1]>h[n+1]&&(v=t,t=n,n=v,v=i,i=l,l=v);const x=(h[t]+e.offsetX)*e.scaleX,A=(h[t+1]+e.offsetY)*e.scaleY,b=(h[n]+e.offsetX)*e.scaleX,E=(h[n+1]+e.offsetY)*e.scaleY,T=(h[r]+e.offsetX)*e.scaleX,R=(h[r+1]+e.offsetY)*e.scaleY;if(A>=R)return;const N=f[i],D=f[i+1],M=f[i+2],L=f[l],F=f[l+1],U=f[l+2],z=f[c],G=f[c+1],X=f[c+2],ot=Math.round(A),q=Math.round(R);let st,ht,tt,J,Y,ct,it,B;for(let W=ot;W<=q;W++){if(W<E){const Q=W<A?0:(A-W)/(A-E);st=x-(x-b)*Q,ht=N-(N-L)*Q,tt=D-(D-F)*Q,J=M-(M-U)*Q}else{let Q;W>R?Q=1:E===R?Q=0:Q=(E-W)/(E-R),st=b-(b-T)*Q,ht=L-(L-z)*Q,tt=F-(F-G)*Q,J=U-(U-X)*Q}let dt;W<A?dt=0:W>R?dt=1:dt=(A-W)/(A-R),Y=x-(x-T)*dt,ct=N-(N-z)*dt,it=D-(D-G)*dt,B=M-(M-X)*dt;const yt=Math.round(Math.min(st,Y)),bt=Math.round(Math.max(st,Y));let Z=g*W+yt*4;for(let Q=yt;Q<=bt;Q++)dt=(st-Q)/(st-Y),dt<0?dt=0:dt>1&&(dt=1),p[Z++]=ht-(ht-ct)*dt|0,p[Z++]=tt-(tt-it)*dt|0,p[Z++]=J-(J-B)*dt|0,p[Z++]=255}}function yR(u,e,t){const n=e.coords,r=e.colors;let i,l;switch(e.type){case px.LATTICE:const c=e.verticesPerRow,h=Math.floor(n.length/c)-1,f=c-1;for(i=0;i<h;i++){let p=i*c;for(let g=0;g<f;g++,p++)ix(u,t,n[p],n[p+1],n[p+c],r[p],r[p+1],r[p+c]),ix(u,t,n[p+c+1],n[p+1],n[p+c],r[p+c+1],r[p+1],r[p+c])}break;case px.TRIANGLES:for(i=0,l=n.length;i<l;i+=3)ix(u,t,n[i],n[i+1],n[i+2],r[i],r[i+1],r[i+2]);break;default:throw new Error("illegal figure")}}class xR extends t1{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-h,g=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),x=f/g,A=p/v,b={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/x,scaleY:1/A},E=g+4,T=v+4,R=n.getCanvas("mesh",E,T),N=R.context,D=N.createImageData(g,v);if(t){const L=D.data;for(let F=0,U=L.length;F<U;F+=4)L[F]=t[0],L[F+1]=t[1],L[F+2]=t[2],L[F+3]=255}for(const L of this._figures)yR(D,L,b);return N.putImageData(D,2,2),{canvas:R.canvas,offsetX:c-2*x,offsetY:h-2*A,scaleX:x,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,r){$x(e,this._bbox);const i=new Float32Array(2);if(r===Sn.SHADING)pt.singularValueDecompose2dScale(ke(e),i);else if(this.matrix){pt.singularValueDecompose2dScale(this.matrix,i);const[c,h]=i;pt.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=c,i[1]*=h}else pt.singularValueDecompose2dScale(t.baseTransform,i);const l=this._createMeshCanvas(i,r===Sn.SHADING?null:this._background,t.cachedCanvases);return r!==Sn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class wR extends t1{getPattern(){return"hotpink"}}function bR(u){switch(u[0]){case"RadialAxial":return new vR(u);case"Mesh":return new xR(u);case"Dummy":return new wR}throw new Error(`Unknown IR type: ${u[0]}`)}const jS={COLORED:1,UNCOLORED:2},Dv=class Dv{constructor(e,t,n,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(e,t){var ct,it;const{bbox:n,operatorList:r,paintType:i,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Yv("TilingType: "+l);const g=n[0],v=n[1],x=n[2],A=n[3],b=x-g,E=A-v,T=new Float32Array(2);pt.singularValueDecompose2dScale(this.matrix,T);const[R,N]=T;pt.singularValueDecompose2dScale(this.baseTransform,T);const D=R*T[0],M=N*T[1];let L=b,F=E,U=!1,z=!1;const G=Math.ceil(f*D),X=Math.ceil(p*M),ot=Math.ceil(b*D),q=Math.ceil(E*M);G>=ot?L=f:U=!0,X>=q?F=p:z=!0;const st=this.getSizeAndScale(L,this.ctx.canvas.width,D),ht=this.getSizeAndScale(F,this.ctx.canvas.height,M),tt=e.cachedCanvases.getCanvas("pattern",st.size,ht.size),J=tt.context,Y=h.createCanvasGraphics(J,t);if(Y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Y,i,c),J.translate(-st.scale*g,-ht.scale*v),Y.transform(0,st.scale,0,0,ht.scale,0,0),J.save(),(ct=Y.dependencyTracker)==null||ct.save(),this.clipBbox(Y,g,v,x,A),Y.baseTransform=ke(Y.ctx),Y.executeOperatorList(r),Y.endDrawing(),(it=Y.dependencyTracker)==null||it.restore(),J.restore(),U||z){const B=tt.canvas;U&&(L=f),z&&(F=p);const W=this.getSizeAndScale(L,this.ctx.canvas.width,D),dt=this.getSizeAndScale(F,this.ctx.canvas.height,M),yt=W.size,bt=dt.size,Z=e.cachedCanvases.getCanvas("pattern-workaround",yt,bt),Q=Z.context,nt=U?Math.floor(b/f):0,gt=z?Math.floor(E/p):0;for(let Mt=0;Mt<=nt;Mt++)for(let Ct=0;Ct<=gt;Ct++)Q.drawImage(B,yt*Mt,bt*Ct,yt,bt,0,0,yt,bt);return{canvas:Z.canvas,scaleX:W.scale,scaleY:dt.scale,offsetX:g,offsetY:v}}return{canvas:tt.canvas,scaleX:st.scale,scaleY:ht.scale,offsetX:g,offsetY:v}}getSizeAndScale(e,t,n){const r=Math.max(Dv.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,i){const l=r-t,c=i-n;e.ctx.rect(t,n,l,c),pt.axialAlignedBoundingBox([t,n,r,i],ke(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,i=e.current;switch(t){case jS.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;r.fillStyle=i.fillColor=l,r.strokeStyle=i.strokeColor=c;break;case jS.UNCOLORED:r.fillStyle=r.strokeStyle=n,i.fillColor=i.strokeColor=n;break;default:throw new DN(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,r,i){let l=n;r!==Sn.SHADING&&(l=pt.transform(l,t.baseTransform),this.matrix&&(l=pt.transform(l,this.matrix)));const c=this.createPatternCanvas(t,i);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=e.createPattern(c.canvas,"repeat");return f.setTransform(h),f}};K(Dv,"MAX_PATTERN_SIZE",3e3);let Vx=Dv;function AR({src:u,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:i=4294967295,inverseDecode:l=!1}){const c=en.isLittleEndian?4278190080:255,[h,f]=l?[i,c]:[c,i],p=n>>3,g=n&7,v=u.length;t=new Uint32Array(t.buffer);let x=0;for(let A=0;A<r;A++){for(const E=e+p;e<E;e++){const T=e<v?u[e]:255;t[x++]=T&128?f:h,t[x++]=T&64?f:h,t[x++]=T&32?f:h,t[x++]=T&16?f:h,t[x++]=T&8?f:h,t[x++]=T&4?f:h,t[x++]=T&2?f:h,t[x++]=T&1?f:h}if(g===0)continue;const b=e<v?u[e++]:255;for(let E=0;E<g;E++)t[x++]=b&1<<7-E?f:h}return{srcPos:e,destPos:x}}const BS=16,_S=100,SR=15,US=10,hr=16,ax=new DOMMatrix,jr=new Float32Array(2),lu=new Float32Array([1/0,1/0,-1/0,-1/0]);function ER(u,e){if(u._removeMirroring)throw new Error("Context is already forwarding operations.");u.__originalSave=u.save,u.__originalRestore=u.restore,u.__originalRotate=u.rotate,u.__originalScale=u.scale,u.__originalTranslate=u.translate,u.__originalTransform=u.transform,u.__originalSetTransform=u.setTransform,u.__originalResetTransform=u.resetTransform,u.__originalClip=u.clip,u.__originalMoveTo=u.moveTo,u.__originalLineTo=u.lineTo,u.__originalBezierCurveTo=u.bezierCurveTo,u.__originalRect=u.rect,u.__originalClosePath=u.closePath,u.__originalBeginPath=u.beginPath,u._removeMirroring=()=>{u.save=u.__originalSave,u.restore=u.__originalRestore,u.rotate=u.__originalRotate,u.scale=u.__originalScale,u.translate=u.__originalTranslate,u.transform=u.__originalTransform,u.setTransform=u.__originalSetTransform,u.resetTransform=u.__originalResetTransform,u.clip=u.__originalClip,u.moveTo=u.__originalMoveTo,u.lineTo=u.__originalLineTo,u.bezierCurveTo=u.__originalBezierCurveTo,u.rect=u.__originalRect,u.closePath=u.__originalClosePath,u.beginPath=u.__originalBeginPath,delete u._removeMirroring},u.save=function(){e.save(),this.__originalSave()},u.restore=function(){e.restore(),this.__originalRestore()},u.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},u.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},u.transform=function(t,n,r,i,l,c){e.transform(t,n,r,i,l,c),this.__originalTransform(t,n,r,i,l,c)},u.setTransform=function(t,n,r,i,l,c){e.setTransform(t,n,r,i,l,c),this.__originalSetTransform(t,n,r,i,l,c)},u.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},u.rotate=function(t){e.rotate(t),this.__originalRotate(t)},u.clip=function(t){e.clip(t),this.__originalClip(t)},u.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},u.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},u.bezierCurveTo=function(t,n,r,i,l,c){e.bezierCurveTo(t,n,r,i,l,c),this.__originalBezierCurveTo(t,n,r,i,l,c)},u.rect=function(t,n,r,i){e.rect(t,n,r,i),this.__originalRect(t,n,r,i)},u.closePath=function(){e.closePath(),this.__originalClosePath()},u.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class CR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Tg(u,e,t,n,r,i,l,c,h,f){const[p,g,v,x,A,b]=ke(u);if(g===0&&v===0){const R=l*p+A,N=Math.round(R),D=c*x+b,M=Math.round(D),L=(l+h)*p+A,F=Math.abs(Math.round(L)-N)||1,U=(c+f)*x+b,z=Math.abs(Math.round(U)-M)||1;return u.setTransform(Math.sign(p),0,0,Math.sign(x),N,M),u.drawImage(e,t,n,r,i,0,0,F,z),u.setTransform(p,g,v,x,A,b),[F,z]}if(p===0&&x===0){const R=c*v+A,N=Math.round(R),D=l*g+b,M=Math.round(D),L=(c+f)*v+A,F=Math.abs(Math.round(L)-N)||1,U=(l+h)*g+b,z=Math.abs(Math.round(U)-M)||1;return u.setTransform(0,Math.sign(g),Math.sign(v),0,N,M),u.drawImage(e,t,n,r,i,0,0,z,F),u.setTransform(p,g,v,x,A,b),[z,F]}u.drawImage(e,t,n,r,i,l,c,h,f);const E=Math.hypot(p,g),T=Math.hypot(v,x);return[E*h,T*f]}class zS{constructor(e,t,n){K(this,"alphaIsShape",!1);K(this,"fontSize",0);K(this,"fontSizeScale",1);K(this,"textMatrix",null);K(this,"textMatrixScale",1);K(this,"fontMatrix",fx);K(this,"leading",0);K(this,"x",0);K(this,"y",0);K(this,"lineX",0);K(this,"lineY",0);K(this,"charSpacing",0);K(this,"wordSpacing",0);K(this,"textHScale",1);K(this,"textRenderingMode",Je.FILL);K(this,"textRise",0);K(this,"fillColor","#000000");K(this,"strokeColor","#000000");K(this,"patternFill",!1);K(this,"patternStroke",!1);K(this,"fillAlpha",1);K(this,"strokeAlpha",1);K(this,"lineWidth",1);K(this,"activeSMask",null);K(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=lu.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Sn.FILL,t=null){const n=this.minMax.slice();if(e===Sn.STROKE){t||Jt("Stroke bounding box must include transform."),pt.singularValueDecompose2dScale(t,jr);const r=jr[0]*this.lineWidth/2,i=jr[1]*this.lineWidth/2;n[0]-=r,n[1]-=i,n[2]+=r,n[3]+=i}return n}updateClipFromPath(){const e=pt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(lu,0)}getClippedPathBoundingBox(e=Sn.FILL,t=null){return pt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function HS(u,e){if(e instanceof ImageData){u.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%hr,i=(t-r)/hr,l=r===0?i:i+1,c=u.createImageData(n,hr);let h=0,f;const p=e.data,g=c.data;let v,x,A,b;if(e.kind===Rg.GRAYSCALE_1BPP){const E=p.byteLength,T=new Uint32Array(g.buffer,0,g.byteLength>>2),R=T.length,N=n+7>>3,D=4294967295,M=en.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(A=v<i?hr:r,f=0,x=0;x<A;x++){const L=E-h;let F=0;const U=L>N?n:L*8-7,z=U&-8;let G=0,X=0;for(;F<z;F+=8)X=p[h++],T[f++]=X&128?D:M,T[f++]=X&64?D:M,T[f++]=X&32?D:M,T[f++]=X&16?D:M,T[f++]=X&8?D:M,T[f++]=X&4?D:M,T[f++]=X&2?D:M,T[f++]=X&1?D:M;for(;F<U;F++)G===0&&(X=p[h++],G=128),T[f++]=X&G?D:M,G>>=1}for(;f<R;)T[f++]=0;u.putImageData(c,0,v*hr)}}else if(e.kind===Rg.RGBA_32BPP){for(x=0,b=n*hr*4,v=0;v<i;v++)g.set(p.subarray(h,h+b)),h+=b,u.putImageData(c,0,x),x+=hr;v<l&&(b=n*r*4,g.set(p.subarray(h,h+b)),u.putImageData(c,0,x))}else if(e.kind===Rg.RGB_24BPP)for(A=hr,b=n*A,v=0;v<l;v++){for(v>=i&&(A=r,b=n*A),f=0,x=b;x--;)g[f++]=p[h++],g[f++]=p[h++],g[f++]=p[h++],g[f++]=255;u.putImageData(c,0,v*hr)}else throw new Error(`bad image kind: ${e.kind}`)}function $S(u,e){if(e.bitmap){u.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%hr,i=(t-r)/hr,l=r===0?i:i+1,c=u.createImageData(n,hr);let h=0;const f=e.data,p=c.data;for(let g=0;g<l;g++){const v=g<i?hr:r;({srcPos:h}=AR({src:f,srcPos:h,dest:p,width:n,height:v,nonBlackColor:0})),u.putImageData(c,0,g*hr)}}function Id(u,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)u[n]!==void 0&&(e[n]=u[n]);u.setLineDash!==void 0&&(e.setLineDash(u.getLineDash()),e.lineDashOffset=u.lineDashOffset)}function Pg(u){u.strokeStyle=u.fillStyle="#000000",u.fillRule="nonzero",u.globalAlpha=1,u.lineWidth=1,u.lineCap="butt",u.lineJoin="miter",u.miterLimit=10,u.globalCompositeOperation="source-over",u.font="10px sans-serif",u.setLineDash!==void 0&&(u.setLineDash([]),u.lineDashOffset=0);const{filter:e}=u;e!=="none"&&e!==""&&(u.filter="none")}function VS(u,e){if(e)return!0;pt.singularValueDecompose2dScale(u,jr);const t=Math.fround(fi.pixelRatio*_o.PDF_TO_CSS_UNITS);return jr[0]<=t&&jr[1]<=t}const TR=["butt","round","square"],PR=["miter","round","bevel"],kR={},WS={};var Ls,Wx,Gx,Xx;const l1=class l1{constructor(e,t,n,r,i,{optionalContentConfig:l,markedContentStack:c=null},h,f,p){P(this,Ls);this.ctx=e,this.current=new zS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new CR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(e,t,n=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const i=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,i,l),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",i,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...ke(this.compositeCtx))}this.ctx.save(),Pg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=ke(this.ctx)}executeOperatorList(e,t,n,r,i){var T;const l=e.argsArray,c=e.fnArray;let h=t||0;const f=l.length;if(f===h)return h;const p=f-h>US&&typeof n=="function",g=p?Date.now()+SR:0;let v=0;const x=this.commonObjs,A=this.objs;let b,E;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,n),h;if(!i||i(h))if(b=c[h],E=l[h]??null,b!==af.dependency)E===null?this[b](h):this[b](h,...E);else for(const R of E){(T=this.dependencyTracker)==null||T.recordNamedData(R,h);const N=R.startsWith("g_")?x:A;if(!N.has(R))return N.get(R,n),h}if(h++,h===f)return h;if(p&&++v>US){if(Date.now()>g)return n(),h;v=0}}}endDrawing(){k(this,Ls,Wx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),k(this,Ls,Gx).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),c=n,h=r,f="prescale1",p,g;for(;i>2&&c>1||l>2&&h>1;){let v=c,x=h;i>2&&c>1&&(v=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),i/=c/v),l>2&&h>1&&(x=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/x),p=this.cachedCanvases.getCanvas(f,v,x),g=p.context,g.clearRect(0,0,v,x),g.drawImage(e,0,0,c,h,0,0,v,x),e=p.canvas,c=v,h=x,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:h}}_createMaskCanvas(e,t){var G,X;const n=this.ctx,{width:r,height:i}=t,l=this.current.fillColor,c=this.current.patternFill,h=ke(n);let f,p,g,v;if((t.bitmap||t.data)&&t.count>1){const ot=t.bitmap||t.data.buffer;p=JSON.stringify(c?h:[h.slice(0,4),l]),f=this._cachedBitmapsMap.get(ot),f||(f=new Map,this._cachedBitmapsMap.set(ot,f));const q=f.get(p);if(q&&!c){const st=Math.round(Math.min(h[0],h[2])+h[4]),ht=Math.round(Math.min(h[1],h[3])+h[5]);return(G=this.dependencyTracker)==null||G.recordDependencies(e,Yr.transformAndFill),{canvas:q,offsetX:st,offsetY:ht}}g=q}g||(v=this.cachedCanvases.getCanvas("maskCanvas",r,i),$S(v.context,t));let x=pt.transform(h,[1/r,0,0,-1/i,0,0]);x=pt.transform(x,[1,0,0,1,0,-i]);const A=lu.slice();pt.axialAlignedBoundingBox([0,0,r,i],x,A);const[b,E,T,R]=A,N=Math.round(T-b)||1,D=Math.round(R-E)||1,M=this.cachedCanvases.getCanvas("fillCanvas",N,D),L=M.context,F=b,U=E;L.translate(-F,-U),L.transform(...x),g||(g=this._scaleImage(v.canvas,zs(L)),g=g.img,f&&c&&f.set(p,g)),L.imageSmoothingEnabled=VS(ke(L),t.interpolate),Tg(L,g,0,0,g.width,g.height,0,0,r,i),L.globalCompositeOperation="source-in";const z=pt.transform(zs(L),[1,0,0,1,-F,-U]);return L.fillStyle=c?l.getPattern(n,this,z,Sn.FILL,e):l,L.fillRect(0,0,r,i),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,M.canvas)),(X=this.dependencyTracker)==null||X.recordDependencies(e,Yr.transformAndFill),{canvas:M.canvas,offsetX:Math.round(F),offsetY:Math.round(U)}}setLineWidth(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",e),this.ctx.lineCap=TR[t]}setLineJoin(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=PR[t]}setMiterLimit(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var n,r,i,l,c;for(const[h,f]of t)switch(h){case"LW":this.setLineWidth(e,f);break;case"LC":this.setLineCap(e,f);break;case"LJ":this.setLineJoin(e,f);break;case"ML":this.setMiterLimit(e,f);break;case"D":this.setDash(e,f[0],f[1]);break;case"RI":this.setRenderingIntent(e,f);break;case"FL":this.setFlatness(e,f);break;case"Font":this.setFont(e,f[0],f[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=f;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=f;break;case"BM":(i=this.dependencyTracker)==null||i.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=f;break;case"SMask":(l=this.dependencyTracker)==null||l.recordSimpleData("SMask",e),this.current.activeSMask=f?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(c=this.dependencyTracker)==null||c.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(f);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,t,n);this.suspendedCtx=this.ctx;const l=this.ctx=i.context;l.setTransform(this.suspendedCtx.getTransform()),Id(this.suspendedCtx,l),ER(l,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Id(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const i=r[0],l=r[1],c=r[2]-i,h=r[3]-l;c===0||h===0||(this.genericComposeSMask(t.context,n,c,h,t.subtype,t.backdrop,t.transferMap,i,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,i,l,c,h,f,p,g){let v=e.canvas,x=h-p,A=f-g;if(l)if(x<0||A<0||x+n>v.width||A+r>v.height){const E=this.cachedCanvases.getCanvas("maskExtension",n,r),T=E.context;T.drawImage(v,-x,-A),T.globalCompositeOperation="destination-atop",T.fillStyle=l,T.fillRect(0,0,n,r),T.globalCompositeOperation="source-over",v=E.canvas,x=A=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(x,A,n,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(x,A,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const b=new Path2D;b.rect(h,f,n,r),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(v,x,A,n,r,h,f,n,r),t.restore()}save(e){var n;this.inSMaskMode&&Id(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(n=this.dependencyTracker)==null||n.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Id(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,r,i,l,c){var h;(h=this.dependencyTracker)==null||h.recordIncrementalData("transform",e),this.ctx.transform(t,n,r,i,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,r){let[i]=n;if(!r){i||(i=n[0]=new Path2D),this[t](e,i);return}if(this.dependencyTracker!==null){const l=t===af.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(e,["transform"])}i instanceof Path2D||(i=n[0]=wE(i)),pt.axialAlignedBoundingBox(r,ke(this.ctx),this.current.minMax),this[t](e,i),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){var l;const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const c=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,zs(r),Sn.STROKE,e),c){const h=new Path2D;h.addPath(t,r.getTransform().invertSelf().multiplySelf(c)),t=h}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(l=this.dependencyTracker)==null||l.recordDependencies(e,Yr.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Sn.STROKE,ke(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){var f,p,g;const r=this.ctx,i=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const v=i.isModifyingCurrentTransform()?r.getTransform():null;if((f=this.dependencyTracker)==null||f.save(e),r.save(),r.fillStyle=i.getPattern(r,this,zs(r),Sn.FILL,e),v){const x=new Path2D;x.addPath(t,r.getTransform().invertSelf().multiplySelf(v)),t=x}c=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(p=this.dependencyTracker)==null||p.recordDependencies(e,Yr.fill),c&&(r.restore(),(g=this.dependencyTracker)==null||g.restore(e)),n&&this.consumePath(e,t,h)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var n;this.ctx.fill(t),(n=this.dependencyTracker)==null||n.recordDependencies(e,Yr.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=kR}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=WS}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,i=n.getTransform().invertSelf();for(const{transform:l,x:c,y:h,fontSize:f,path:p}of t)p&&r.addPath(p,new DOMMatrix(l).preMultiplySelf(i).translate(c,h).scale(f,-f));n.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){var g,v;(g=this.dependencyTracker)==null||g.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),i=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=r.fontMatrix||fx,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Rt("Invalid font matrix for font "+t),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const l=r.loadedName||"sans-serif",c=((v=r.systemFontInfo)==null?void 0:v.css)||`"${l}", ${r.fallbackName}`;let h="normal";r.black?h="900":r.bold&&(h="bold");const f=r.italic?"italic":"normal";let p=n;n<BS?p=BS:n>_S&&(p=_S),this.current.fontSizeScale=n/p,this.ctx.font=`${f} ${h} ${p}px ${c}`}setTextRenderingMode(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,n,r,i,l){var T,R,N,D;const c=this.ctx,h=this.current,f=h.font,p=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,v=p&Je.FILL_STROKE_MASK,x=!!(p&Je.ADD_TO_PATH_FLAG),A=h.patternFill&&!f.missingFile,b=h.patternStroke&&!f.missingFile;let E;if((f.disableFontFace||x||A||b)&&!f.missingFile&&(E=f.getPathGenerator(this.commonObjs,t)),E&&(f.disableFontFace||A||b)){c.save(),c.translate(n,r),c.scale(g,-g),(T=this.dependencyTracker)==null||T.recordCharacterBBox(e,c,f);let M;if(v===Je.FILL||v===Je.FILL_STROKE)if(i){M=c.getTransform(),c.setTransform(...i);const L=k(this,Ls,Xx).call(this,E,M,i);c.fill(L)}else c.fill(E);if(v===Je.STROKE||v===Je.FILL_STROKE)if(l){M||(M=c.getTransform()),c.setTransform(...l);const{a:L,b:F,c:U,d:z}=M,G=pt.inverseTransform(l),X=pt.transform([L,F,U,z,0,0],G);pt.singularValueDecompose2dScale(X,jr),c.lineWidth*=Math.max(jr[0],jr[1])/g,c.stroke(k(this,Ls,Xx).call(this,E,M,l))}else c.lineWidth/=g,c.stroke(E);c.restore()}else(v===Je.FILL||v===Je.FILL_STROKE)&&(c.fillText(t,n,r),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,c,f,g,n,r,()=>c.measureText(t))),(v===Je.STROKE||v===Je.FILL_STROKE)&&(this.dependencyTracker&&((N=this.dependencyTracker)==null||N.recordCharacterBBox(e,c,f,g,n,r,()=>c.measureText(t)).recordDependencies(e,Yr.stroke)),c.strokeText(t,n,r));x&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ke(c),x:n,y:r,fontSize:g,path:E}),(D=this.dependencyTracker)==null||D.recordCharacterBBox(e,c,f,g,n,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return Dt(this,"isFontSubpixelAAEnabled",n)}showText(e,t){var X,ot,q,st;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Yr.showText).resetBBox(e),this.current.textRenderingMode&Je.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,r=n.font;if(r.isType3Font){this.showType3Text(e,t),(X=this.dependencyTracker)==null||X.recordShowTextOperation(e);return}const i=n.fontSize;if(i===0){(ot=this.dependencyTracker)==null||ot.recordOperation(e);return}const l=this.ctx,c=n.fontSizeScale,h=n.charSpacing,f=n.wordSpacing,p=n.fontDirection,g=n.textHScale*p,v=t.length,x=r.vertical,A=x?1:-1,b=r.defaultVMetrics,E=i*n.fontMatrix[0],T=n.textRenderingMode===Je.FILL&&!r.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(g,-1):l.scale(g,1);let R,N;const D=n.textRenderingMode&Je.FILL_STROKE_MASK,M=D===Je.FILL||D===Je.FILL_STROKE,L=D===Je.STROKE||D===Je.FILL_STROKE;if(M&&n.patternFill){l.save();const ht=n.fillColor.getPattern(l,this,zs(l),Sn.FILL,e);R=ke(l),l.restore(),l.fillStyle=ht}if(L&&n.patternStroke){l.save();const ht=n.strokeColor.getPattern(l,this,zs(l),Sn.STROKE,e);N=ke(l),l.restore(),l.strokeStyle=ht}let F=n.lineWidth;const U=n.textMatrixScale;if(U===0||F===0?L&&(F=this.getSinglePixelWidth()):F/=U,c!==1&&(l.scale(c,c),F/=c),l.lineWidth=F,r.isInvalidPDFjsFont){const ht=[];let tt=0;for(const Y of t)ht.push(Y.unicode),tt+=Y.width;const J=ht.join("");if(l.fillText(J,0,0),this.dependencyTracker!==null){const Y=l.measureText(J);this.dependencyTracker.recordBBox(e,this.ctx,-Y.actualBoundingBoxLeft,Y.actualBoundingBoxRight,-Y.actualBoundingBoxAscent,Y.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=tt*E*g,l.restore(),this.compose();return}let z=0,G;for(G=0;G<v;++G){const ht=t[G];if(typeof ht=="number"){z+=A*ht*i/1e3;continue}let tt=!1;const J=(ht.isSpace?f:0)+h,Y=ht.fontChar,ct=ht.accent;let it,B,W=ht.width;if(x){const bt=ht.vmetric||b,Z=-(ht.vmetric?bt[1]:W*.5)*E,Q=bt[2]*E;W=bt?-bt[0]:W,it=Z/c,B=(z+Q)/c}else it=z/c,B=0;let dt;if(r.remeasure&&W>0){dt=l.measureText(Y);const bt=dt.width*1e3/i*c;if(W<bt&&this.isFontSubpixelAAEnabled){const Z=W/bt;tt=!0,l.save(),l.scale(Z,1),it/=Z}else W!==bt&&(it+=(W-bt)/2e3*i/c)}if(this.contentVisible&&(ht.isInFont||r.missingFile)){if(T&&!ct)l.fillText(Y,it,B),(q=this.dependencyTracker)==null||q.recordCharacterBBox(e,l,dt?{bbox:null}:r,i/c,it,B,()=>dt??l.measureText(Y));else if(this.paintChar(e,Y,it,B,R,N),ct){const bt=it+i*ct.offset.x/c,Z=B-i*ct.offset.y/c;this.paintChar(e,ct.fontChar,bt,Z,R,N)}}const yt=x?W*E-J*p:W*E+J*p;z+=yt,tt&&l.restore()}x?n.y-=z:n.x+=z*g,l.restore(),this.compose(),(st=this.dependencyTracker)==null||st.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,r=this.current,i=r.font,l=r.fontSize,c=r.fontDirection,h=i.vertical?1:-1,f=r.charSpacing,p=r.wordSpacing,g=r.textHScale*c,v=r.fontMatrix||fx,x=t.length,A=r.textRenderingMode===Je.INVISIBLE;let b,E,T,R;if(A||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(g,c);const N=this.dependencyTracker;for(this.dependencyTracker=N?new yv(N,e):null,b=0;b<x;++b){if(E=t[b],typeof E=="number"){R=h*E*l/1e3,this.ctx.translate(R,0),r.x+=R*g;continue}const D=(E.isSpace?p:0)+f,M=i.charProcOperatorList[E.operatorListId];M?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...v),this.executeOperatorList(M),this.restore()):Rt(`Type3 character "${E.operatorListId}" is not available.`);const L=[E.width,0];pt.applyTransform(L,v),T=L[0]*l+D,n.translate(T,0),r.x+=T*g}n.restore(),N&&(this.dependencyTracker=N)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,r,i,l,c){var f;const h=new Path2D;h.rect(r,i,l-r,c-i),this.ctx.clip(h),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,r,l,i,c).recordClipBox(e,this.ctx,r,l,i,c),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const r=this.baseTransform||ke(this.ctx),i={createCanvasGraphics:(l,c)=>new l1(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new yv(this.dependencyTracker,c,!0):null)};n=new Vx(t,this.ctx,i,r)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=bR(this.getObject(e,t)),this.cachedPatterns.set(t,r)),n&&(r.matrix=n),r}shadingFill(e,t){var l;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const r=this._getPattern(e,t);n.fillStyle=r.getPattern(n,this,zs(n),Sn.SHADING,e);const i=zs(n);if(i){const{width:c,height:h}=n.canvas,f=lu.slice();pt.axialAlignedBoundingBox([0,0,c,h],i,f);const[p,g,v,x]=f;this.ctx.fillRect(p,g,v-p,x-g)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(l=this.dependencyTracker)==null||l.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Yr.transform).recordDependencies(e,Yr.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Jt("Should not call beginInlineImage")}beginImageData(){Jt("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=ke(this.ctx),n)){pt.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[i,l,c,h]=n,f=new Path2D;f.rect(i,l,c-i,h-l),this.ctx.clip(f),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,i,c,l,h),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var N;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||Yv("TODO: Support non-isolated groups."),t.knockout&&Rt("Knockout groups not supported.");const r=ke(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=lu.slice();pt.axialAlignedBoundingBox(t.bbox,ke(n),i);const l=[0,0,n.canvas.width,n.canvas.height];i=pt.intersect(i,l)||[0,0,0,0];const c=Math.floor(i[0]),h=Math.floor(i[1]),f=Math.max(Math.ceil(i[2])-c,1),p=Math.max(Math.ceil(i[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(g,f,p),x=v.context;x.translate(-c,-h),x.transform(...r);let A=new Path2D;const[b,E,T,R]=t.bbox;if(A.rect(b,E,T-b,R-E),t.matrix){const D=new Path2D;D.addPath(A,new DOMMatrix(t.matrix)),A=D}x.clip(A),t.smask&&this.smaskStack.push({canvas:v.canvas,context:x,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(c,h),n.save()),Id(n,x),this.ctx=x,(N=this.dependencyTracker)==null||N.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){var i;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(i=this.dependencyTracker)==null||i.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const l=ke(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...l);const c=lu.slice();pt.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],l,c),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(c)}}beginAnnotation(e,t,n,r,i,l){if(k(this,Ls,Wx).call(this),Pg(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const c=n[2]-n[0],h=n[3]-n[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=c,n[3]=h,pt.singularValueDecompose2dScale(ke(this.ctx),jr);const{viewportScale:f}=this,p=Math.ceil(c*this.outputScaleX*f),g=Math.ceil(h*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:v,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(t,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(jr[0],0,0,-jr[1],0,h*jr[1]),Pg(this.ctx)}else{Pg(this.ctx),this.endPath(e);const f=new Path2D;f.rect(n[0],n[1],c,h),this.ctx.clip(f)}}this.current=new zS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...i)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),k(this,Ls,Gx).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var c;if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const r=this.ctx,i=this._createMaskCanvas(e,t),l=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,i.offsetX,i.offsetY),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,this.ctx,i.offsetX,i.offsetX+l.width,i.offsetY,i.offsetY+l.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,r=0,i=0,l,c){var g,v,x;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const h=this.ctx;h.save();const f=ke(h);h.transform(n,r,i,l,0,0);const p=this._createMaskCanvas(e,t);h.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),(g=this.dependencyTracker)==null||g.resetBBox(e);for(let A=0,b=c.length;A<b;A+=2){const E=pt.transform(f,[n,r,i,l,c[A],c[A+1]]);h.drawImage(p.canvas,E[4],E[5]),(v=this.dependencyTracker)==null||v.recordBBox(e,this.ctx,E[4],E[4]+p.canvas.width,E[5],E[5]+p.canvas.height)}h.restore(),this.compose(),(x=this.dependencyTracker)==null||x.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var l,c,h;if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;(l=this.dependencyTracker)==null||l.resetBBox(e).recordDependencies(e,Yr.transformAndFill);for(const f of t){const{data:p,width:g,height:v,transform:x}=f,A=this.cachedCanvases.getCanvas("maskCanvas",g,v),b=A.context;b.save();const E=this.getObject(e,p,f);$S(b,E),b.globalCompositeOperation="source-in",b.fillStyle=i?r.getPattern(b,this,zs(n),Sn.FILL,e):r,b.fillRect(0,0,g,v),b.restore(),n.save(),n.transform(...x),n.scale(1,-1),Tg(n,A.canvas,0,0,g,v,0,-1,1,1),(c=this.dependencyTracker)==null||c.recordBBox(e,n,0,g,0,v),n.restore()}this.compose(),(h=this.dependencyTracker)==null||h.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){Rt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,r,i){if(!this.contentVisible)return;const l=this.getObject(e,t);if(!l){Rt("Dependent image isn't ready yet");return}const c=l.width,h=l.height,f=[];for(let p=0,g=i.length;p<g;p+=2)f.push({transform:[n,0,0,r,i[p],i[p+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(e,l,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,r),l=i.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",i.canvas}paintInlineImageXObject(e,t){var f;if(!this.contentVisible)return;const n=t.width,r=t.height,i=this.ctx;this.save(e);const{filter:l}=i;l!=="none"&&l!==""&&(i.filter="none"),i.scale(1/n,-1/r);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const g=this.cachedCanvases.getCanvas("inlineImage",n,r).context;HS(g,t),c=this.applyTransferMapsToCanvas(g)}const h=this._scaleImage(c,zs(i));i.imageSmoothingEnabled=VS(ke(i),t.interpolate),(f=this.dependencyTracker)==null||f.resetBBox(e).recordBBox(e,i,0,n,-r,0).recordDependencies(e,Yr.imageXObject).recordOperation(e),Tg(i,h.img,0,0,h.paintWidth,h.paintHeight,0,-r,n,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){var l,c,h;if(!this.contentVisible)return;const r=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const f=t.width,p=t.height,v=this.cachedCanvases.getCanvas("inlineImage",f,p).context;HS(v,t),i=this.applyTransferMapsToCanvas(v)}(l=this.dependencyTracker)==null||l.resetBBox(e);for(const f of n)r.save(),r.transform(...f.transform),r.scale(1,-1),Tg(r,i,f.x,f.y,f.w,f.h,0,-1,1,1),(c=this.dependencyTracker)==null||c.recordBBox(e,r,0,1,-1,0),r.restore();(h=this.dependencyTracker)==null||h.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Yr.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){var l,c;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const i=this.ctx;this.pendingClip?(r||(this.pendingClip===WS?i.clip(t,"evenodd"):i.clip(t)),this.pendingClip=null,(l=this.dependencyTracker)==null||l.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(c=this.dependencyTracker)==null||c.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ke(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:i}=this.ctx.getTransform();let l,c;if(n===0&&r===0){const h=Math.abs(t),f=Math.abs(i);if(h===f)if(e===0)l=c=1/h;else{const p=h*e;l=c=p<1?1/p:1}else if(e===0)l=1/h,c=1/f;else{const p=h*e,g=f*e;l=p<1?1/p:1,c=g<1?1/g:1}}else{const h=Math.abs(t*i-n*r),f=Math.hypot(t,n),p=Math.hypot(r,i);if(e===0)l=p/h,c=f/h;else{const g=e*h;l=p>g?p/g:1,c=f>g?f/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:r}}=this,[i,l]=this.getScaleForStroking();if(i===l){n.lineWidth=(r||1)*i,n.stroke(e);return}const c=n.getLineDash();t&&n.save(),n.scale(i,l),ax.a=1/i,ax.d=1/l;const h=new Path2D;if(h.addPath(e,ax),c.length>0){const f=Math.max(i,l);n.setLineDash(c.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=r||1,n.stroke(h),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ls=new WeakSet,Wx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Gx=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Xx=function(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r};let fu=l1;for(const u in af)fu.prototype[u]!==void 0&&(fu.prototype[af[u]]=fu.prototype[u]);var Zf,qf;class di{static get workerPort(){return o(this,Zf)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");w(this,Zf,e)}static get workerSrc(){return o(this,qf)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");w(this,qf,e)}}Zf=new WeakMap,qf=new WeakMap,P(di,Zf,null),P(di,qf,"");var Ju,tp;class NR{constructor({parsedData:e,rawData:t}){P(this,Ju);P(this,tp);w(this,Ju,e),w(this,tp,t)}getRaw(){return o(this,tp)}get(e){return o(this,Ju).get(e)??null}[Symbol.iterator](){return o(this,Ju).entries()}}Ju=new WeakMap,tp=new WeakMap;const su=Symbol("INTERNAL");var ep,np,rp,Zu;class RR{constructor(e,{name:t,intent:n,usage:r,rbGroups:i}){P(this,ep,!1);P(this,np,!1);P(this,rp,!1);P(this,Zu,!0);w(this,ep,!!(e&Fr.DISPLAY)),w(this,np,!!(e&Fr.PRINT)),this.name=t,this.intent=n,this.usage=r,this.rbGroups=i}get visible(){if(o(this,rp))return o(this,Zu);if(!o(this,Zu))return!1;const{print:e,view:t}=this.usage;return o(this,ep)?(t==null?void 0:t.viewState)!=="OFF":o(this,np)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==su&&Jt("Internal method `_setVisible` called."),w(this,rp,n),w(this,Zu,t)}}ep=new WeakMap,np=new WeakMap,rp=new WeakMap,Zu=new WeakMap;var ho,ce,qu,th,sp,Yx;class IR{constructor(e,t=Fr.DISPLAY){P(this,sp);P(this,ho,null);P(this,ce,new Map);P(this,qu,null);P(this,th,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,w(this,th,e.order);for(const n of e.groups)o(this,ce).set(n.id,new RR(t,n));if(e.baseState==="OFF")for(const n of o(this,ce).values())n._setVisible(su,!1);for(const n of e.on)o(this,ce).get(n)._setVisible(su,!0);for(const n of e.off)o(this,ce).get(n)._setVisible(su,!1);w(this,qu,this.getHash())}}isVisible(e){if(o(this,ce).size===0)return!0;if(!e)return Yv("Optional content group not defined."),!0;if(e.type==="OCG")return o(this,ce).has(e.id)?o(this,ce).get(e.id).visible:(Rt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return k(this,sp,Yx).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!o(this,ce).has(t))return Rt(`Optional content group not found: ${t}`),!0;if(o(this,ce).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!o(this,ce).has(t))return Rt(`Optional content group not found: ${t}`),!0;if(!o(this,ce).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!o(this,ce).has(t))return Rt(`Optional content group not found: ${t}`),!0;if(!o(this,ce).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!o(this,ce).has(t))return Rt(`Optional content group not found: ${t}`),!0;if(o(this,ce).get(t).visible)return!1}return!0}return Rt(`Unknown optional content policy ${e.policy}.`),!0}return Rt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var i;const r=o(this,ce).get(e);if(!r){Rt(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const l of r.rbGroups)for(const c of l)c!==e&&((i=o(this,ce).get(c))==null||i._setVisible(su,!1,!0));r._setVisible(su,!!t,!0),w(this,ho,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const i=o(this,ce).get(r);if(i)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!i.visible,t);break}}w(this,ho,null)}get hasInitialVisibility(){return o(this,qu)===null||this.getHash()===o(this,qu)}getOrder(){return o(this,ce).size?o(this,th)?o(this,th).slice():[...o(this,ce).keys()]:null}getGroup(e){return o(this,ce).get(e)||null}getHash(){if(o(this,ho)!==null)return o(this,ho);const e=new tC;for(const[t,n]of o(this,ce))e.update(`${t}:${n.visible}`);return w(this,ho,e.hexdigest())}[Symbol.iterator](){return o(this,ce).entries()}}ho=new WeakMap,ce=new WeakMap,qu=new WeakMap,th=new WeakMap,sp=new WeakSet,Yx=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const i=e[r];let l;if(Array.isArray(i))l=k(this,sp,Yx).call(this,i);else if(o(this,ce).has(i))l=o(this,ce).get(i).visible;else return Rt(`Optional content group not found: ${i}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};jt(116);var ip,ap;class Jv{constructor(e,t,n){P(this,ip,null);P(this,ap,null);K(this,"_fullReader",null);K(this,"_rangeReaders",new Set);K(this,"_source",null);this._source=e,w(this,ip,t),w(this,ap,n)}get _progressiveDataLength(){var e;return((e=this._fullReader)==null?void 0:e._loaded)??0}getFullReader(){return Qt(!this._fullReader,"BasePDFStream.getFullReader can only be called once."),this._fullReader=new(o(this,ip))(this)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new(o(this,ap))(this,e,t);return this._rangeReaders.add(n),n}cancelAllRequests(e){var t;(t=this._fullReader)==null||t.cancel(e);for(const n of new Set(this._rangeReaders))n.cancel(e)}}ip=new WeakMap,ap=new WeakMap;class Zv{constructor(e){K(this,"onProgress",null);K(this,"_contentLength",0);K(this,"_filename",null);K(this,"_headersCapability",Promise.withResolvers());K(this,"_isRangeSupported",!1);K(this,"_isStreamingSupported",!1);K(this,"_loaded",0);K(this,"_stream",null);this._stream=e}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){Jt("Abstract method `read` called")}cancel(e){Jt("Abstract method `cancel` called")}}class qv{constructor(e,t,n){K(this,"_stream",null);this._stream=e}async read(){Jt("Abstract method `read` called")}cancel(e){Jt("Abstract method `cancel` called")}}function GS(u){return u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer}var op,Kx;class MR extends Jv{constructor(t){super(t,DR,LR);P(this,op);K(this,"_progressiveDone",!1);K(this,"_queuedChunks",[]);const{pdfDataRangeTransport:n}=t,{initialData:r,progressiveDone:i}=n;if((r==null?void 0:r.length)>0){const l=GS(r);this._queuedChunks.push(l)}this._progressiveDone=i,n.addRangeListener((l,c)=>{k(this,op,Kx).call(this,l,c)}),n.addProgressListener((l,c)=>{var h,f;c!==void 0&&((f=(h=this._fullReader)==null?void 0:h.onProgress)==null||f.call(h,{loaded:l,total:c}))}),n.addProgressiveReadListener(l=>{k(this,op,Kx).call(this,void 0,l)}),n.addProgressiveDoneListener(()=>{var l;(l=this._fullReader)==null||l.progressiveDone(),this._progressiveDone=!0}),n.transportReady()}getFullReader(){const t=super.getFullReader();return this._queuedChunks=null,t}getRangeReader(t,n){const r=super.getRangeReader(t,n);return r&&(r.onDone=()=>this._rangeReaders.delete(r),this._source.pdfDataRangeTransport.requestDataRange(t,n)),r}cancelAllRequests(t){super.cancelAllRequests(t),this._source.pdfDataRangeTransport.abort()}}op=new WeakSet,Kx=function(t,n){const r=GS(n);if(t===void 0)this._fullReader?this._fullReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.keys().find(l=>l._begin===t);Qt(i,"#onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."),i._enqueue(r)}};class DR extends Zv{constructor(t){super(t);K(this,"_done",!1);K(this,"_queuedChunks",null);K(this,"_requests",[]);const{pdfDataRangeTransport:n,disableRange:r,disableStream:i}=t._source,{length:l,contentDispositionFilename:c}=n;this._queuedChunks=t._queuedChunks||[];for(const h of this._queuedChunks)this._loaded+=h.byteLength;this._done=t._progressiveDone,this._contentLength=l,this._isStreamingSupported=!i,this._isRangeSupported=!r,Jw(c)&&(this._filename=c),this._headersCapability.resolve()}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class LR extends qv{constructor(t,n,r){super(t,n,r);K(this,"onDone",null);K(this,"_begin",-1);K(this,"_done",!1);K(this,"_queuedChunk",null);K(this,"_requests",[]);this._begin=n}_enqueue(t){var n;if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,(n=this.onDone)==null||n.call(this)}}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){var n;this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,(n=this.onDone)==null||n.call(this)}}function OR(u){let e=!0,t=n("filename\\*","i").exec(u);if(t){t=t[1];let p=c(t);return p=unescape(p),p=h(p),p=f(p),i(p)}if(t=l(u),t){const p=f(t);return i(p)}if(t=n("filename","i").exec(u),t){t=t[1];let p=c(t);return p=f(p),i(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function r(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const v=new TextDecoder(p,{fatal:!0}),x=Kv(g);g=v.decode(x),e=!1}catch{}}return g}function i(p){return e&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),e&&(p=r("iso-8859-1",p))),p}function l(p){const g=[];let v;const x=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=x.exec(p))!==null;){let[,b,E,T]=v;if(b=parseInt(b,10),b in g){if(b===0)break;continue}g[b]=[E,T]}const A=[];for(let b=0;b<g.length&&b in g;++b){let[E,T]=g[b];T=c(T),E&&(T=unescape(T),b===0&&(T=h(T))),A.push(T)}return A.join("")}function c(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let v=0;v<g.length;++v){const x=g[v].indexOf('"');x!==-1&&(g[v]=g[v].slice(0,x),g.length=v+1),g[v]=g[v].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function h(p){const g=p.indexOf("'");if(g===-1)return p;const v=p.slice(0,g),A=p.slice(g+1).replace(/^[^']*'/,"");return r(v,A)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,v,x,A){if(x==="q"||x==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,E){return String.fromCharCode(parseInt(E,16))}),r(v,A);try{A=atob(A)}catch{}return r(v,A)})}return""}function dC(u,e){const t=new Headers;if(!u||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function t0(u){var e;return((e=URL.parse(u))==null?void 0:e.origin)??null}function fC({responseHeaders:u,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(u.get("Content-Length"),10);return!Number.isInteger(i)||(r.suggestedLength=i,i<=2*t)||n||!e||u.get("Accept-Ranges")!=="bytes"||(u.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function pC(u){const e=u.get("Content-Disposition");if(e){let t=OR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Jw(t))return t}return null}function e0(u,e){return new dv(`Unexpected server response (${u}) while retrieving PDF "${e}".`,u,u===404||u===0&&e.startsWith("file:"))}function mC(u,e){if(u!==e)throw new Error(`Expected range response-origin "${u}" to match "${e}".`)}function gC(u,e,t,n){return fetch(u,{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"})}function vC(u,e){if(u!==200&&u!==206)throw e0(u,e)}function yC(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(Rt(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class FR extends Jv{constructor(t){super(t,jR,BR);K(this,"_responseOrigin",null);this.isHttp=/^https?:/i.test(t.url),this.headers=dC(this.isHttp,t.httpHeaders)}}class jR extends Zv{constructor(t){super(t);K(this,"_abortController",new AbortController);K(this,"_reader",null);const{disableRange:n,disableStream:r,length:i,rangeChunkSize:l,url:c,withCredentials:h}=t._source;this._contentLength=i,this._isStreamingSupported=!r,this._isRangeSupported=!n;const f=new Headers(t.headers);gC(c,f,h,this._abortController).then(p=>{t._responseOrigin=t0(p.url),vC(p.status,c),this._reader=p.body.getReader();const g=p.headers,{allowRangeRequests:v,suggestedLength:x}=fC({responseHeaders:g,isHttp:t.isHttp,rangeChunkSize:l,disableRange:n});this._isRangeSupported=v,this._contentLength=x||this._contentLength,this._filename=pC(g),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Bo("Streaming is disabled.")),this._headersCapability.resolve()}).catch(this._headersCapability.reject)}async read(){var r;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:yC(t),done:!1})}cancel(t){var n;(n=this._reader)==null||n.cancel(t),this._abortController.abort()}}class BR extends qv{constructor(t,n,r){super(t,n,r);K(this,"_abortController",new AbortController);K(this,"_readCapability",Promise.withResolvers());K(this,"_reader",null);const{url:i,withCredentials:l}=t._source,c=new Headers(t.headers);c.append("Range",`bytes=${n}-${r-1}`),gC(i,c,l,this._abortController).then(h=>{const f=t0(h.url);mC(f,t._responseOrigin),vC(h.status,i),this._reader=h.body.getReader(),this._readCapability.resolve()}).catch(this._readCapability.reject)}async read(){await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:{value:yC(t),done:!1}}cancel(t){var n;(n=this._reader)==null||n.cancel(t),this._abortController.abort()}}const ox=200,XS=206;function _R(u){return typeof u!="string"?u:Kv(u).buffer}var ni,zh,xC,wC;class UR extends Jv{constructor(t){super(t,zR,HR);P(this,zh);P(this,ni,new WeakMap);K(this,"_responseOrigin",null);this.url=t.url,this.isHttp=/^https?:/i.test(this.url),this.headers=dC(this.isHttp,t.httpHeaders)}_request(t){const n=new XMLHttpRequest,r={validateStatus:null,onHeadersReceived:t.onHeadersReceived,onDone:t.onDone,onError:t.onError,onProgress:t.onProgress};o(this,ni).set(n,r),n.open("GET",this.url),n.withCredentials=this._source.withCredentials;for(const[i,l]of this.headers)n.setRequestHeader(i,l);return this.isHttp&&"begin"in t&&"end"in t?(n.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.validateStatus=i=>i===XS||i===ox):r.validateStatus=i=>i===ox,n.responseType="arraybuffer",Qt(t.onError,"Expected `onError` callback to be provided."),n.onerror=()=>t.onError(n.status),n.onreadystatechange=k(this,zh,wC).bind(this,n),n.onprogress=k(this,zh,xC).bind(this,n),n.send(null),n}_abortRequest(t){o(this,ni).has(t)&&(o(this,ni).delete(t),t.abort())}getRangeReader(t,n){const r=super.getRangeReader(t,n);return r&&(r.onClosed=()=>this._rangeReaders.delete(r)),r}}ni=new WeakMap,zh=new WeakSet,xC=function(t,n){var i;const r=o(this,ni).get(t);(i=r==null?void 0:r.onProgress)==null||i.call(r,n)},wC=function(t,n){const r=o(this,ni).get(t);if(!r||(t.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),t.readyState!==4)||!o(this,ni).has(t))return;if(o(this,ni).delete(t),t.status===0&&this.isHttp){r.onError(t.status);return}const i=t.status||ox;if(!r.validateStatus(i)){r.onError(t.status);return}const l=_R(t.response);if(i===XS){const c=t.getResponseHeader("Content-Range");/bytes (\d+)-(\d+)\/(\d+)/.test(c)?r.onDone(l):(Rt('Missing or invalid "Content-Range" header.'),r.onError(0))}else l?r.onDone(l):r.onError(t.status)};var pi,bC,AC,SC,EC;class zR extends Zv{constructor(t){super(t);P(this,pi);K(this,"_cachedChunks",[]);K(this,"_done",!1);K(this,"_requests",[]);K(this,"_storedError",null);const{length:n}=t._source;this._contentLength=n,this._fullRequestXhr=t._request({onHeadersReceived:k(this,pi,bC).bind(this),onDone:k(this,pi,AC).bind(this),onError:k(this,pi,SC).bind(this),onProgress:k(this,pi,EC).bind(this)})}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._fullRequestXhr),this._fullRequestXhr=null}}pi=new WeakSet,bC=function(){const t=this._stream,{disableRange:n,rangeChunkSize:r}=t._source,i=this._fullRequestXhr;t._responseOrigin=t0(i.responseURL);const l=i.getAllResponseHeaders(),c=new Headers(l?l.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(p=>{const[g,...v]=p.split(": ");return[g,v.join(": ")]}):[]),{allowRangeRequests:h,suggestedLength:f}=fC({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:r,disableRange:n});h&&(this._isRangeSupported=!0),this._contentLength=f||this._contentLength,this._filename=pC(c),this._isRangeSupported&&t._abortRequest(i),this._headersCapability.resolve()},AC=function(t){if(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._cachedChunks.push(t),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}},SC=function(t){this._storedError=e0(t,this._stream.url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0},EC=function(t){var n;(n=this.onProgress)==null||n.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})};var va,CC,TC,Qx;class HR extends qv{constructor(t,n,r){super(t,n,r);P(this,va);K(this,"onClosed",null);K(this,"_done",!1);K(this,"_queuedChunk",null);K(this,"_requests",[]);K(this,"_storedError",null);this._requestXhr=t._request({begin:n,end:r,onHeadersReceived:k(this,va,CC).bind(this),onDone:k(this,va,TC).bind(this),onError:k(this,va,Qx).bind(this),onProgress:null})}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){var n;this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._requestXhr),(n=this.onClosed)==null||n.call(this)}}va=new WeakSet,CC=function(){var n;const t=t0((n=this._requestXhr)==null?void 0:n.responseURL);try{mC(t,this._stream._responseOrigin)}catch(r){this._storedError=r,k(this,va,Qx).call(this,0)}},TC=function(t){var n;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,(n=this.onClosed)==null||n.call(this)},Qx=function(t){this._storedError??(this._storedError=e0(t,this._stream.url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null};const $R=/^[a-z][a-z0-9\-+.]+:/i;function VR(u){if($R.test(u))return new URL(u);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(u))}function PC(u){const{Readable:e}=process.getBuiltinModule("stream");return typeof e.toWeb=="function"?e.toWeb(u):process.getBuiltinModule("module").createRequire(import.meta.url)("node-readable-to-web-readable-stream").makeDefaultReadableStreamFromNodeReadable(u)}function kC(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(Rt(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class WR extends Jv{constructor(e){super(e,GR,XR),this.url=VR(e.url),Qt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs.")}}class GR extends Zv{constructor(t){super(t);K(this,"_reader",null);const{disableRange:n,disableStream:r,length:i,rangeChunkSize:l}=t._source;this._contentLength=i,this._isStreamingSupported=!r,this._isRangeSupported=!n;const c=t.url,h=process.getBuiltinModule("fs");h.promises.lstat(c).then(f=>{const p=h.createReadStream(c),g=PC(p);this._reader=g.getReader();const{size:v}=f;v<=2*l&&(this._isRangeSupported=!1),this._contentLength=v,!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Bo("Streaming is disabled.")),this._headersCapability.resolve()}).catch(f=>{f.code==="ENOENT"&&(f=e0(0,c.href)),this._headersCapability.reject(f)})}async read(){var r;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:kC(t),done:!1})}cancel(t){var n;(n=this._reader)==null||n.cancel(t)}}class XR extends qv{constructor(t,n,r){super(t,n,r);K(this,"_readCapability",Promise.withResolvers());K(this,"_reader",null);const i=t.url,l=process.getBuiltinModule("fs");try{const c=l.createReadStream(i,{start:n,end:r-1}),h=PC(c);this._reader=h.getReader(),this._readCapability.resolve()}catch(c){this._readCapability.reject(c)}}async read(){await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:{value:kC(t),done:!1}}cancel(t){var n;(n=this._reader)==null||n.cancel(t)}}const Md=Symbol("INITIAL_DATA");var br,lp,Jx;class NC{constructor(){P(this,lp);P(this,br,Object.create(null))}get(e,t=null){if(t){const r=k(this,lp,Jx).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=o(this,br)[e];if(!n||n.data===Md)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=o(this,br)[e];return!!t&&t.data!==Md}delete(e){const t=o(this,br)[e];return!t||t.data===Md?!1:(delete o(this,br)[e],!0)}resolve(e,t=null){const n=k(this,lp,Jx).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in o(this,br)){const{data:n}=o(this,br)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}w(this,br,Object.create(null))}*[Symbol.iterator](){for(const e in o(this,br)){const{data:t}=o(this,br)[e];t!==Md&&(yield[e,t])}}}br=new WeakMap,lp=new WeakSet,Jx=function(e){var t;return(t=o(this,br))[e]||(t[e]={...Promise.withResolvers(),data:Md})};const YR=1e5,YS=30;var qS,fo,or,cp,up,Fl,Yi,hp,dp,jl,fp,eh,po,nh,pp,rh,Bl,mp,gp,sh,_l,vp,ih,ah,ya,RC,IC,Zx,Ur,zg,qx,MC,DC;const gn=class gn{constructor({textContentSource:e,container:t,viewport:n}){P(this,ya);P(this,fo,Promise.withResolvers());P(this,or,null);P(this,cp,!1);P(this,up,!!((qS=globalThis.FontInspector)!=null&&qS.enabled));P(this,Fl,null);P(this,Yi,null);P(this,hp,0);P(this,dp,0);P(this,jl,null);P(this,fp,null);P(this,eh,0);P(this,po,0);P(this,nh,Object.create(null));P(this,pp,[]);P(this,rh,null);P(this,Bl,[]);P(this,mp,new WeakMap);P(this,gp,null);var h;if(e instanceof ReadableStream)w(this,rh,e);else if(typeof e=="object")w(this,rh,new ReadableStream({start(f){f.enqueue(e),f.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,or,w(this,fp,t)),w(this,po,n.scale*fi.pixelRatio),w(this,eh,n.rotation),w(this,Yi,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:i,pageX:l,pageY:c}=n.rawDims;w(this,gp,[1,0,0,-1,-l,c+i]),w(this,dp,r),w(this,hp,i),k(h=gn,Ur,MC).call(h),t.style.setProperty("--min-font-size",o(gn,ih)),wc(t,n),o(this,fo).promise.finally(()=>{o(gn,ah).delete(this),w(this,Yi,null),w(this,nh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=en.platform;return Dt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{o(this,jl).read().then(({value:t,done:n})=>{if(n){o(this,fo).resolve();return}o(this,Fl)??w(this,Fl,t.lang),Object.assign(o(this,nh),t.styles),k(this,ya,RC).call(this,t.items),e()},o(this,fo).reject)};return w(this,jl,o(this,rh).getReader()),o(gn,ah).add(this),e(),o(this,fo).promise}update({viewport:e,onBefore:t=null}){var i;const n=e.scale*fi.pixelRatio,r=e.rotation;if(r!==o(this,eh)&&(t==null||t(),w(this,eh,r),wc(o(this,fp),{rotation:r})),n!==o(this,po)){t==null||t(),w(this,po,n);const l={div:null,properties:null,ctx:k(i=gn,Ur,zg).call(i,o(this,Fl))};for(const c of o(this,Bl))l.properties=o(this,mp).get(c),l.div=c,k(this,ya,Zx).call(this,l)}}cancel(){var t;const e=new Bo("TextLayer task cancelled.");(t=o(this,jl))==null||t.cancel(e).catch(()=>{}),w(this,jl,null),o(this,fo).reject(e)}get textDivs(){return o(this,Bl)}get textContentItemsStr(){return o(this,pp)}static cleanup(){if(!(o(this,ah).size>0)){o(this,sh).clear();for(const{canvas:e}of o(this,_l).values())e.remove();o(this,_l).clear()}}};fo=new WeakMap,or=new WeakMap,cp=new WeakMap,up=new WeakMap,Fl=new WeakMap,Yi=new WeakMap,hp=new WeakMap,dp=new WeakMap,jl=new WeakMap,fp=new WeakMap,eh=new WeakMap,po=new WeakMap,nh=new WeakMap,pp=new WeakMap,rh=new WeakMap,Bl=new WeakMap,mp=new WeakMap,gp=new WeakMap,sh=new WeakMap,_l=new WeakMap,vp=new WeakMap,ih=new WeakMap,ah=new WeakMap,ya=new WeakSet,RC=function(e){var r,i;if(o(this,cp))return;(i=o(this,Yi)).ctx??(i.ctx=k(r=gn,Ur,zg).call(r,o(this,Fl)));const t=o(this,Bl),n=o(this,pp);for(const l of e){if(t.length>YR){Rt("Ignoring additional textDivs for performance reasons."),w(this,cp,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const c=o(this,or);w(this,or,document.createElement("span")),o(this,or).classList.add("markedContent"),l.id&&o(this,or).setAttribute("id",`${l.id}`),l.tag==="Artifact"&&(o(this,or).ariaHidden=!0),c.append(o(this,or))}else l.type==="endMarkedContent"&&w(this,or,o(this,or).parentNode);continue}n.push(l.str),k(this,ya,IC).call(this,l)}},IC=function(e){var A;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};o(this,Bl).push(t);const r=pt.transform(o(this,gp),e.transform);let i=Math.atan2(r[1],r[0]);const l=o(this,nh)[e.fontName];l.vertical&&(i+=Math.PI/2);let c=o(this,up)&&l.fontSubstitution||l.fontFamily;c=gn.fontFamilyMap.get(c)||c;const h=Math.hypot(r[2],r[3]),f=h*k(A=gn,Ur,DC).call(A,c,l,o(this,Fl));let p,g;i===0?(p=r[4],g=r[5]-f):(p=r[4]+f*Math.sin(i),g=r[5]-f*Math.cos(i));const v=t.style;v.left=`${(100*p/o(this,dp)).toFixed(2)}%`,v.top=`${(100*g/o(this,hp)).toFixed(2)}%`,v.setProperty("--font-height",`${h.toFixed(2)}px`),v.fontFamily=c,n.fontSize=h,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,o(this,up)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),i!==0&&(n.angle=i*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),E=Math.abs(e.transform[3]);b!==E&&Math.max(b,E)/Math.min(b,E)>1.5&&(x=!0)}if(x&&(n.canvasWidth=l.vertical?e.height:e.width),o(this,mp).set(t,n),o(this,Yi).div=t,o(this,Yi).properties=n,k(this,ya,Zx).call(this,o(this,Yi)),n.hasText&&o(this,or).append(t),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),o(this,or).append(b)}},Zx=function(e){var l;const{div:t,properties:n,ctx:r}=e,{style:i}=t;if(n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=i,{canvasWidth:h,fontSize:f}=n;k(l=gn,Ur,qx).call(l,r,f*o(this,po),c);const{width:p}=r.measureText(t.textContent);p>0&&i.setProperty("--scale-x",h*o(this,po)/p)}n.angle!==0&&i.setProperty("--rotate",`${n.angle}deg`)},Ur=new WeakSet,zg=function(e=null){let t=o(this,_l).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),o(this,_l).set(e,t),o(this,vp).set(t,{size:0,family:""})}return t},qx=function(e,t,n){const r=o(this,vp).get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)},MC=function(){if(o(this,ih)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),w(this,ih,e.getBoundingClientRect().height),e.remove()},DC=function(e,t,n){const r=o(this,sh).get(e);if(r)return r;const i=k(this,Ur,zg).call(this,n);i.canvas.width=i.canvas.height=YS,k(this,Ur,qx).call(this,i,YS,e);const l=i.measureText(""),c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let f=.8;return c?f=c/(c+h):(en.platform.isFirefox&&Rt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?f=t.ascent:t.descent&&(f=1+t.descent)),o(this,sh).set(e,f),f},P(gn,Ur),P(gn,sh,new Map),P(gn,_l,new Map),P(gn,vp,new WeakMap),P(gn,ih,null),P(gn,ah,new Set);let cf=gn;const KR=100;function LC(u={}){typeof u=="string"||u instanceof URL?u={url:u}:(u instanceof ArrayBuffer||ArrayBuffer.isView(u))&&(u={data:u});const e=new tw,{docId:t}=e,n=u.url?rR(u.url):null,r=u.data?sR(u.data):null,i=u.httpHeaders||null,l=u.withCredentials===!0,c=u.password??null,h=u.range instanceof OC?u.range:null,f=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:2**16;let p=u.worker instanceof uf?u.worker:null;const g=u.verbosity,v=typeof u.docBaseUrl=="string"&&!Qv(u.docBaseUrl)?u.docBaseUrl:null,x=Ag(u.cMapUrl),A=u.cMapPacked!==!1,b=u.CMapReaderFactory||(Gn?dR:MS),E=Ag(u.iccUrl),T=Ag(u.standardFontDataUrl),R=u.StandardFontDataFactory||(Gn?fR:DS),N=Ag(u.wasmUrl),D=u.WasmFactory||(Gn?pR:LS),M=u.stopAtErrors!==!0,L=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,F=u.isEvalSupported!==!1,U=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!Gn,z=typeof u.isImageDecoderSupported=="boolean"?u.isImageDecoderSupported:!Gn&&(en.platform.isFirefox||!globalThis.chrome),G=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,X=typeof u.disableFontFace=="boolean"?u.disableFontFace:Gn,ot=u.fontExtraProperties===!0,q=u.enableXfa===!0,st=u.ownerDocument||globalThis.document,ht=u.disableRange===!0,tt=u.disableStream===!0,J=u.disableAutoFetch===!0,Y=u.pdfBug===!0,ct=u.CanvasFactory||(Gn?hR:lR),it=u.FilterFactory||(Gn?uR:cR),B=u.enableHWA===!0,W=u.useWasm!==!1,dt=h?h.length:u.length??NaN,yt=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!Gn&&!X,bt=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:!!(b===MS&&R===DS&&D===LS&&x&&T&&N&&Od(x,document.baseURI)&&Od(T,document.baseURI)&&Od(N,document.baseURI)),Z=null;RN(g);const Q={canvasFactory:new ct({ownerDocument:st,enableHWA:B}),filterFactory:new it({docId:t,ownerDocument:st}),cMapReaderFactory:bt?null:new b({baseUrl:x,isCompressed:A}),standardFontDataFactory:bt?null:new R({baseUrl:T}),wasmFactory:bt?null:new D({baseUrl:N})};p||(p=uf.create({verbosity:g,port:di.workerPort}),e._worker=p);const nt={docId:t,apiVersion:"5.4.624",data:r,password:c,disableAutoFetch:J,rangeChunkSize:f,length:dt,docBaseUrl:v,enableXfa:q,evaluatorOptions:{maxImageSize:L,disableFontFace:X,ignoreErrors:M,isEvalSupported:F,isOffscreenCanvasSupported:U,isImageDecoderSupported:z,canvasMaxAreaInBytes:G,fontExtraProperties:ot,useSystemFonts:yt,useWasm:W,useWorkerFetch:bt,cMapUrl:x,iccUrl:E,standardFontDataUrl:T,wasmUrl:N}},gt={ownerDocument:st,pdfBug:Y,styleElement:Z,enableHWA:B,loadingParams:{disableAutoFetch:J,enableXfa:q}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Mt=p.messageHandler.sendWithPromise("GetDocRequest",nt,r?[r.buffer]:null);let Ct;if(h)Ct=new MR({pdfDataRangeTransport:h,disableRange:ht,disableStream:tt});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const te=Od(n)?FR:Gn?WR:UR;Ct=new te({url:n,length:dt,httpHeaders:i,withCredentials:l,rangeChunkSize:f,disableRange:ht,disableStream:tt})}return Mt.then(te=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Zt=new $d(t,te,p.port),Tn=new ZR(Zt,e,Ct,gt,Q);e._transport=Tn,Zt.send("Ready",null)})}).catch(e._capability.reject),e}var Lv;const Ov=class Ov{constructor(){K(this,"_capability",Promise.withResolvers());K(this,"_transport",null);K(this,"_worker",null);K(this,"docId",`d${Qe(Ov,Lv)._++}`);K(this,"destroyed",!1);K(this,"onPassword",null);K(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Lv=new WeakMap,P(Ov,Lv,0);let tw=Ov;var Ul,yp,xp,wp,bp;class OC{constructor(e,t,n=!1,r=null){P(this,Ul,Promise.withResolvers());P(this,yp,[]);P(this,xp,[]);P(this,wp,[]);P(this,bp,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(e){o(this,bp).push(e)}addProgressListener(e){o(this,wp).push(e)}addProgressiveReadListener(e){o(this,xp).push(e)}addProgressiveDoneListener(e){o(this,yp).push(e)}onDataRange(e,t){for(const n of o(this,bp))n(e,t)}onDataProgress(e,t){o(this,Ul).promise.then(()=>{for(const n of o(this,wp))n(e,t)})}onDataProgressiveRead(e){o(this,Ul).promise.then(()=>{for(const t of o(this,xp))t(e)})}onDataProgressiveDone(){o(this,Ul).promise.then(()=>{for(const e of o(this,yp))e()})}transportReady(){o(this,Ul).resolve()}requestDataRange(e,t){Jt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Ul=new WeakMap,yp=new WeakMap,xp=new WeakMap,wp=new WeakMap,bp=new WeakMap;class QR{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Dt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ki,Ap,zl,Yd;class JR{constructor(e,t,n,r=!1){P(this,zl);P(this,Ki,!1);P(this,Ap,lf.instance);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new CS:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new NC,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}set pageNumber(e){this._pageIndex=e-1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}={}){return new lm({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Dt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:r="display",annotationMode:i=Ua.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:v=!1,recordOperations:x=!1,operationsFilter:A=null}){var z,G,X;(z=this._stats)==null||z.time("Overall");const b=this._transport.getRenderingIntent(r,i,g,v),{renderingIntent:E,cacheKey:T}=b;w(this,Ki,!1),h||(h=this._transport.getOptionalContentConfig(E));let R=this._intentStates.get(T);R||(R=Object.create(null),this._intentStates.set(T,R)),R.streamReaderCancelTimeout&&(clearTimeout(R.streamReaderCancelTimeout),R.streamReaderCancelTimeout=null);const N=!!(E&Fr.PRINT);R.displayReadyCapability||(R.displayReadyCapability=Promise.withResolvers(),R.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(G=this._stats)==null||G.time("Page Request"),this._pumpOperatorList(b));const D=!!(this._pdfBug&&((X=globalThis.StepperManager)!=null&&X.enabled)),M=!this.recordedBBoxes&&(x||D),L=ot=>{var q,st;if(R.renderTasks.delete(F),M){const ht=(q=F.gfx)==null?void 0:q.dependencyTracker.take();ht&&(F.stepper&&F.stepper.setOperatorBBoxes(ht,F.gfx.dependencyTracker.takeDebugMetadata()),x&&(this.recordedBBoxes=ht))}N&&w(this,Ki,!0),k(this,zl,Yd).call(this),ot?(F.capability.reject(ot),this._abortOperatorList({intentState:R,reason:ot instanceof Error?ot:new Error(ot)})):F.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(st=globalThis.Stats)!=null&&st.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},F=new ew({callback:L,params:{canvas:t,canvasContext:e,dependencyTracker:M?new gR(t,R.operatorList.length,D):null,viewport:n,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:R.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!N,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:A});(R.renderTasks||(R.renderTasks=new Set)).add(F);const U=F.task;return Promise.all([R.displayReadyCapability.promise,h]).then(([ot,q])=>{var st;if(this.destroyed){L();return}if((st=this._stats)==null||st.time("Rendering"),!(q.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");F.initializeGraphics({transparency:ot,optionalContentConfig:q}),F.operatorListChanged()}).catch(L),U}getOperatorList({intent:e="display",annotationMode:t=Ua.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var f;function i(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(e,t,n,r,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=i,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageId:o(this,Ap).getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>of.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function i(){l.read().then(function({value:h,done:f}){if(f){n(c);return}c.lang??(c.lang=h.lang),Object.assign(c.styles,h.styles),c.items.push(...h.items),i()},r)}const l=t.getReader(),c={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),w(this,Ki,!1),Promise.all(e)}cleanup(e=!1){w(this,Ki,!0);const t=k(this,zl,Yd).call(this);return e&&t&&this._stats&&(this._stats=new CS),t}_startRenderPage(e,t){var r,i;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(i=n.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&k(this,zl,Yd).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:i,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageId:o(this,Ap).getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:r},l).getReader(),f=this._intentStates.get(t);f.streamReader=h;const p=()=>{h.read().then(({value:g,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();k(this,zl,Yd).call(this)}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof Qw){let r=KR;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Bo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,i]of this._intentStates)if(i===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Ki=new WeakMap,Ap=new WeakMap,zl=new WeakSet,Yd=function(){if(!o(this,Ki)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,Ki,!1),!0};var mo,Ts,Qi,Hl,Fv,$l,Vl,Xn,Hg,FC,jC,Kd,oh,$g;const be=class be{constructor({name:e=null,port:t=null,verbosity:n=IN()}={}){P(this,Xn);P(this,mo,Promise.withResolvers());P(this,Ts,null);P(this,Qi,null);P(this,Hl,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(o(be,Vl).has(t))throw new Error("Cannot use more than one PDFWorker per port.");o(be,Vl).set(t,this),k(this,Xn,FC).call(this,t)}else k(this,Xn,jC).call(this)}get promise(){return o(this,mo).promise}get port(){return o(this,Qi)}get messageHandler(){return o(this,Ts)}destroy(){var e,t;this.destroyed=!0,(e=o(this,Hl))==null||e.terminate(),w(this,Hl,null),o(be,Vl).delete(o(this,Qi)),w(this,Qi,null),(t=o(this,Ts))==null||t.destroy(),w(this,Ts,null)}static create(e){const t=o(this,Vl).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new be(e)}static get workerSrc(){if(di.workerSrc)return di.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Dt(this,"_setupFakeWorkerGlobal",(async()=>o(this,oh,$g)?o(this,oh,$g):(await import(this.workerSrc)).WorkerMessageHandler)())}};mo=new WeakMap,Ts=new WeakMap,Qi=new WeakMap,Hl=new WeakMap,Fv=new WeakMap,$l=new WeakMap,Vl=new WeakMap,Xn=new WeakSet,Hg=function(){o(this,mo).resolve(),o(this,Ts).send("configure",{verbosity:this.verbosity})},FC=function(e){w(this,Qi,e),w(this,Ts,new $d("main","worker",e)),o(this,Ts).on("ready",()=>{}),k(this,Xn,Hg).call(this)},jC=function(){if(o(be,$l)||o(be,oh,$g)){k(this,Xn,Kd).call(this);return}let{workerSrc:e}=be;try{be._isSameOrigin(window.location,e)||(e=be._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new $d("main","worker",t),r=()=>{i.abort(),n.destroy(),t.terminate(),this.destroyed?o(this,mo).reject(new Error("Worker was destroyed")):k(this,Xn,Kd).call(this)},i=new AbortController;t.addEventListener("error",()=>{o(this,Hl)||r()},{signal:i.signal}),n.on("test",c=>{if(i.abort(),this.destroyed||!c){r();return}w(this,Ts,n),w(this,Qi,t),w(this,Hl,t),k(this,Xn,Hg).call(this)}),n.on("ready",c=>{if(i.abort(),this.destroyed){r();return}try{l()}catch{k(this,Xn,Kd).call(this)}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{Yv("The worker has been disabled.")}k(this,Xn,Kd).call(this)},Kd=function(){o(be,$l)||(Rt("Setting up fake worker."),w(be,$l,!0)),be._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){o(this,mo).reject(new Error("Worker was destroyed"));return}const t=new oR;w(this,Qi,t);const n=`fake${Qe(be,Fv)._++}`,r=new $d(n+"_worker",n,t);e.setup(r,t),w(this,Ts,new $d(n,n+"_worker",t)),k(this,Xn,Hg).call(this)}).catch(e=>{o(this,mo).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},oh=new WeakSet,$g=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},P(be,oh),P(be,Fv,0),P(be,$l,!1),P(be,Vl,new WeakMap),Gn&&(w(be,$l,!0),di.workerSrc||(di.workerSrc="./pdf.worker.mjs")),be._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const r=new URL(t,n);return n.origin===r.origin},be._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},be.fromPort=e=>{if($N("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return be.create(e)};let uf=be;var Ar,Ji,Zi,is,go,lh,qi,lr,_r,BC,Qd,Vg;class ZR{constructor(e,t,n,r,i){P(this,_r);K(this,"downloadInfoCapability",Promise.withResolvers());P(this,Ar,null);P(this,Ji,new Map);P(this,Zi,null);P(this,is,new Map);P(this,go,new Map);P(this,lh,new Map);P(this,qi,null);P(this,lr,lf.instance);this.messageHandler=e,this.loadingTask=t,w(this,Zi,n),this.commonObjs=new NC,this.fontLoader=new tR({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.enableHWA=r.enableHWA,this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this.setupMessageHandler(),o(this,lr).addListener(k(this,_r,BC).bind(this))}get annotationStorage(){return Dt(this,"annotationStorage",new Zw)}getRenderingIntent(e,t=Ua.ENABLE,n=null,r=!1,i=!1){let l=Fr.DISPLAY,c=Ox;switch(e){case"any":l=Fr.ANY;break;case"display":break;case"print":l=Fr.PRINT;break;default:Rt(`getRenderingIntent - invalid intent: ${e}`)}const h=l&Fr.PRINT&&n instanceof nC?n:this.annotationStorage;switch(t){case Ua.DISABLE:l+=Fr.ANNOTATIONS_DISABLE;break;case Ua.ENABLE:break;case Ua.ENABLE_FORMS:l+=Fr.ANNOTATIONS_FORMS;break;case Ua.ENABLE_STORAGE:l+=Fr.ANNOTATIONS_STORAGE,c=h.serializable;break;default:Rt(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=Fr.IS_EDITING),i&&(l+=Fr.OPLIST);const{ids:f,hash:p}=h.modifiedIds,g=[l,c.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=o(this,qi))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of o(this,is).values())e.push(r._destroy());o(this,is).clear(),o(this,go).clear(),o(this,lh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,i;this.commonObjs.clear(),this.fontLoader.clear(),o(this,Ji).clear(),this.filterFactory.destroy(),cf.cleanup(),(r=o(this,Zi))==null||r.cancelAllRequests(new Bo("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{Qt(o(this,Zi),"GetReader - no `BasePDFStream` instance available."),w(this,Ar,o(this,Zi).getFullReader()),o(this,Ar).onProgress=i=>k(this,_r,Vg).call(this,i),r.onPull=()=>{o(this,Ar).read().then(function({value:i,done:l}){if(l){r.close();return}Qt(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{r.error(i)})},r.onCancel=i=>{o(this,Ar).cancel(i),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{await o(this,Ar).headersReady;const{isStreamingSupported:r,isRangeSupported:i,contentLength:l}=o(this,Ar);return r&&i&&(o(this,Ar).onProgress=null),{isStreamingSupported:r,isRangeSupported:i,contentLength:l}}),e.on("GetRangeReader",(n,r)=>{Qt(o(this,Zi),"GetRangeReader - no `BasePDFStream` instance available.");const i=o(this,Zi).getRangeReader(n.begin,n.end);if(!i){r.close();return}r.onPull=()=>{i.read().then(function({value:l,done:c}){if(c){r.close();return}Qt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{i.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:n})=>{o(this,lr).pagesNumber=n.numPages,this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new QR(n,this))}),e.on("DocException",n=>{t._capability.reject(er(n))}),e.on("PasswordRequest",n=>{w(this,qi,Promise.withResolvers());try{if(!t.onPassword)throw er(n);const r=i=>{i instanceof Error?o(this,qi).reject(i):o(this,qi).resolve({password:i})};t.onPassword(r,n.code)}catch(r){o(this,qi).reject(r)}return o(this,qi).promise}),e.on("DataLoaded",n=>{k(this,_r,Vg).call(this,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;o(this,is).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,i])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in i){const v=i.error;Rt(`Error during font loading: ${v}`),this.commonObjs.resolve(n,v);break}const c=new Fx(i),h=this._params.pdfBug&&((l=globalThis.FontInspector)!=null&&l.enabled)?(v,x)=>globalThis.FontInspector.fontAdded(v,x):null,f=new eR(c,h,i.extra,i.charProcOperatorList);this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!f.fontExtraProperties&&f.data&&f.clearData(),this.commonObjs.resolve(n,f)});break;case"CopyLocalImage":const{imageRef:p}=i;Qt(p,"The imageRef must be defined.");for(const v of o(this,is).values())for(const[,x]of v.objs)if((x==null?void 0:x.ref)===p)return x.dataLen?(this.commonObjs.resolve(n,structuredClone(x)),x.dataLen):null;break;case"FontPath":this.commonObjs.resolve(n,new nR(i));break;case"Image":this.commonObjs.resolve(n,i);break;case"Pattern":const g=new jx(i);this.commonObjs.resolve(n,g.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,i,l])=>{var h;if(this.destroyed)return;const c=o(this,is).get(r);if(!c.objs.has(n)){if(c._intentStates.size===0){(h=l==null?void 0:l.bitmap)==null||h.close();return}switch(i){case"Image":case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",n=>{this.destroyed||k(this,_r,Vg).call(this,n)}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Rt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=o(this,Ar))==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>o(this,lr).pagesNumber)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=o(this,lr).getPageId(e)-1,r=o(this,go).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&o(this,lh).set(l.refStr,n);const c=new JR(t,l,this,this._params.pdfBug);return o(this,is).set(t,c),c});return o(this,go).set(t,i),i}async getPageIndex(e){if(!Bx(e))throw new Error("Invalid pageIndex request.");const t=await this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen});return o(this,lr).getPageNumber(t+1)-1}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o(this,lr).getPageId(e+1)-1,intent:t})}getFieldObjects(){return k(this,_r,Qd).call(this,"GetFieldObjects")}hasJSActions(){return k(this,_r,Qd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return k(this,_r,Qd).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o(this,lr).getPageId(e+1)-1})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o(this,lr).getPageId(e+1)-1})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return k(this,_r,Qd).call(this,"GetOptionalContentConfig").then(t=>new IR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=o(this,Ji).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var i,l;return{info:r[0],metadata:r[1]?new NR(r[1]):null,contentDispositionFilename:((i=o(this,Ar))==null?void 0:i.filename)??null,contentLength:((l=o(this,Ar))==null?void 0:l.contentLength)??null,hasStructTree:r[2]}});return o(this,Ji).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of o(this,is).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),o(this,Ji).clear(),this.filterFactory.destroy(!0),cf.cleanup()}}cachedPageNumber(e){if(!Bx(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`,n=o(this,lh).get(t);return n>=0?o(this,lr).getPageNumber(n+1):null}}Ar=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,is=new WeakMap,go=new WeakMap,lh=new WeakMap,qi=new WeakMap,lr=new WeakMap,_r=new WeakSet,BC=function(){const e=new Map,t=new Map;for(let n=0,r=o(this,lr).pagesNumber;n<r;n++){const i=o(this,lr).getPrevPageNumber(n+1)-1,l=o(this,is).get(i);l&&e.set(n,l);const c=o(this,go).get(i);c&&t.set(n,c)}w(this,is,e),w(this,go,t)},Qd=function(e,t=null){const n=o(this,Ji).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return o(this,Ji).set(e,r),r},Vg=function({loaded:e,total:t}){var n,r;(r=(n=this.loadingTask).onProgress)==null||r.call(n,{loaded:e,total:t,percent:An(Math.round(e/t*100),0,100)})};class qR{constructor(e){K(this,"_internalRenderTask",null);K(this,"onContinue",null);K(this,"onError",null);this._internalRenderTask=e}get promise(){return this._internalRenderTask.capability.promise}cancel(e=0){this._internalRenderTask.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this._internalRenderTask.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this._internalRenderTask;return e.form||e.canvas&&(t==null?void 0:t.size)>0}}var vo,Wl;const il=class il{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:i,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:v=null,enableHWA:x=!1,operationsFilter:A=null}){P(this,vo,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=g,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new qR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=x,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=A}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var h,f;if(this.cancelled)return;if(this._canvas){if(o(il,Wl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");o(il,Wl).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:r,background:i,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new fu(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:n,transparency:e,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(e=null,t=0){var n,r,i;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),o(this,vo)&&(window.cancelAnimationFrame(o(this,vo)),w(this,vo,null)),o(il,Wl).delete(this._canvas),e||(e=new Qw(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(i=(r=this.task).onError)==null||i.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?w(this,vo,window.requestAnimationFrame(()=>{w(this,vo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),o(il,Wl).delete(this._canvas),this.callback())))}};vo=new WeakMap,Wl=new WeakMap,P(il,Wl,new WeakSet);let ew=il;const tI="5.4.624",eI="384c6208b";var Sr,Gl,ch,qe,Sp,uh,ta,Ep,yo,Ps,Cp,ue,nw,rw,sw,el,_C,_a;const nr=class nr{constructor({editor:e=null,uiManager:t=null}){P(this,ue);P(this,Sr,null);P(this,Gl,null);P(this,ch);P(this,qe,null);P(this,Sp,!1);P(this,uh,!1);P(this,ta,null);P(this,Ep);P(this,yo,null);P(this,Ps,null);var n,r;e?(w(this,uh,!1),w(this,ta,e)):w(this,uh,!0),w(this,Ps,(e==null?void 0:e._uiManager)||t),w(this,Ep,o(this,Ps)._eventBus),w(this,ch,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((r=o(this,Ps))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),o(nr,Cp)||w(nr,Cp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Dt(this,"_keyboardManager",new um([[["Escape","mac+Escape"],nr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],nr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],nr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],nr.prototype._moveToPrevious],[["Home","mac+Home"],nr.prototype._moveToBeginning],[["End","mac+End"],nr.prototype._moveToEnd]]))}renderButton(){const e=w(this,Sr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",o(this,ta)&&(e.ariaControls=`${o(this,ta).id}_colorpicker_dropdown`);const t=o(this,Ps)._signal;e.addEventListener("click",k(this,ue,el).bind(this),{signal:t}),e.addEventListener("keydown",k(this,ue,sw).bind(this),{signal:t});const n=w(this,Gl,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=o(this,ch),e.append(n),e}renderMainDropdown(){const e=w(this,qe,k(this,ue,nw).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===o(this,Sr)){k(this,ue,el).call(this,e);return}const t=e.target.getAttribute("data-color");t&&k(this,ue,rw).call(this,t,e)}_moveToNext(e){var t,n;if(!o(this,ue,_a)){k(this,ue,el).call(this,e);return}if(e.target===o(this,Sr)){(t=o(this,qe).firstElementChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=o(this,qe))==null?void 0:t.firstElementChild)||e.target===o(this,Sr)){o(this,ue,_a)&&this._hideDropdownFromKeyboard();return}o(this,ue,_a)||k(this,ue,el).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!o(this,ue,_a)){k(this,ue,el).call(this,e);return}(t=o(this,qe).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!o(this,ue,_a)){k(this,ue,el).call(this,e);return}(t=o(this,qe).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=o(this,qe))==null||e.classList.add("hidden"),o(this,Sr).ariaExpanded="false",(t=o(this,yo))==null||t.abort(),w(this,yo,null)}_hideDropdownFromKeyboard(){var e;if(!o(this,uh)){if(!o(this,ue,_a)){(e=o(this,ta))==null||e.unselect();return}this.hideDropdown(),o(this,Sr).focus({preventScroll:!0,focusVisible:o(this,Sp)})}}updateColor(e){if(o(this,Gl)&&(o(this,Gl).style.backgroundColor=e),!o(this,qe))return;const t=o(this,Ps).highlightColors.values();for(const n of o(this,qe).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=o(this,Sr))==null||e.remove(),w(this,Sr,null),w(this,Gl,null),(t=o(this,qe))==null||t.remove(),w(this,qe,null)}};Sr=new WeakMap,Gl=new WeakMap,ch=new WeakMap,qe=new WeakMap,Sp=new WeakMap,uh=new WeakMap,ta=new WeakMap,Ep=new WeakMap,yo=new WeakMap,Ps=new WeakMap,Cp=new WeakMap,ue=new WeakSet,nw=function(){const e=document.createElement("div"),t=o(this,Ps)._signal;e.addEventListener("contextmenu",hs,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),o(this,ta)&&(e.id=`${o(this,ta).id}_colorpicker_dropdown`);for(const[n,r]of o(this,Ps).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=n,i.setAttribute("data-l10n-id",o(nr,Cp)[n]);const l=document.createElement("span");i.append(l),l.className="swatch",l.style.backgroundColor=r,i.ariaSelected=r===o(this,ch),i.addEventListener("click",k(this,ue,rw).bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",k(this,ue,sw).bind(this),{signal:t}),e},rw=function(e,t){t.stopPropagation(),o(this,Ep).dispatch("switchannotationeditorparams",{source:this,type:$t.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},sw=function(e){nr._keyboardManager.exec(this,e)},el=function(e){if(o(this,ue,_a)){this.hideDropdown();return}if(w(this,Sp,e.detail===0),o(this,yo)||(w(this,yo,new AbortController),window.addEventListener("pointerdown",k(this,ue,_C).bind(this),{signal:o(this,Ps).combinedSignal(o(this,yo))})),o(this,Sr).ariaExpanded="true",o(this,qe)){o(this,qe).classList.remove("hidden");return}const t=w(this,qe,k(this,ue,nw).call(this));o(this,Sr).append(t)},_C=function(e){var t;(t=o(this,qe))!=null&&t.contains(e.target)||this.hideDropdown()},_a=function(){return o(this,qe)&&!o(this,qe).classList.contains("hidden")},P(nr,Cp,null);let xv=nr;var ri,Tp,hh,Pp;const al=class al{constructor(e){P(this,ri,null);P(this,Tp,null);P(this,hh,null);w(this,Tp,e),w(this,hh,e._uiManager),o(al,Pp)||w(al,Pp,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(o(this,ri))return o(this,ri);const{editorType:e,colorType:t,color:n}=o(this,Tp),r=w(this,ri,document.createElement("input"));return r.type="color",r.value=n||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",o(al,Pp)[e]),r.addEventListener("input",()=>{o(this,hh).updateParams(t,r.value)},{signal:o(this,hh)._signal}),r}update(e){o(this,ri)&&(o(this,ri).value=e)}destroy(){var e;(e=o(this,ri))==null||e.remove(),w(this,ri,null)}hideDropdown(){}};ri=new WeakMap,Tp=new WeakMap,hh=new WeakMap,Pp=new WeakMap,P(al,Pp,null);let wv=al;jt(531);function KS(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function Dd(u){return Math.max(0,Math.min(255,255*u))}class QS{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Dd(e),[e,e,e]}static G_HTML([e]){const t=KS(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Dd)}static RGB_HTML(e){return`#${e.map(KS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[Dd(1-Math.min(1,e+r)),Dd(1-Math.min(1,n+r)),Dd(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,i=1-t,l=1-n,c=Math.min(r,i,l);return["CMYK",r,i,l,c]}}class nI{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Jt("Abstract method `_createSVG` called.")}}class bv extends nI{_createSVG(e){return document.createElementNS(Ci,e)}}const rI=9,Ac=new WeakSet,sI=new Date().getTimezoneOffset()*60*1e3;class lx{static create(e){switch(e.data.annotationType){case Ve.LINK:return new e1(e);case Ve.TEXT:return new aI(e);case Ve.WIDGET:switch(e.data.fieldType){case"Tx":return new oI(e);case"Btn":return e.data.radioButton?new HC(e):e.data.checkBox?new cI(e):new uI(e);case"Ch":return new hI(e);case"Sig":return new lI(e)}return new Cc(e);case Ve.POPUP:return new aw(e);case Ve.FREETEXT:return new XC(e);case Ve.LINE:return new fI(e);case Ve.SQUARE:return new pI(e);case Ve.CIRCLE:return new mI(e);case Ve.POLYLINE:return new YC(e);case Ve.CARET:return new vI(e);case Ve.INK:return new n1(e);case Ve.POLYGON:return new gI(e);case Ve.HIGHLIGHT:return new KC(e);case Ve.UNDERLINE:return new yI(e);case Ve.SQUIGGLY:return new xI(e);case Ve.STRIKEOUT:return new wI(e);case Ve.STAMP:return new QC(e);case Ve.FILEATTACHMENT:return new bI(e);default:return new Ne(e)}}}var Xl,dh,as,kp,iw;const c1=class c1{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){P(this,kp);P(this,Xl,null);P(this,dh,!1);P(this,as,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return c1._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:e}=this,t=(n=this.annotationStorage)==null?void 0:n.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var c;const e=(c=this.annotationStorage)==null?void 0:c.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:r}=this.data;let i=-1/0,l=-1/0;if((t==null?void 0:t.length)>=8){for(let h=0;h<t.length;h+=8)t[h+1]>l?(l=t[h+1],i=t[h+2]):t[h+1]===l&&(i=Math.max(i,t[h+2]));return[i,l]}if((n==null?void 0:n.length)>=1){for(const h of n)for(let f=0,p=h.length;f<p;f+=2)h[f+1]>l?(l=h[f+1],i=h[f]):h[f+1]===l&&(i=Math.max(i,h[f]));if(i!==1/0)return[i,l]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:l}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-i)/n,e[1]=100*(e[1]-l)/r,e}get commentText(){var t,n,r;const{data:e}=this;return((n=(t=this.annotationStorage.getRawValue(`${sf}${e.id}`))==null?void 0:t.popup)==null?void 0:n.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${sf}${t.id}`,{id:t.id,annotationType:t.annotationType,page:this.parent.page,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=o(this,as))==null?void 0:e.popup)||this.popup)==null||t.remove(),w(this,as,this.popup=null)}updateEdited(e){var i;if(!this.container)return;e.rect&&(o(this,Xl)||w(this,Xl,{rect:this.data.rect.slice(0)}));const{rect:t,popup:n}=e;t&&k(this,kp,iw).call(this,t);let r=((i=o(this,as))==null?void 0:i.popup)||this.popup;!r&&(n!=null&&n.text)&&(this._createPopup(n),r=o(this,as).popup),r&&(r.updateEdited(e),n!=null&&n.deleted&&(r.remove(),w(this,as,null),this.popup=null))}resetEdited(){var e;o(this,Xl)&&(k(this,kp,iw).call(this,o(this,Xl).rect),(e=o(this,as))==null||e.popup.resetEdited(),w(this,Xl,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),!(this instanceof Cc)&&!(this instanceof e1)&&(i.tabIndex=0);const{style:l}=i;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof aw){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,i),i}const{width:c,height:h}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(b>0||E>0){const R=`calc(${b}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;l.borderRadius=R}else if(this instanceof HC){const R=`calc(${c}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=R}switch(t.borderStyle.style){case qc.SOLID:l.borderStyle="solid";break;case qc.DASHED:l.borderStyle="dashed";break;case qc.BEVELED:Rt("Unimplemented border style: beveled");break;case qc.INSET:Rt("Unimplemented border style: inset");break;case qc.UNDERLINE:l.borderBottomStyle="solid";break}const T=t.borderColor||null;T?(w(this,dh,!0),l.borderColor=pt.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):l.borderWidth=0}const f=pt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:v,pageY:x}=r.rawDims;l.left=`${100*(f[0]-v)/p}%`,l.top=`${100*(f[1]-x)/g}%`;const{rotation:A}=t;return t.hasOwnCanvas||A===0?(l.width=`${100*c/p}%`,l.height=`${100*h/g}%`):this.setRotation(A,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:i,height:l}=this;e%180!==0&&([i,l]=[l,i]),t.style.width=`${100*i/n}%`,t.style.height=`${100*l/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const i=r.detail[t],l=i[0],c=i.slice(1);r.target.style[n]=QS[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:QS[`${l}_rgb`](c)})};return Dt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const l=n[r];if(l){const c={detail:{[r]:i},target:e};l(c),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,i]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,E,T,R]=e.subarray(2,6);if(r===b&&i===E&&t===T&&n===R)return}const{style:l}=this.container;let c;if(o(this,dh)){const{borderColor:b,borderWidth:E}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const h=r-t,f=i-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const v=p.createElement("defs");g.append(v);const x=p.createElement("clipPath"),A=`clippath_${this.data.id}`;x.setAttribute("id",A),x.setAttribute("clipPathUnits","objectBoundingBox"),v.append(x);for(let b=2,E=e.length;b<E;b+=8){const T=e[b],R=e[b+1],N=e[b+2],D=e[b+3],M=p.createElement("rect"),L=(N-t)/h,F=(i-R)/f,U=(T-N)/h,z=(R-D)/f;M.setAttribute("x",L),M.setAttribute("y",F),M.setAttribute("width",U),M.setAttribute("height",z),x.append(M),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${F}" width="${U}" height="${z}"/>`)}o(this,dh)&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(g),this.container.style.clipPath=`url(#${A})`}_createPopup(e=null){const{data:t}=this;let n,r;e?(n={str:e.text},r=e.date):(n=t.contentsObj,r=t.modificationDate),w(this,as,new aw({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(o(this,as)||this.popup||this.data.popupRef)}get extraPopupElement(){return o(this,as)}render(){Jt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:i,id:l,exportValues:c}of r){if(i===-1||l===t)continue;const h=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!Ac.has(f)){Rt(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:f})}return n}for(const r of document.getElementsByName(e)){const{exportValue:i}=r,l=r.getAttribute("data-element-id");l!==t&&Ac.has(r)&&n.push({id:l,exportValue:i,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Xl=new WeakMap,dh=new WeakMap,as=new WeakMap,kp=new WeakSet,iw=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:l,pageX:c,pageY:h}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-c)/i}%`,t.top=`${100*(l-e[3]+h)/l}%`,r===0?(t.width=`${100*(e[2]-e[0])/i}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(r)};let Ne=c1;class iI extends Ne{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Br,nl,UC,zC;class e1 extends Ne{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});P(this,Br);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let i=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),i=!0):t.attachment?(k(this,Br,UC).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(k(this,Br,zC).call(this,r,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),i=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}_bindLink(t,n,r=""){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&k(this,Br,nl).call(this),r&&(t.title=r)}_bindNamedAction(t,n,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),r&&(t.title=r),k(this,Br,nl).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const l=r.get(i);l&&(t[l]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1})}n.overlaidText&&(t.title=n.overlaidText),t.onclick||(t.onclick=()=>!1),k(this,Br,nl).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),k(this,Br,nl).call(this),!this._fieldObjects){Rt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var g;r==null||r();const{fields:i,refs:l,include:c}=n,h=[];if(i.length!==0||l.length!==0){const v=new Set(l);for(const x of i){const A=this._fieldObjects[x]||[];for(const{id:b}of A)v.add(b)}for(const x of Object.values(this._fieldObjects))for(const A of x)v.has(A.id)===c&&h.push(A)}else for(const v of Object.values(this._fieldObjects))h.push(...v);const f=this.annotationStorage,p=[];for(const v of h){const{id:x}=v;switch(p.push(x),v.type){case"text":{const b=v.defaultValue||"";f.setValue(x,{value:b});break}case"checkbox":case"radiobutton":{const b=v.defaultValue===v.exportValues;f.setValue(x,{value:b});break}case"combobox":case"listbox":{const b=v.defaultValue||"";f.setValue(x,{value:b});break}default:continue}const A=document.querySelector(`[data-element-id="${x}"]`);if(A){if(!Ac.has(A)){Rt(`_bindResetFormAction - element not allowed: ${x}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}Br=new WeakSet,nl=function(){this.container.setAttribute("data-internal-link","")},UC=function(t,n,r="",i=null){t.href=this.linkService.getAnchorUrl(""),n.description?t.title=n.description:r&&(t.title=r),t.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(n.content,n.filename,i),!1},k(this,Br,nl).call(this)},zC=function(t,n,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),r&&(t.title=r),k(this,Br,nl).call(this)};class aI extends Ne{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Cc extends Ne{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return en.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,i){n.includes("mouse")?e.addEventListener(n,l=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var c;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}i&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(l)}}))})}_setEventListeners(e,t,n,r){var i,l,c;for(const[h,f]of n)(f==="Action"||(i=this.data.actions)!=null&&i[f])&&((f==="Focus"||f==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,h,f,r),f==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):f==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":pt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||rI,i=e.style;let l;const c=2,h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(f/(ex*r))||1,g=f/p;l=Math.min(r,h(g/ex))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(r,h(f/ex))}i.fontSize=`calc(${l}px * var(--total-scale-factor))`,i.color=pt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class oI extends Cc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),i.setValue(l.id,{[r]:n})}render(){var r,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let c=l.value||"";const h=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;h&&c.length>h&&(c=c.slice(0,h));let f=l.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;f&&this.data.comb&&(f=f.replaceAll(/\s+/g,""));const p={userValue:c,formattedValue:f,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=f??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",f??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ac.add(n),this.contentElement=n,n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:g,datetimeType:v,timeStep:x}=this.data,A=!!v&&this.enableScripting;g&&(n.title=g),this._setRequired(n,this.data.required),h&&(n.maxLength=h),n.addEventListener("input",E=>{e.setValue(t,{value:E.target.value}),this.setPropertyOnSiblings(n,"value",E.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",E=>{const T=this.data.defaultFieldValue??"";n.value=p.userValue=T,p.formattedValue=null});let b=E=>{const{formattedValue:T}=p;T!=null&&(E.target.value=T),E.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",T=>{var N;if(p.focused)return;const{target:R}=T;if(A&&(R.type=v,x&&(R.step=x)),p.userValue){const D=p.userValue;if(A)if(v==="time"){const M=new Date(D),L=[M.getHours(),M.getMinutes(),M.getSeconds()];R.value=L.map(F=>F.toString().padStart(2,"0")).join(":")}else R.value=new Date(D-sI).toISOString().split(v==="date"?"T":".",1)[0];else R.value=D}p.lastCommittedValue=R.value,p.commitKey=1,(N=this.data.actions)!=null&&N.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",T=>{this.showElementAndHideCanvas(T.target);const R={value(N){p.userValue=N.detail.value??"",A||e.setValue(t,{value:p.userValue.toString()}),N.target.value=p.userValue},formattedValue(N){const{formattedValue:D}=N.detail;p.formattedValue=D,D!=null&&N.target!==document.activeElement&&(N.target.value=D);const M={formattedValue:D};A&&(M.value=D),e.setValue(t,M)},selRange(N){N.target.setSelectionRange(...N.detail.selRange)},charLimit:N=>{var F;const{charLimit:D}=N.detail,{target:M}=N;if(D===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",D);let L=p.userValue;!L||L.length<=D||(L=L.slice(0,D),M.value=p.userValue=L,e.setValue(t,{value:L}),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(R,T)}),n.addEventListener("keydown",T=>{var D;p.commitKey=1;let R=-1;if(T.key==="Escape"?R=0:T.key==="Enter"&&!this.data.multiLine?R=2:T.key==="Tab"&&(p.commitKey=3),R===-1)return;const{value:N}=T.target;p.lastCommittedValue!==N&&(p.lastCommittedValue=N,p.userValue=N,(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:N,willCommit:!0,commitKey:R,selStart:T.target.selectionStart,selEnd:T.target.selectionEnd}}))});const E=b;b=null,n.addEventListener("blur",T=>{var D,M;if(!p.focused||!T.relatedTarget)return;(D=this.data.actions)!=null&&D.Blur||(p.focused=!1);const{target:R}=T;let{value:N}=R;if(A){if(N&&v==="time"){const L=N.split(":").map(F=>parseInt(F,10));N=new Date(2e3,0,1,L[0],L[1],L[2]||0).valueOf(),R.step=""}else N.includes("T")||(N=`${N}T00:00`),N=new Date(N).valueOf();R.type="text"}p.userValue=N,p.lastCommittedValue!==N&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:N,willCommit:!0,commitKey:p.commitKey,selStart:T.target.selectionStart,selEnd:T.target.selectionEnd}})),E(T)}),(i=this.data.actions)!=null&&i.Keystroke&&n.addEventListener("beforeinput",T=>{var z;p.lastCommittedValue=null;const{data:R,target:N}=T,{value:D,selectionStart:M,selectionEnd:L}=N;let F=M,U=L;switch(T.inputType){case"deleteWordBackward":{const G=D.substring(0,M).match(/\w*[^\w]*$/);G&&(F-=G[0].length);break}case"deleteWordForward":{const G=D.substring(M).match(/^[^\w]*\w*/);G&&(U+=G[0].length);break}case"deleteContentBackward":M===L&&(F-=1);break;case"deleteContentForward":M===L&&(U+=1);break}T.preventDefault(),(z=this.linkService.eventBus)==null||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,change:R||"",willCommit:!1,selStart:F,selEnd:U}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],T=>T.target.value)}if(b&&n.addEventListener("blur",b),this.data.comb){const T=(this.data.rect[2]-this.data.rect[0])/h;n.classList.add("comb"),n.style.letterSpacing=`calc(${T}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class lI extends Cc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class cI extends Cc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Ac.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const f of this._getElementsByName(c,n)){const p=h&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}e.setValue(n,{value:h})}),i.addEventListener("resetform",l=>{const c=t.defaultFieldValue||"Off";l.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class HC extends Cc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const i=document.createElement("input");if(Ac.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const f of this._getElementsByName(c,n))e.setValue(f.id,{value:!1});e.setValue(n,{value:h})}),i.addEventListener("resetform",l=>{const c=t.defaultFieldValue;l.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;i.addEventListener("updatefromsandbox",c=>{const h={value:f=>{const p=l===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const v=p&&g.id===n;g.domElement&&(g.domElement.checked=v),e.setValue(g.id,{value:v})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class uI extends e1{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class hI extends Cc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Ac.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),i=!1),r.append(g)}let l=null;if(i){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),l=()=>{p.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const c=p=>{const g=p?"value":"textContent",{options:v,multiple:x}=r;return x?Array.prototype.filter.call(v,A=>A.selected).map(A=>A[g]):v.selectedIndex===-1?null:v[v.selectedIndex][g]};let h=c(!1);const f=p=>{const g=p.target.options;return Array.prototype.map.call(g,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const g={value(v){l==null||l();const x=v.detail.value,A=new Set(Array.isArray(x)?x:[x]);for(const b of r.options)b.selected=A.has(b.value);e.setValue(t,{value:c(!0)}),h=c(!1)},multipleSelection(v){r.multiple=!0},remove(v){const x=r.options,A=v.detail.remove;x[A].selected=!1,r.remove(A),x.length>0&&Array.prototype.findIndex.call(x,E=>E.selected)===-1&&(x[0].selected=!0),e.setValue(t,{value:c(!0),items:f(v)}),h=c(!1)},clear(v){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),h=c(!1)},insert(v){const{index:x,displayValue:A,exportValue:b}=v.detail.insert,E=r.children[x],T=document.createElement("option");T.textContent=A,T.value=b,E?E.before(T):r.append(T),e.setValue(t,{value:c(!0),items:f(v)}),h=c(!1)},items(v){const{items:x}=v.detail;for(;r.length!==0;)r.remove(0);for(const A of x){const{displayValue:b,exportValue:E}=A,T=document.createElement("option");T.textContent=b,T.value=E,r.append(T)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:c(!0),items:f(v)}),h=c(!1)},indices(v){const x=new Set(v.detail.indices);for(const A of v.target.options)A.selected=x.has(A.index);e.setValue(t,{value:c(!0)}),h=c(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("input",p=>{var x;const g=c(!0),v=c(!1);e.setValue(t,{value:g}),p.preventDefault(),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,change:v,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var Np,ow;class aw extends Ne{constructor(t){const{data:n,elements:r,parent:i}=t,l=!!i._commentManager;super(t,{isRenderable:!l&&Ne._hasPopupData(n)});P(this,Np);if(this.elements=r,l&&Ne._hasPopupData(n)){const c=this.popup=k(this,Np,ow).call(this);for(const h of r)h.popup=c}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=k(this,Np,ow).call(this),r=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${ou}${i}`).join(",")),this.container}}Np=new WeakSet,ow=function(){return new dI({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Er,xo,jv,Bv,fh,ph,Me,si,wo,Yl,mh,gh,ii,Cr,ea,na,De,ra,bo,Rp,sa,vh,Kl,Ao,ln,So,_t,Wg,lw,cw,uw,Gg,hw,$C,VC,WC,GC,Xg,Yg,dw;class dI{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:i,contentsObj:l,richText:c,parent:h,rect:f,parentRect:p,open:g,commentManager:v=null}){P(this,_t);P(this,Er,null);P(this,xo,k(this,_t,WC).bind(this));P(this,jv,k(this,_t,dw).bind(this));P(this,Bv,k(this,_t,Yg).bind(this));P(this,fh,k(this,_t,Xg).bind(this));P(this,ph,null);P(this,Me,null);P(this,si,null);P(this,wo,null);P(this,Yl,null);P(this,mh,null);P(this,gh,null);P(this,ii,!1);P(this,Cr,null);P(this,ea,null);P(this,na,null);P(this,De,null);P(this,ra,null);P(this,bo,null);P(this,Rp,null);P(this,sa,null);P(this,vh,null);P(this,Kl,null);P(this,Ao,!1);P(this,ln,null);P(this,So,null);w(this,Me,e),w(this,vh,r),w(this,si,l),w(this,sa,c),w(this,mh,h),w(this,ph,t),w(this,Rp,f),w(this,gh,p),w(this,Yl,n),w(this,Er,v),w(this,ln,n[0]),w(this,wo,fv.toDateObject(i)),this.trigger=n.flatMap(x=>x.getElementsToTriggerPopup()),v||(k(this,_t,Wg).call(this),o(this,Me).hidden=!0,g&&k(this,_t,Xg).call(this))}renderCommentButton(){if(o(this,De)){o(this,De).parentNode||o(this,ln).container.after(o(this,De));return}if(o(this,ra)||k(this,_t,lw).call(this),!o(this,ra))return;const{signal:e}=w(this,ea,new AbortController),t=o(this,ln).hasOwnCommentButton,n=()=>{o(this,Er).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{o(this,Er).toggleCommentPopup(this,!1,!0,!t)},i=()=>{o(this,Er).toggleCommentPopup(this,!1,!1)};if(t){w(this,De,o(this,ln).container);for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",o(this,xo),{signal:e}),l.addEventListener("click",n,{signal:e}),l.addEventListener("pointerenter",r,{signal:e}),l.addEventListener("pointerleave",i,{signal:e}),l.classList.add("popupTriggerArea")}else{const l=w(this,De,document.createElement("button"));l.className="annotationCommentButton";const c=o(this,ln).container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),k(this,_t,uw).call(this),k(this,_t,cw).call(this),l.addEventListener("keydown",o(this,xo),{signal:e}),l.addEventListener("click",n,{signal:e}),l.addEventListener("pointerenter",r,{signal:e}),l.addEventListener("pointerleave",i,{signal:e}),c.after(l)}}get commentButtonColor(){const{color:e,opacity:t}=o(this,ln).commentData;return e?o(this,mh)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=o(this,De))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:r,modificationDate:i}=o(this,ln).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:r,modificationDate:i}}get elementBeforePopup(){return o(this,De)}get comment(){return o(this,So)||w(this,So,o(this,ln).commentText),o(this,So)}set comment(e){e!==this.comment&&(o(this,ln).commentText=w(this,So,e))}focus(){var e;(e=o(this,ln).container)==null||e.focus()}get parentBoundingClientRect(){return o(this,ln).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){o(this,De)&&(o(this,De).classList.toggle("selected",e),o(this,De).ariaExpanded=t)}setSelectedCommentButton(e){o(this,De).classList.toggle("selected",e)}get commentPopupPosition(){if(o(this,bo))return o(this,bo);const{x:e,y:t,height:n}=o(this,De).getBoundingClientRect(),{x:r,y:i,width:l,height:c}=o(this,ln).layer.getBoundingClientRect();return[(e-r)/l,(t+n-i)/c]}set commentPopupPosition(e){w(this,bo,e)}hasDefaultPopupPosition(){return o(this,bo)===null}get commentButtonPosition(){return o(this,ra)}get commentButtonWidth(){return o(this,De).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=o(this,bo)||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:i,y:l,width:c,height:h}=r;o(this,Er).showDialog(null,this,i+t*c,l+n*h,{...e,parentDimensions:r})}render(){var n,r;if(o(this,Cr))return;const e=w(this,Cr,document.createElement("div"));if(e.className="popup",o(this,ph)){const i=e.style.outlineColor=pt.makeHexColor(...o(this,ph));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");if(t.className="header",(n=o(this,vh))!=null&&n.str){const i=document.createElement("span");i.className="title",t.append(i),{dir:i.dir,str:i.textContent}=o(this,vh)}if(e.append(t),o(this,wo)){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:o(this,wo).valueOf()})),i.dateTime=o(this,wo).toISOString(),t.append(i)}xE({html:o(this,_t,Gg)||o(this,si).str,dir:(r=o(this,si))==null?void 0:r.dir,className:"popupContent"},e),o(this,Me).append(e)}updateEdited({rect:e,popup:t,deleted:n}){var r;if(o(this,Er)){n?(this.remove(),w(this,So,null)):t&&(t.deleted?this.remove():(k(this,_t,uw).call(this),w(this,So,t.text))),e&&(w(this,ra,null),k(this,_t,lw).call(this),k(this,_t,cw).call(this));return}if(n||t!=null&&t.deleted){this.remove();return}k(this,_t,Wg).call(this),o(this,Kl)||w(this,Kl,{contentsObj:o(this,si),richText:o(this,sa)}),e&&w(this,na,null),t&&t.text&&(w(this,sa,k(this,_t,VC).call(this,t.text)),w(this,wo,fv.toDateObject(t.date)),w(this,si,null)),(r=o(this,Cr))==null||r.remove(),w(this,Cr,null)}resetEdited(){var e;o(this,Kl)&&({contentsObj:Qe(this,si)._,richText:Qe(this,sa)._}=o(this,Kl),w(this,Kl,null),(e=o(this,Cr))==null||e.remove(),w(this,Cr,null),w(this,na,null))}remove(){var e,t,n;if((e=o(this,ea))==null||e.abort(),w(this,ea,null),(t=o(this,Cr))==null||t.remove(),w(this,Cr,null),w(this,Ao,!1),w(this,ii,!1),(n=o(this,De))==null||n.remove(),w(this,De,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){w(this,Ao,this.isVisible),o(this,Ao)&&(o(this,Me).hidden=!0)}maybeShow(){o(this,Er)||(k(this,_t,Wg).call(this),o(this,Ao)&&(o(this,Cr)||k(this,_t,Yg).call(this),w(this,Ao,!1),o(this,Me).hidden=!1))}get isVisible(){return o(this,Er)?!1:o(this,Me).hidden===!1}}Er=new WeakMap,xo=new WeakMap,jv=new WeakMap,Bv=new WeakMap,fh=new WeakMap,ph=new WeakMap,Me=new WeakMap,si=new WeakMap,wo=new WeakMap,Yl=new WeakMap,mh=new WeakMap,gh=new WeakMap,ii=new WeakMap,Cr=new WeakMap,ea=new WeakMap,na=new WeakMap,De=new WeakMap,ra=new WeakMap,bo=new WeakMap,Rp=new WeakMap,sa=new WeakMap,vh=new WeakMap,Kl=new WeakMap,Ao=new WeakMap,ln=new WeakMap,So=new WeakMap,_t=new WeakSet,Wg=function(){var t;if(o(this,ea))return;w(this,ea,new AbortController);const{signal:e}=o(this,ea);for(const n of this.trigger)n.addEventListener("click",o(this,fh),{signal:e}),n.addEventListener("pointerenter",o(this,Bv),{signal:e}),n.addEventListener("pointerleave",o(this,jv),{signal:e}),n.classList.add("popupTriggerArea");for(const n of o(this,Yl))(t=n.container)==null||t.addEventListener("keydown",o(this,xo),{signal:e})},lw=function(){const e=o(this,Yl).find(t=>t.hasCommentButton);e&&w(this,ra,e._normalizePoint(e.commentButtonPosition))},cw=function(){if(o(this,ln).extraPopupElement&&!o(this,ln).editor)return;o(this,De)||this.renderCommentButton();const[e,t]=o(this,ra),{style:n}=o(this,De);n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`},uw=function(){o(this,ln).extraPopupElement||(o(this,De)||this.renderCommentButton(),o(this,De).style.backgroundColor=this.commentButtonColor||"")},Gg=function(){const e=o(this,sa),t=o(this,si);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&o(this,sa).html||null},hw=function(){var e,t,n;return((n=(t=(e=o(this,_t,Gg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},$C=function(){var e,t,n;return((n=(t=(e=o(this,_t,Gg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},VC=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:o(this,_t,$C),fontSize:o(this,_t,hw)?`calc(${o(this,_t,hw)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:r});return n},WC=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&o(this,ii))&&k(this,_t,Xg).call(this)},GC=function(){if(o(this,na)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:i}}}=o(this,mh);let l=!!o(this,gh),c=l?o(this,gh):o(this,Rp);for(const A of o(this,Yl))if(!c||pt.intersect(A.data.rect,c)!==null){c=A.data.rect,l=!0;break}const h=pt.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),p=l?c[2]-c[0]+5:0,g=h[0]+p,v=h[1];w(this,na,[100*(g-r)/t,100*(v-i)/n]);const{style:x}=o(this,Me);x.left=`${o(this,na)[0]}%`,x.top=`${o(this,na)[1]}%`},Xg=function(){if(o(this,Er)){o(this,Er).toggleCommentPopup(this,!1);return}w(this,ii,!o(this,ii)),o(this,ii)?(k(this,_t,Yg).call(this),o(this,Me).addEventListener("click",o(this,fh)),o(this,Me).addEventListener("keydown",o(this,xo))):(k(this,_t,dw).call(this),o(this,Me).removeEventListener("click",o(this,fh)),o(this,Me).removeEventListener("keydown",o(this,xo)))},Yg=function(){o(this,Cr)||this.render(),this.isVisible?o(this,ii)&&o(this,Me).classList.add("focused"):(k(this,_t,GC).call(this),o(this,Me).hidden=!1,o(this,Me).style.zIndex=parseInt(o(this,Me).style.zIndex)+1e3)},dw=function(){o(this,Me).classList.remove("focused"),!(o(this,ii)||!this.isVisible)&&(o(this,Me).hidden=!0,o(this,Me).style.zIndex=parseInt(o(this,Me).style.zIndex)-1e3)};class XC extends Ne{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ot.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var Ip;class fI extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,Ip,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),l=w(this,Ip,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return o(this,Ip)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ip=new WeakMap;var Mp;class pI extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,Mp,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,c=w(this,Mp,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",n-l),c.setAttribute("height",r-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),i.append(c),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return o(this,Mp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mp=new WeakMap;var Dp;class mI extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,Dp,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,c=w(this,Dp,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",r/2),c.setAttribute("rx",n/2-l/2),c.setAttribute("ry",r/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),i.append(c),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return o(this,Dp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dp=new WeakMap;var Lp;class YC extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,Lp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:i},width:l,height:c}=this;if(!n)return this.container;const h=this.svgFactory.create(l,c,!0);let f=[];for(let g=0,v=n.length;g<v;g+=2){const x=n[g]-t[0],A=t[3]-n[g+1];f.push(`${x},${A}`)}f=f.join(" ");const p=w(this,Lp,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",f),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return o(this,Lp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lp=new WeakMap;class gI extends YC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class vI extends Ne{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var Op,Ql,Fp,fw;class n1 extends Ne{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,Fp);P(this,Op,null);P(this,Ql,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ot.HIGHLIGHT:Ot.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:r,borderStyle:i,popupRef:l}}=this,{transform:c,width:h,height:f}=k(this,Fp,fw).call(this,n,t),p=this.svgFactory.create(h,f,!0),g=w(this,Op,this.svgFactory.createElement("svg:g"));p.append(g),g.setAttribute("stroke-width",i.width||1),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit",10),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),g.setAttribute("transform",c);for(let v=0,x=r.length;v<x;v++){const A=this.svgFactory.createElement(this.svgElementName);o(this,Ql).push(A),A.setAttribute("points",r[v].join(",")),g.append(A)}return!l&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(p),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:r,rect:i}=t,l=o(this,Op);if(n>=0&&l.setAttribute("stroke-width",n||1),r)for(let c=0,h=o(this,Ql).length;c<h;c++)o(this,Ql)[c].setAttribute("points",r[c].join(","));if(i){const{transform:c,width:h,height:f}=k(this,Fp,fw).call(this,this.data.rotation,i);l.parentElement.setAttribute("viewBox",`0 0 ${h} ${f}`),l.setAttribute("transform",c)}}getElementsToTriggerPopup(){return o(this,Ql)}addHighlightArea(){this.container.classList.add("highlightArea")}}Op=new WeakMap,Ql=new WeakMap,Fp=new WeakSet,fw=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class KC extends Ne{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ot.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class yI extends Ne{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class xI extends Ne{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class wI extends Ne{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class QC extends Ne{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ot.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var jp,Bp,pw;class bI extends Ne{constructor(t){var r;super(t,{isRenderable:!0});P(this,Bp);P(this,jp,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",k(this,Bp,pw).bind(this)),w(this,jp,r);const{isMac:i}=en.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(i?l.metaKey:l.ctrlKey)&&k(this,Bp,pw).call(this)}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return o(this,jp)}addHighlightArea(){this.container.classList.add("highlightArea")}}jp=new WeakMap,Bp=new WeakSet,pw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Jl,Zl,yh,Eo,_p,ql,Tr,Up,pa,Kg,gw;const u1=class u1{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:i,viewport:l,structTreeLayer:c,commentManager:h,linkService:f,annotationStorage:p}){P(this,pa);P(this,Jl,null);P(this,Zl,null);P(this,yh,null);P(this,Eo,new Map);P(this,_p,null);P(this,ql,null);P(this,Tr,[]);P(this,Up,!1);this.div=e,w(this,Jl,t),w(this,Zl,n),w(this,_p,c||null),w(this,ql,f||null),w(this,yh,p||new Zw),this.page=i,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=h||null}hasEditableAnnotations(){return o(this,Eo).size>0}async render(e){var c;const{annotations:t}=e,n=this.div;wc(n,this.viewport);const r=new Map,i=[],l={data:null,layer:n,linkService:o(this,ql),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new bv,annotationStorage:o(this,yh),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const h of t){if(h.noHTML)continue;const f=h.annotationType===Ve.POPUP;if(f){const v=r.get(h.id);if(!v)continue;if(!this._commentManager){i.push(h);continue}l.elements=v}else if(h.rect[2]===h.rect[0]||h.rect[3]===h.rect[1])continue;l.data=h;const p=lx.create(l);if(!p.isRenderable)continue;if(!f&&(o(this,Tr).push(p),h.popupRef)){const v=r.get(h.popupRef);v?v.push(p):r.set(h.popupRef,[p])}const g=p.render();h.hidden&&(g.style.visibility="hidden"),p._isEditable&&(o(this,Eo).set(p.data.id,p),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(p))}await k(this,pa,Kg).call(this);for(const h of i){const f=l.elements=r.get(h.id);l.data=h;const p=lx.create(l);if(!p.isRenderable)continue;const g=p.render();p.contentElement.id=`${ou}${h.id}`,h.hidden&&(g.style.visibility="hidden"),f.at(-1).container.after(g)}k(this,pa,gw).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:o(this,ql),svgFactory:new bv,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=u1._defaultBorderStyle),t.data=n;const r=lx.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${ou}${n.id}`,o(this,Tr).push(r))}await k(this,pa,Kg).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,wc(t,{rotation:e.rotation}),k(this,pa,gw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(o(this,Eo).values())}getEditableAnnotation(e){return o(this,Eo).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:r}=e,i=new iI({data:{id:n,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:o(this,ql),annotationStorage:o(this,yh)});return i.render(),i.contentElement.id=`${ou}${n}`,i.createOrUpdatePopup(),o(this,Tr).push(i),i}removeAnnotation(e){var r;const t=o(this,Tr).findIndex(i=>i.data.id===e);if(t<0)return;const[n]=o(this,Tr).splice(t,1);(r=o(this,Jl))==null||r.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);k(this,pa,Kg).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Dt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:qc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Jl=new WeakMap,Zl=new WeakMap,yh=new WeakMap,Eo=new WeakMap,_p=new WeakMap,ql=new WeakMap,Tr=new WeakMap,Up=new WeakMap,pa=new WeakSet,Kg=async function(){var n,r,i;if(o(this,Tr).length===0)return;this.div.replaceChildren();const e=[];if(!o(this,Up)){w(this,Up,!0);for(const{contentElement:l,data:{id:c}}of o(this,Tr)){const h=l.id=`${ou}${c}`;e.push((n=o(this,_p))==null?void 0:n.getAriaAttributes(h).then(f=>{if(f)for(const[p,g]of f)l.setAttribute(p,g)}))}}o(this,Tr).sort(({data:{rect:[l,c,h,f]}},{data:{rect:[p,g,v,x]}})=>{if(l===h&&c===f)return 1;if(p===v&&g===x)return-1;const A=f,b=c,E=(c+f)/2,T=x,R=g,N=(g+x)/2;if(E>=T&&N<=b)return-1;if(N>=A&&E<=R)return 1;const D=(l+h)/2,M=(p+v)/2;return D-M});const t=document.createDocumentFragment();for(const l of o(this,Tr))t.append(l.container),this._commentManager?(i=((r=l.extraPopupElement)==null?void 0:r.popup)||l.popup)==null||i.renderCommentButton():l.extraPopupElement&&t.append(l.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),o(this,Jl))for(const l of o(this,Tr))o(this,Jl).addPointerInTextLayer(l.contentElement,!1)},gw=function(){var t;if(!o(this,Zl))return;const e=this.div;for(const[n,r]of o(this,Zl)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:l}=i;l?l.nodeName==="CANVAS"?l.replaceWith(r):l.classList.contains("annotationContent")?l.after(r):l.before(r):i.append(r);const c=o(this,Eo).get(n);c&&(c._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,i.id,r),c._hasNoCanvas=!1):c.canvas=r)}o(this,Zl).clear()};let mw=u1;const kg=/\r\n?|\n/g;var Pr,zp,tc,kr,Xe,JC,ZC,qC,Qg,ma,Jg,Zg,tT,yw,eT;const xe=class xe extends ge{constructor(t){super({...t,name:"freeTextEditor"});P(this,Xe);P(this,Pr,"");P(this,zp,`${this.id}-editor`);P(this,tc,null);P(this,kr);K(this,"_colorPicker",null);this.color=t.color||xe._defaultColor||ge._defaultLineColor,w(this,kr,t.fontSize||xe._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=xe.prototype,n=l=>l.isEmpty(),r=bc.TRANSLATE_SMALL,i=bc.TRANSLATE_BIG;return Dt(this,"_keyboardManager",new um([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}]]))}static initialize(t,n){ge.initialize(t,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case $t.FREETEXT_SIZE:xe._defaultFontSize=n;break;case $t.FREETEXT_COLOR:xe._defaultColor=n;break}}updateParams(t,n){switch(t){case $t.FREETEXT_SIZE:k(this,Xe,JC).call(this,n);break;case $t.FREETEXT_COLOR:k(this,Xe,ZC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[$t.FREETEXT_SIZE,xe._defaultFontSize],[$t.FREETEXT_COLOR,xe._defaultColor||ge._defaultLineColor]]}get propertiesToUpdate(){return[[$t.FREETEXT_SIZE,o(this,kr)],[$t.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new wv(this)),[["colorPicker",this._colorPicker]]}get colorType(){return $t.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-xe._internalPadding*t,-(xe._internalPadding+o(this,kr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),w(this,tc,new AbortController);const t=this._uiManager.combinedSignal(o(this,tc));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",o(this,zp)),this._isDraggable=!0,(t=o(this,tc))==null||t.abort(),w(this,tc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=o(this,Pr),n=w(this,Pr,k(this,Xe,qC).call(this).trimEnd());if(t===n)return;const r=i=>{if(w(this,Pr,i),!i){this.remove();return}k(this,Xe,Zg).call(this),this._uiManager.rebuild(this),k(this,Xe,Qg).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),k(this,Xe,Qg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){xe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",o(this,zp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${o(this,kr)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,f]=this.getInitialTranslation();[h,f]=this.pageTranslationToScreen(h,f);const[p,g]=this.pageDimensions,[v,x]=this.pageTranslation;let A,b;switch(this.rotation){case 0:A=t+(c[0]-v)/p,b=n+this.height-(c[1]-x)/g;break;case 90:A=t+(c[0]-v)/p,b=n-(c[1]-x)/g,[h,f]=[f,-h];break;case 180:A=t-this.width+(c[0]-v)/p,b=n-(c[1]-x)/g,[h,f]=[-h,-f];break;case 270:A=t+(c[0]-v-this.height*g)/p,b=n+(c[1]-x-this.width*p)/g,[h,f]=[-f,h];break}this.setAt(A*i,b*l,h,f)}else this._moveAfterPaste(t,n);k(this,Xe,Zg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var A,b,E;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const i=k(A=xe,ma,yw).call(A,n.getData("text")||"").replaceAll(kg,`
`);if(!i)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!i.includes(`
`)){c.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:f}=c,p=[],g=[];if(h.nodeType===Node.TEXT_NODE){const T=h.parentElement;if(g.push(h.nodeValue.slice(f).replaceAll(kg,"")),T!==this.editorDiv){let R=p;for(const N of this.editorDiv.childNodes){if(N===T){R=g;continue}R.push(k(b=xe,ma,Jg).call(b,N))}}p.push(h.nodeValue.slice(0,f).replaceAll(kg,""))}else if(h===this.editorDiv){let T=p,R=0;for(const N of this.editorDiv.childNodes)R++===f&&(T=g),T.push(k(E=xe,ma,Jg).call(E,N))}w(this,Pr,`${p.join(`
`)}${i}${g.join(`
`)}`),k(this,Xe,Zg).call(this);const v=new Range;let x=Math.sumPrecise(p.map(T=>T.length));for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const R=T.nodeValue.length;if(x<=R){v.setStart(T,x),v.setEnd(T,x);break}x-=R}l.removeAllRanges(),l.addRange(v)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=xe._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,n,r){var c;let i=null;if(t instanceof XC){const{data:{defaultAppearanceData:{fontSize:h,fontColor:f},rect:p,rotation:g,id:v,popupRef:x,richText:A,contentsObj:b,creationDate:E,modificationDate:T},textContent:R,textPosition:N,parent:{page:{pageNumber:D}}}=t;if(!R||R.length===0)return null;i=t={annotationType:Ot.FREETEXT,color:Array.from(f),fontSize:h,value:R.join(`
`),position:N,pageIndex:D-1,rect:p.slice(0),rotation:g,annotationElementId:v,id:v,deleted:!1,popupRef:x,comment:(b==null?void 0:b.str)||null,richText:A,creationDate:E,modificationDate:T}}const l=await super.deserialize(t,n,r);return w(l,kr,t.fontSize),l.color=pt.makeHexColor(...t.color),w(l,Pr,k(c=xe,ma,yw).call(c,t.value)),l._initialData=i,t.comment&&l.setCommentData(t),l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=ge._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:n,fontSize:o(this,kr),value:k(this,Xe,tT).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!k(this,Xe,eT).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(!n)return null;const{style:r}=n;r.fontSize=`calc(${o(this,kr)}px * var(--total-scale-factor))`,r.color=this.color,n.replaceChildren();for(const i of o(this,Pr).split(`
`)){const l=document.createElement("div");l.append(i?document.createTextNode(i):document.createElement("br")),n.append(l)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:o(this,Pr)}}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Pr=new WeakMap,zp=new WeakMap,tc=new WeakMap,kr=new WeakMap,Xe=new WeakSet,JC=function(t){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-o(this,kr))*this.parentScale),w(this,kr,i),k(this,Xe,Qg).call(this)},r=o(this,kr);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$t.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ZC=function(t){const n=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$t.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},qC=function(){var r;const t=[];this.editorDiv.normalize();let n=null;for(const i of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(k(r=xe,ma,Jg).call(r,i)),n=i);return t.join(`
`)},Qg=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:l}=this,c=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",i.div.append(this.div),r=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},ma=new WeakSet,Jg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(kg,"")},Zg=function(){if(this.editorDiv.replaceChildren(),!!o(this,Pr))for(const t of o(this,Pr).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},tT=function(){return o(this,Pr).replaceAll(""," ")},yw=function(t){return t.replaceAll(" ","")},eT=function(t){const{value:n,fontSize:r,color:i,pageIndex:l}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((c,h)=>c!==i[h])||t.pageIndex!==l},P(xe,ma),K(xe,"_freeTextDefaultContent",""),K(xe,"_internalPadding",0),K(xe,"_defaultColor",null),K(xe,"_defaultFontSize",10),K(xe,"_type","freetext"),K(xe,"_editorType",Ot.FREETEXT);let vw=xe;class xt{toSVGPath(){Jt("Abstract method `toSVGPath` must be implemented.")}get box(){Jt("Abstract getter `box` must be implemented.")}serialize(e,t){Jt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,i,l){l||(l=new Float32Array(e.length));for(let c=0,h=e.length;c<h;c+=2)l[c]=t+e[c]*r,l[c+1]=n+e[c+1]*i;return l}static _rescaleAndSwap(e,t,n,r,i,l){l||(l=new Float32Array(e.length));for(let c=0,h=e.length;c<h;c+=2)l[c]=t+e[c+1]*r,l[c+1]=n+e[c]*i;return l}static _translate(e,t,n,r){r||(r=new Float32Array(e.length));for(let i=0,l=e.length;i<l;i+=2)r[i]=t+e[i],r[i+1]=n+e[i+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,r,i){switch(i){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,i,l){return[(e+5*n)/6,(t+5*r)/6,(5*n+i)/6,(5*r+l)/6,(n+i)/2,(r+l)/2]}}K(xt,"PRECISION",1e-4);var Nr,ks,xh,wh,ai,zt,ec,nc,Hp,$p,bh,Ah,Co,Vp,_v,Uv,tn,Jd,nT,rT,sT,iT,aT,oT;const Ni=class Ni{constructor({x:e,y:t},n,r,i,l,c=0){P(this,tn);P(this,Nr);P(this,ks,[]);P(this,xh);P(this,wh);P(this,ai,[]);P(this,zt,new Float32Array(18));P(this,ec);P(this,nc);P(this,Hp);P(this,$p);P(this,bh);P(this,Ah);P(this,Co,[]);w(this,Nr,n),w(this,Ah,i*r),w(this,wh,l),o(this,zt).set([NaN,NaN,NaN,NaN,e,t],6),w(this,xh,c),w(this,$p,o(Ni,Vp)*r),w(this,Hp,o(Ni,Uv)*r),w(this,bh,r),o(this,Co).push(e,t)}isEmpty(){return isNaN(o(this,zt)[8])}add({x:e,y:t}){var z;w(this,ec,e),w(this,nc,t);const[n,r,i,l]=o(this,Nr);let[c,h,f,p]=o(this,zt).subarray(8,12);const g=e-f,v=t-p,x=Math.hypot(g,v);if(x<o(this,Hp))return!1;const A=x-o(this,$p),b=A/x,E=b*g,T=b*v;let R=c,N=h;c=f,h=p,f+=E,p+=T,(z=o(this,Co))==null||z.push(e,t);const D=-T/A,M=E/A,L=D*o(this,Ah),F=M*o(this,Ah);return o(this,zt).set(o(this,zt).subarray(2,8),0),o(this,zt).set([f+L,p+F],4),o(this,zt).set(o(this,zt).subarray(14,18),12),o(this,zt).set([f-L,p-F],16),isNaN(o(this,zt)[6])?(o(this,ai).length===0&&(o(this,zt).set([c+L,h+F],2),o(this,ai).push(NaN,NaN,NaN,NaN,(c+L-n)/i,(h+F-r)/l),o(this,zt).set([c-L,h-F],14),o(this,ks).push(NaN,NaN,NaN,NaN,(c-L-n)/i,(h-F-r)/l)),o(this,zt).set([R,N,c,h,f,p],6),!this.isEmpty()):(o(this,zt).set([R,N,c,h,f,p],6),Math.abs(Math.atan2(N-h,R-c)-Math.atan2(T,E))<Math.PI/2?([c,h,f,p]=o(this,zt).subarray(2,6),o(this,ai).push(NaN,NaN,NaN,NaN,((c+f)/2-n)/i,((h+p)/2-r)/l),[c,h,R,N]=o(this,zt).subarray(14,18),o(this,ks).push(NaN,NaN,NaN,NaN,((R+c)/2-n)/i,((N+h)/2-r)/l),!0):([R,N,c,h,f,p]=o(this,zt).subarray(0,6),o(this,ai).push(((R+5*c)/6-n)/i,((N+5*h)/6-r)/l,((5*c+f)/6-n)/i,((5*h+p)/6-r)/l,((c+f)/2-n)/i,((h+p)/2-r)/l),[f,p,c,h,R,N]=o(this,zt).subarray(12,18),o(this,ks).push(((R+5*c)/6-n)/i,((N+5*h)/6-r)/l,((5*c+f)/6-n)/i,((5*h+p)/6-r)/l,((c+f)/2-n)/i,((h+p)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=o(this,ai),t=o(this,ks);if(isNaN(o(this,zt)[6])&&!this.isEmpty())return k(this,tn,nT).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);k(this,tn,sT).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return k(this,tn,rT).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,i,l){return new lT(e,t,n,r,i,l)}getOutlines(){var g;const e=o(this,ai),t=o(this,ks),n=o(this,zt),[r,i,l,c]=o(this,Nr),h=new Float32Array((((g=o(this,Co))==null?void 0:g.length)??0)+2);for(let v=0,x=h.length-2;v<x;v+=2)h[v]=(o(this,Co)[v]-r)/l,h[v+1]=(o(this,Co)[v+1]-i)/c;if(h[h.length-2]=(o(this,ec)-r)/l,h[h.length-1]=(o(this,nc)-i)/c,isNaN(n[6])&&!this.isEmpty())return k(this,tn,iT).call(this,h);const f=new Float32Array(o(this,ai).length+24+o(this,ks).length);let p=e.length;for(let v=0;v<p;v+=2){if(isNaN(e[v])){f[v]=f[v+1]=NaN;continue}f[v]=e[v],f[v+1]=e[v+1]}p=k(this,tn,oT).call(this,f,p);for(let v=t.length-6;v>=6;v-=6)for(let x=0;x<6;x+=2){if(isNaN(t[v+x])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=t[v+x],f[p+1]=t[v+x+1],p+=2}return k(this,tn,aT).call(this,f,p),this.newFreeDrawOutline(f,h,o(this,Nr),o(this,bh),o(this,xh),o(this,wh))}};Nr=new WeakMap,ks=new WeakMap,xh=new WeakMap,wh=new WeakMap,ai=new WeakMap,zt=new WeakMap,ec=new WeakMap,nc=new WeakMap,Hp=new WeakMap,$p=new WeakMap,bh=new WeakMap,Ah=new WeakMap,Co=new WeakMap,Vp=new WeakMap,_v=new WeakMap,Uv=new WeakMap,tn=new WeakSet,Jd=function(){const e=o(this,zt).subarray(4,6),t=o(this,zt).subarray(16,18),[n,r,i,l]=o(this,Nr);return[(o(this,ec)+(e[0]-t[0])/2-n)/i,(o(this,nc)+(e[1]-t[1])/2-r)/l,(o(this,ec)+(t[0]-e[0])/2-n)/i,(o(this,nc)+(t[1]-e[1])/2-r)/l]},nT=function(){const[e,t,n,r]=o(this,Nr),[i,l,c,h]=k(this,tn,Jd).call(this);return`M${(o(this,zt)[2]-e)/n} ${(o(this,zt)[3]-t)/r} L${(o(this,zt)[4]-e)/n} ${(o(this,zt)[5]-t)/r} L${i} ${l} L${c} ${h} L${(o(this,zt)[16]-e)/n} ${(o(this,zt)[17]-t)/r} L${(o(this,zt)[14]-e)/n} ${(o(this,zt)[15]-t)/r} Z`},rT=function(e){const t=o(this,ks);e.push(`L${t[4]} ${t[5]} Z`)},sT=function(e){const[t,n,r,i]=o(this,Nr),l=o(this,zt).subarray(4,6),c=o(this,zt).subarray(16,18),[h,f,p,g]=k(this,tn,Jd).call(this);e.push(`L${(l[0]-t)/r} ${(l[1]-n)/i} L${h} ${f} L${p} ${g} L${(c[0]-t)/r} ${(c[1]-n)/i}`)},iT=function(e){const t=o(this,zt),[n,r,i,l]=o(this,Nr),[c,h,f,p]=k(this,tn,Jd).call(this),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(t[2]-n)/i,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-n)/i,(t[5]-r)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(t[16]-n)/i,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-n)/i,(t[15]-r)/l],0),this.newFreeDrawOutline(g,e,o(this,Nr),o(this,bh),o(this,xh),o(this,wh))},aT=function(e,t){const n=o(this,ks);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},oT=function(e,t){const n=o(this,zt).subarray(4,6),r=o(this,zt).subarray(16,18),[i,l,c,h]=o(this,Nr),[f,p,g,v]=k(this,tn,Jd).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-i)/c,(n[1]-l)/h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(r[0]-i)/c,(r[1]-l)/h],t),t+=24},P(Ni,Vp,8),P(Ni,_v,2),P(Ni,Uv,o(Ni,Vp)+o(Ni,_v));let Av=Ni;var Sh,rc,ia,Wp,Rr,Gp,ze,zv,cT;class lT extends xt{constructor(t,n,r,i,l,c){super();P(this,zv);P(this,Sh);P(this,rc,new Float32Array(4));P(this,ia);P(this,Wp);P(this,Rr);P(this,Gp);P(this,ze);w(this,ze,t),w(this,Rr,n),w(this,Sh,r),w(this,Gp,i),w(this,ia,l),w(this,Wp,c),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],k(this,zv,cT).call(this,c);const[h,f,p,g]=o(this,rc);for(let v=0,x=t.length;v<x;v+=2)t[v]=(t[v]-h)/p,t[v+1]=(t[v+1]-f)/g;for(let v=0,x=n.length;v<x;v+=2)n[v]=(n[v]-h)/p,n[v+1]=(n[v+1]-f)/g}toSVGPath(){const t=[`M${o(this,ze)[4]} ${o(this,ze)[5]}`];for(let n=6,r=o(this,ze).length;n<r;n+=6){if(isNaN(o(this,ze)[n])){t.push(`L${o(this,ze)[n+4]} ${o(this,ze)[n+5]}`);continue}t.push(`C${o(this,ze)[n]} ${o(this,ze)[n+1]} ${o(this,ze)[n+2]} ${o(this,ze)[n+3]} ${o(this,ze)[n+4]} ${o(this,ze)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,i],l){const c=r-t,h=i-n;let f,p;switch(l){case 0:f=xt._rescale(o(this,ze),t,i,c,-h),p=xt._rescale(o(this,Rr),t,i,c,-h);break;case 90:f=xt._rescaleAndSwap(o(this,ze),t,n,c,h),p=xt._rescaleAndSwap(o(this,Rr),t,n,c,h);break;case 180:f=xt._rescale(o(this,ze),r,n,-c,h),p=xt._rescale(o(this,Rr),r,n,-c,h);break;case 270:f=xt._rescaleAndSwap(o(this,ze),r,i,-c,-h),p=xt._rescaleAndSwap(o(this,Rr),r,i,-c,-h);break}return{outline:Array.from(f),points:[Array.from(p)]}}get box(){return o(this,rc)}newOutliner(t,n,r,i,l,c=0){return new Av(t,n,r,i,l,c)}getNewOutline(t,n){const[r,i,l,c]=o(this,rc),[h,f,p,g]=o(this,Sh),v=l*p,x=c*g,A=r*p+h,b=i*g+f,E=this.newOutliner({x:o(this,Rr)[0]*v+A,y:o(this,Rr)[1]*x+b},o(this,Sh),o(this,Gp),t,o(this,Wp),n??o(this,ia));for(let T=2;T<o(this,Rr).length;T+=2)E.add({x:o(this,Rr)[T]*v+A,y:o(this,Rr)[T+1]*x+b});return E.getOutlines()}}Sh=new WeakMap,rc=new WeakMap,ia=new WeakMap,Wp=new WeakMap,Rr=new WeakMap,Gp=new WeakMap,ze=new WeakMap,zv=new WeakSet,cT=function(t){const n=o(this,ze);let r=n[4],i=n[5];const l=[r,i,r,i];let c=r,h=i,f=r,p=i;const g=t?Math.max:Math.min,v=new Float32Array(4);for(let A=6,b=n.length;A<b;A+=6){const E=n[A+4],T=n[A+5];isNaN(n[A])?(pt.pointBoundingBox(E,T,l),h>T?(c=E,h=T):h===T&&(c=g(c,E)),p<T?(f=E,p=T):p===T&&(f=g(f,E))):(v[0]=v[1]=1/0,v[2]=v[3]=-1/0,pt.bezierBoundingBox(r,i,...n.slice(A,A+6),v),pt.rectBoundingBox(v[0],v[1],v[2],v[3],l),h>v[1]?(c=v[0],h=v[1]):h===v[1]&&(c=g(c,v[0])),p<v[3]?(f=v[2],p=v[3]):p===v[3]&&(f=g(f,v[2]))),r=E,i=T}const x=o(this,rc);x[0]=l[0]-o(this,ia),x[1]=l[1]-o(this,ia),x[2]=l[2]-l[0]+2*o(this,ia),x[3]=l[3]-l[1]+2*o(this,ia),this.firstPoint=[c,h],this.lastPoint=[f,p]};var Xp,Yp,Kp,To,Ns,Yn,uT,qg,hT,dT,ww;class xw{constructor(e,t=0,n=0,r=!0){P(this,Yn);P(this,Xp);P(this,Yp);P(this,Kp);P(this,To,[]);P(this,Ns,[]);const i=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:b,y:E,width:T,height:R}of e){const N=Math.floor((b-t)/l)*l,D=Math.ceil((b+T+t)/l)*l,M=Math.floor((E-t)/l)*l,L=Math.ceil((E+R+t)/l)*l,F=[N,M,L,!0],U=[D,M,L,!1];o(this,To).push(F,U),pt.rectBoundingBox(N,M,D,L,i)}const c=i[2]-i[0]+2*n,h=i[3]-i[1]+2*n,f=i[0]-n,p=i[1]-n;let g=r?-1/0:1/0,v=1/0;const x=o(this,To).at(r?-1:-2),A=[x[0],x[2]];for(const b of o(this,To)){const[E,T,R,N]=b;!N&&r?T<v?(v=T,g=E):T===v&&(g=Math.max(g,E)):N&&!r&&(T<v?(v=T,g=E):T===v&&(g=Math.min(g,E))),b[0]=(E-f)/c,b[1]=(T-p)/h,b[2]=(R-p)/h}w(this,Xp,new Float32Array([f,p,c,h])),w(this,Yp,[g,v]),w(this,Kp,A)}getOutlines(){o(this,To).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of o(this,To))t[3]?(e.push(...k(this,Yn,ww).call(this,t)),k(this,Yn,hT).call(this,t)):(k(this,Yn,dT).call(this,t),e.push(...k(this,Yn,ww).call(this,t)));return k(this,Yn,uT).call(this,e)}}Xp=new WeakMap,Yp=new WeakMap,Kp=new WeakMap,To=new WeakMap,Ns=new WeakMap,Yn=new WeakSet,uT=function(e){const t=[],n=new Set;for(const l of e){const[c,h,f]=l;t.push([c,h,l],[c,f,l])}t.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=t.length;l<c;l+=2){const h=t[l][2],f=t[l+1][2];h.push(f),f.push(h),n.add(h),n.add(f)}const r=[];let i;for(;n.size>0;){const l=n.values().next().value;let[c,h,f,p,g]=l;n.delete(l);let v=c,x=h;for(i=[c,f],r.push(i);;){let A;if(n.has(p))A=p;else if(n.has(g))A=g;else break;n.delete(A),[c,h,f,p,g]=A,v!==c&&(i.push(v,x,c,x===h?h:f),v=c),x=x===h?f:h}i.push(v,x)}return new AI(r,o(this,Xp),o(this,Yp),o(this,Kp))},qg=function(e){const t=o(this,Ns);let n=0,r=t.length-1;for(;n<=r;){const i=n+r>>1,l=t[i][0];if(l===e)return i;l<e?n=i+1:r=i-1}return r+1},hT=function([,e,t]){const n=k(this,Yn,qg).call(this,e);o(this,Ns).splice(n,0,[e,t])},dT=function([,e,t]){const n=k(this,Yn,qg).call(this,e);for(let r=n;r<o(this,Ns).length;r++){const[i,l]=o(this,Ns)[r];if(i!==e)break;if(i===e&&l===t){o(this,Ns).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[i,l]=o(this,Ns)[r];if(i!==e)break;if(i===e&&l===t){o(this,Ns).splice(r,1);return}}},ww=function(e){const[t,n,r]=e,i=[[t,n,r]],l=k(this,Yn,qg).call(this,r);for(let c=0;c<l;c++){const[h,f]=o(this,Ns)[c];for(let p=0,g=i.length;p<g;p++){const[,v,x]=i[p];if(!(f<=v||x<=h)){if(v>=h){if(x>f)i[p][1]=f;else{if(g===1)return[];i.splice(p,1),p--,g--}continue}i[p][2]=h,x>f&&i.push([t,f,x])}}}return i};var Qp,Eh;class AI extends xt{constructor(t,n,r,i){super();P(this,Qp);P(this,Eh);w(this,Eh,t),w(this,Qp,n),this.firstPoint=r,this.lastPoint=i}toSVGPath(){const t=[];for(const n of o(this,Eh)){let[r,i]=n;t.push(`M${r} ${i}`);for(let l=2;l<n.length;l+=2){const c=n[l],h=n[l+1];c===r?(t.push(`V${h}`),i=h):h===i&&(t.push(`H${c}`),r=c)}t.push("Z")}return t.join(" ")}serialize([t,n,r,i],l){const c=[],h=r-t,f=i-n;for(const p of o(this,Eh)){const g=new Array(p.length);for(let v=0;v<p.length;v+=2)g[v]=t+p[v]*h,g[v+1]=i-p[v+1]*f;c.push(g)}return c}get box(){return o(this,Qp)}get classNamesForOutlining(){return["highlightOutline"]}}Qp=new WeakMap,Eh=new WeakMap;class bw extends Av{newFreeDrawOutline(e,t,n,r,i,l){return new SI(e,t,n,r,i,l)}}class SI extends lT{newOutliner(e,t,n,r,i,l=0){return new bw(e,t,n,r,i,l)}}var Ch,Jp,aa,sc,Zp,cr,qp,tm,ic,Ir,Mr,wn,Th,Ph,jn,kh,os,em,Bt,Aw,tv,fT,pT,mT,Sw,rl,cs,iu,gT,ev,nv,vT,yT,xT,wT,bT;const Kt=class Kt extends ge{constructor(t){super({...t,name:"highlightEditor"});P(this,Bt);P(this,Ch,null);P(this,Jp,0);P(this,aa);P(this,sc,null);P(this,Zp,null);P(this,cr,null);P(this,qp,null);P(this,tm,0);P(this,ic,null);P(this,Ir,null);P(this,Mr,null);P(this,wn,!1);P(this,Th,null);P(this,Ph,null);P(this,jn,null);P(this,kh,"");P(this,os);P(this,em,"");this.color=t.color||Kt._defaultColor,w(this,os,t.thickness||Kt._defaultThickness),this.opacity=t.opacity||Kt._defaultOpacity,w(this,aa,t.boxes||null),w(this,em,t.methodOfCreation||""),w(this,kh,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(w(this,wn,!0),k(this,Bt,tv).call(this,t),k(this,Bt,rl).call(this)):o(this,aa)&&(w(this,Ch,t.anchorNode),w(this,Jp,t.anchorOffset),w(this,qp,t.focusNode),w(this,tm,t.focusOffset),k(this,Bt,Aw).call(this),k(this,Bt,rl).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Kt.prototype;return Dt(this,"_keyboardManager",new um([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:o(this,wn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:o(this,os),methodOfCreation:o(this,em)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;ge.initialize(t,n),Kt._defaultColor||(Kt._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case $t.HIGHLIGHT_COLOR:Kt._defaultColor=n;break;case $t.HIGHLIGHT_THICKNESS:Kt._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return o(this,Ph)}get commentButtonPosition(){return o(this,Th)}updateParams(t,n){switch(t){case $t.HIGHLIGHT_COLOR:k(this,Bt,fT).call(this,n);break;case $t.HIGHLIGHT_THICKNESS:k(this,Bt,pT).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[$t.HIGHLIGHT_COLOR,Kt._defaultColor],[$t.HIGHLIGHT_THICKNESS,Kt._defaultThickness]]}get propertiesToUpdate(){return[[$t.HIGHLIGHT_COLOR,this.color||Kt._defaultColor],[$t.HIGHLIGHT_THICKNESS,o(this,os)||Kt._defaultThickness],[$t.HIGHLIGHT_FREE,o(this,wn)]]}onUpdatedColor(){var t,n;(t=this.parent)==null||t.drawLayer.updateProperties(o(this,Mr),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=o(this,Zp))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",w(this,Zp,new xv({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,Bt,nv).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,k(this,Bt,nv).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){k(this,Bt,Sw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Bt,rl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?k(this,Bt,Sw).call(this):t&&(k(this,Bt,rl).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var i,l,c;const{drawLayer:n}=this.parent;let r;o(this,wn)?(t=(t-this.rotation+360)%360,r=k(i=Kt,cs,iu).call(i,o(this,Ir).box,t)):r=k(l=Kt,cs,iu).call(l,[this.x,this.y,this.width,this.height],t),n.updateProperties(o(this,Mr),{bbox:r,root:{"data-main-rotation":t}}),n.updateProperties(o(this,jn),{bbox:k(c=Kt,cs,iu).call(c,o(this,cr).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();o(this,kh)&&(t.setAttribute("aria-label",o(this,kh)),t.setAttribute("role","mark")),o(this,wn)?t.classList.add("free"):this.div.addEventListener("keydown",k(this,Bt,gT).bind(this),{signal:this._uiManager._signal});const n=w(this,ic,document.createElement("div"));return t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=o(this,sc),this.setDims(),kE(this,o(this,ic),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(o(this,jn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(o(this,jn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:k(this,Bt,ev).call(this,!0);break;case 1:case 3:k(this,Bt,ev).call(this,!1);break}}select(){var t;super.select(),o(this,jn)&&((t=this.parent)==null||t.drawLayer.updateProperties(o(this,jn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),o(this,jn)&&((t=this.parent)==null||t.drawLayer.updateProperties(o(this,jn),{rootClass:{selected:!1}}),o(this,wn)||k(this,Bt,ev).call(this,!1))}get _mustFixPosition(){return!o(this,wn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(o(this,Mr),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(o(this,jn),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:r,x:i,y:l}){const{x:c,y:h,width:f,height:p}=r.getBoundingClientRect(),g=new AbortController,v=t.combinedSignal(g),x=A=>{g.abort(),k(this,cs,wT).call(this,t,A)};window.addEventListener("blur",x,{signal:v}),window.addEventListener("pointerup",x,{signal:v}),window.addEventListener("pointerdown",Oe,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",hs,{signal:v}),r.addEventListener("pointermove",k(this,cs,xT).bind(this,t),{signal:v}),this._freeHighlight=new bw({x:i,y:l},[c,h,f,p],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,r){var b,E,T,R;let i=null;if(t instanceof KC){const{data:{quadPoints:N,rect:D,rotation:M,id:L,color:F,opacity:U,popupRef:z,richText:G,contentsObj:X,creationDate:ot,modificationDate:q},parent:{page:{pageNumber:st}}}=t;i=t={annotationType:Ot.HIGHLIGHT,color:Array.from(F),opacity:U,quadPoints:N,boxes:null,pageIndex:st-1,rect:D.slice(0),rotation:M,annotationElementId:L,id:L,deleted:!1,popupRef:z,richText:G,comment:(X==null?void 0:X.str)||null,creationDate:ot,modificationDate:q}}else if(t instanceof n1){const{data:{inkLists:N,rect:D,rotation:M,id:L,color:F,borderStyle:{rawWidth:U},popupRef:z,richText:G,contentsObj:X,creationDate:ot,modificationDate:q},parent:{page:{pageNumber:st}}}=t;i=t={annotationType:Ot.HIGHLIGHT,color:Array.from(F),thickness:U,inkLists:N,boxes:null,pageIndex:st-1,rect:D.slice(0),rotation:M,annotationElementId:L,id:L,deleted:!1,popupRef:z,richText:G,comment:(X==null?void 0:X.str)||null,creationDate:ot,modificationDate:q}}const{color:l,quadPoints:c,inkLists:h,opacity:f}=t,p=await super.deserialize(t,n,r);p.color=pt.makeHexColor(...l),p.opacity=f||1,h&&w(p,os,t.thickness),p._initialData=i,t.comment&&p.setCommentData(t);const[g,v]=p.pageDimensions,[x,A]=p.pageTranslation;if(c){const N=w(p,aa,[]);for(let D=0;D<c.length;D+=8)N.push({x:(c[D]-x)/g,y:1-(c[D+1]-A)/v,width:(c[D+2]-c[D])/g,height:(c[D+1]-c[D+5])/v});k(b=p,Bt,Aw).call(b),k(E=p,Bt,rl).call(E),p.rotate(p.rotation)}else if(h){w(p,wn,!0);const N=h[0],D={x:N[0]-x,y:v-(N[1]-A)},M=new bw(D,[0,0,g,v],1,o(p,os)/2,!0,.001);for(let U=0,z=N.length;U<z;U+=2)D.x=N[U]-x,D.y=v-(N[U+1]-A),M.add(D);const{id:L,clipPathId:F}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:p.color,"fill-opacity":p._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:M.toSVGPath()}},!0,!0);k(T=p,Bt,tv).call(T,{highlightOutlines:M.getOutlines(),highlightId:L,clipPathId:F}),k(R=p,Bt,rl).call(R),p.rotate(p.parentRotation)}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=ge._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:n,opacity:this.opacity,thickness:o(this,os),quadPoints:k(this,Bt,vT).call(this),outlines:k(this,Bt,yT).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!k(this,Bt,bT).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Ch=new WeakMap,Jp=new WeakMap,aa=new WeakMap,sc=new WeakMap,Zp=new WeakMap,cr=new WeakMap,qp=new WeakMap,tm=new WeakMap,ic=new WeakMap,Ir=new WeakMap,Mr=new WeakMap,wn=new WeakMap,Th=new WeakMap,Ph=new WeakMap,jn=new WeakMap,kh=new WeakMap,os=new WeakMap,em=new WeakMap,Bt=new WeakSet,Aw=function(){const t=new xw(o(this,aa),.001);w(this,Ir,t.getOutlines()),[this.x,this.y,this.width,this.height]=o(this,Ir).box;const n=new xw(o(this,aa),.0025,.001,this._uiManager.direction==="ltr");w(this,cr,n.getOutlines());const{firstPoint:r}=o(this,Ir);w(this,Th,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:i}=o(this,cr);w(this,Ph,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},tv=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var v,x;if(w(this,Ir,t),w(this,cr,t.getNewOutline(o(this,os)/2+1.5,.0025)),n>=0)w(this,Mr,n),w(this,sc,r),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),w(this,jn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:o(this,cr).box,path:{d:o(this,cr).toSVGPath()}},!0));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(o(this,Mr),{bbox:k(v=Kt,cs,iu).call(v,o(this,Ir).box,(A-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(o(this,jn),{bbox:k(x=Kt,cs,iu).call(x,o(this,cr).box,A),path:{d:o(this,cr).toSVGPath()}})}const[l,c,h,f]=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=h,this.height=f;break;case 90:{const[A,b]=this.parentDimensions;this.x=c,this.y=1-l,this.width=h*b/A,this.height=f*A/b;break}case 180:this.x=1-l,this.y=1-c,this.width=h,this.height=f;break;case 270:{const[A,b]=this.parentDimensions;this.x=1-c,this.y=l,this.width=h*b/A,this.height=f*A/b;break}}const{firstPoint:p}=t;w(this,Th,[(p[0]-l)/h,(p[1]-c)/f]);const{lastPoint:g}=o(this,cr);w(this,Ph,[(g[0]-l)/h,(g[1]-c)/f])},fT=function(t){const n=(l,c)=>{this.color=l,this.opacity=c,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:n.bind(this,t,Kt._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$t.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},pT=function(t){const n=o(this,os),r=i=>{w(this,os,i),k(this,Bt,mT).call(this,i)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},mT=function(t){o(this,wn)&&(k(this,Bt,tv).call(this,{highlightOutlines:o(this,Ir).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},Sw=function(){o(this,Mr)===null||!this.parent||(this.parent.drawLayer.remove(o(this,Mr)),w(this,Mr,null),this.parent.drawLayer.remove(o(this,jn)),w(this,jn,null))},rl=function(t=this.parent){o(this,Mr)===null&&({id:Qe(this,Mr)._,clipPathId:Qe(this,sc)._}=t.drawLayer.draw({bbox:o(this,Ir).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:o(this,wn)},path:{d:o(this,Ir).toSVGPath()}},!1,!0),w(this,jn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:o(this,wn)},bbox:o(this,cr).box,path:{d:o(this,cr).toSVGPath()}},o(this,wn))),o(this,ic)&&(o(this,ic).style.clipPath=o(this,sc)))},cs=new WeakSet,iu=function([t,n,r,i],l){switch(l){case 90:return[1-n-i,t,i,r];case 180:return[1-t-r,1-n-i,r,i];case 270:return[n,1-t-r,i,r]}return[t,n,r,i]},gT=function(t){Kt._keyboardManager.exec(this,t)},ev=function(t){if(!o(this,Ch))return;const n=window.getSelection();t?n.setPosition(o(this,Ch),o(this,Jp)):n.setPosition(o(this,qp),o(this,tm))},nv=function(){return o(this,wn)?this.rotation:0},vT=function(){if(o(this,wn))return null;const[t,n]=this.pageDimensions,[r,i]=this.pageTranslation,l=o(this,aa),c=new Float32Array(l.length*8);let h=0;for(const{x:f,y:p,width:g,height:v}of l){const x=f*t+r,A=(1-p)*n+i;c[h]=c[h+4]=x,c[h+1]=c[h+3]=A,c[h+2]=c[h+6]=x+g*t,c[h+5]=c[h+7]=A-v*n,h+=8}return c},yT=function(t){return o(this,Ir).serialize(t,k(this,Bt,nv).call(this))},xT=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},wT=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},bT=function(t){const{color:n}=this._initialData;return this.hasEditedComment||t.color.some((r,i)=>r!==n[i])},P(Kt,cs),K(Kt,"_defaultColor",null),K(Kt,"_defaultOpacity",1),K(Kt,"_defaultThickness",12),K(Kt,"_type","highlight"),K(Kt,"_editorType",Ot.HIGHLIGHT),K(Kt,"_freeHighlightId",-1),K(Kt,"_freeHighlight",null),K(Kt,"_freeHighlightClipId","");let Sv=Kt;var ac;class AT{constructor(){P(this,ac,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){o(this,ac)[e]=t}toSVGProperties(){const e=o(this,ac);return w(this,ac,Object.create(null)),{root:e}}reset(){w(this,ac,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Jt("Not implemented")}}ac=new WeakMap;var Dr,Nh,cn,oc,lc,Gt,Ew,Cw,Tw,Zd,ST,rv,qd,au;const Ht=class Ht extends ge{constructor(t){super(t);P(this,Gt);P(this,Dr,null);P(this,Nh);K(this,"_colorPicker",null);K(this,"_drawId",null);w(this,Nh,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(k(this,Gt,Ew).call(this,t),k(this,Gt,Zd).call(this))}static _mergeSVGProperties(t,n){const r=new Set(Object.keys(t));for(const[i,l]of Object.entries(n))r.has(i)?Object.assign(t[i],l):t[i]=l;return t}static getDefaultDrawingOptions(t){Jt("Not implemented")}static get typesMap(){Jt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(o(Ht,cn).updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)t.push([r,n[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)t.push([r,n[i]]);return t}_updateProperty(t,n,r){const i=this._drawingOptions,l=i[n],c=h=>{var p;i.updateProperty(n,h);const f=o(this,Dr).updateProperty(n,h);f&&k(this,Gt,qd).call(this,f),(p=this.parent)==null||p.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:c.bind(this,r),undo:c.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties(o(this,Dr).getPathResizingSVGProperties(k(this,Gt,rv).call(this)),{bbox:k(this,Gt,au).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties(o(this,Dr).getPathResizedSVGProperties(k(this,Gt,rv).call(this)),{bbox:k(this,Gt,au).call(this)}))}_onTranslating(t,n){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:k(this,Gt,au).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties(o(this,Dr).getPathTranslatedSVGProperties(k(this,Gt,rv).call(this),this.parentDimensions),{bbox:k(this,Gt,au).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,o(this,Nh)&&(w(this,Nh,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){k(this,Gt,Tw).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Gt,Zd).call(this),k(this,Gt,qd).call(this,o(this,Dr).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),k(this,Gt,Tw).call(this)):t&&(this._uiManager.addShouldRescale(this),k(this,Gt,Zd).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ht._mergeSVGProperties({bbox:k(this,Gt,au).call(this)},o(this,Dr).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&k(this,Gt,qd).call(this,o(this,Dr).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),r}static createDrawerInstance(t,n,r,i,l){Jt("Not implemented")}static startDrawing(t,n,r,i){var E;const{target:l,offsetX:c,offsetY:h,pointerId:f,pointerType:p}=i;if(Mn.isInitializedAndDifferentPointerType(p))return;const{viewport:{rotation:g}}=t,{width:v,height:x}=l.getBoundingClientRect(),A=w(Ht,oc,new AbortController),b=t.combinedSignal(A);if(Mn.setPointer(p,f),window.addEventListener("pointerup",T=>{Mn.isSamePointerIdOrRemove(T.pointerId)&&this._endDraw(T)},{signal:b}),window.addEventListener("pointercancel",T=>{Mn.isSamePointerIdOrRemove(T.pointerId)&&this._currentParent.endDrawingSession()},{signal:b}),window.addEventListener("pointerdown",T=>{Mn.isSamePointerType(T.pointerType)&&(Mn.initializeAndAddPointerId(T.pointerId),o(Ht,cn).isCancellable()&&(o(Ht,cn).removeLastElement(),o(Ht,cn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",hs,{signal:b}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),l.addEventListener("touchmove",T=>{Mn.isSameTimeStamp(T.timeStamp)&&Oe(T)},{signal:b}),t.toggleDrawing(),(E=n._editorUndoBar)==null||E.hide(),o(Ht,cn)){t.drawLayer.updateProperties(this._currentDrawId,o(Ht,cn).startNew(c,h,v,x,g));return}n.updateUIForDefaultProperties(this),w(Ht,cn,this.createDrawerInstance(c,h,v,x,g)),w(Ht,lc,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(o(Ht,lc).toSVGProperties(),o(Ht,cn).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Mn.isSameTimeStamp(t.timeStamp),!o(Ht,cn))return;const{offsetX:n,offsetY:r,pointerId:i}=t;if(Mn.isSamePointerId(i)){if(Mn.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,o(Ht,cn).add(n,r)),Mn.setTimeStamp(t.timeStamp),Oe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,w(Ht,cn,null),w(Ht,lc,null),Mn.clearTimeStamp()),o(Ht,oc)&&(o(Ht,oc).abort(),w(Ht,oc,null),Mn.clearPointerIds())}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,o(Ht,cn).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=o(Ht,cn),i=this._currentDrawId,l=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(l))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:$t.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack($t.DRAW_STEP),!o(Ht,cn).isEmpty()){const{pageDimensions:[r,i],scale:l}=n,c=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:o(Ht,cn).getOutlines(r*l,i*l,l,this._INNER_MARGIN),drawingOptions:o(Ht,lc),mustBeCommitted:!t});return this._cleanup(!0),c}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,r,i,l,c){Jt("Not implemented")}static async deserialize(t,n,r){var g,v;const{rawDims:{pageWidth:i,pageHeight:l,pageX:c,pageY:h}}=n.viewport,f=this.deserializeDraw(c,h,i,l,this._INNER_MARGIN,t),p=await super.deserialize(t,n,r);return p.createDrawingOptions(t),k(g=p,Gt,Ew).call(g,{drawOutlines:f}),k(v=p,Gt,Zd).call(v),p.onScaleChanging(),p.rotate(),p}serializeDraw(t){const[n,r]=this.pageTranslation,[i,l]=this.pageDimensions;return o(this,Dr).serialize([n,r,i,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Dr=new WeakMap,Nh=new WeakMap,cn=new WeakMap,oc=new WeakMap,lc=new WeakMap,Gt=new WeakSet,Ew=function({drawOutlines:t,drawId:n,drawingOptions:r}){w(this,Dr,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=k(this,Gt,Cw).call(this,t,this.parent),k(this,Gt,qd).call(this,t.box)},Cw=function(t,n){const{id:r}=n.drawLayer.draw(Ht._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},Tw=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Zd=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=k(this,Gt,Cw).call(this,o(this,Dr),t)}},ST=function([t,n,r,i]){const{parentDimensions:[l,c],rotation:h}=this;switch(h){case 90:return[n,1-t,r*(c/l),i*(l/c)];case 180:return[1-t,1-n,r,i];case 270:return[1-n,t,r*(c/l),i*(l/c)];default:return[t,n,r,i]}},rv=function(){const{x:t,y:n,width:r,height:i,parentDimensions:[l,c],rotation:h}=this;switch(h){case 90:return[1-n,t,r*(l/c),i*(c/l)];case 180:return[1-t,1-n,r,i];case 270:return[n,1-t,r*(l/c),i*(c/l)];default:return[t,n,r,i]}},qd=function(t){[this.x,this.y,this.width,this.height]=k(this,Gt,ST).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},au=function(){const{x:t,y:n,width:r,height:i,rotation:l,parentRotation:c,parentDimensions:[h,f]}=this;switch((l*4+c)/90){case 1:return[1-n-i,t,i,r];case 2:return[1-t-r,1-n-i,r,i];case 3:return[n,1-t-r,i,r];case 4:return[t,n-r*(h/f),i*(f/h),r*(h/f)];case 5:return[1-n,t,r*(h/f),i*(f/h)];case 6:return[1-t-i*(f/h),1-n,i*(f/h),r*(h/f)];case 7:return[n-r*(h/f),1-t-i*(f/h),r*(h/f),i*(f/h)];case 8:return[t-r,n-i,r,i];case 9:return[1-n,t-r,i,r];case 10:return[1-t,1-n,r,i];case 11:return[n-i,1-t,i,r];case 12:return[t-i*(f/h),n,i*(f/h),r*(h/f)];case 13:return[1-n-r*(h/f),t-i*(f/h),r*(h/f),i*(f/h)];case 14:return[1-t,1-n-r*(h/f),i*(f/h),r*(h/f)];case 15:return[n,1-t,r*(h/f),i*(f/h)];default:return[t,n,r,i]}},K(Ht,"_currentDrawId",-1),K(Ht,"_currentParent",null),P(Ht,cn,null),P(Ht,oc,null),P(Ht,lc,null),K(Ht,"_INNER_MARGIN",3);let Ev=Ht;var oi,un,hn,cc,Rh,$n,bn,ls,uc,hc,dc,Ih,sv;class EI{constructor(e,t,n,r,i,l){P(this,Ih);P(this,oi,new Float64Array(6));P(this,un);P(this,hn);P(this,cc);P(this,Rh);P(this,$n);P(this,bn,"");P(this,ls,0);P(this,uc,new hm);P(this,hc);P(this,dc);w(this,hc,n),w(this,dc,r),w(this,cc,i),w(this,Rh,l),[e,t]=k(this,Ih,sv).call(this,e,t);const c=w(this,un,[NaN,NaN,NaN,NaN,e,t]);w(this,$n,[e,t]),w(this,hn,[{line:c,points:o(this,$n)}]),o(this,oi).set(c,0)}updateProperty(e,t){e==="stroke-width"&&w(this,Rh,t)}isEmpty(){return!o(this,hn)||o(this,hn).length===0}isCancellable(){return o(this,$n).length<=10}add(e,t){[e,t]=k(this,Ih,sv).call(this,e,t);const[n,r,i,l]=o(this,oi).subarray(2,6),c=e-i,h=t-l;return Math.hypot(o(this,hc)*c,o(this,dc)*h)<=2?null:(o(this,$n).push(e,t),isNaN(n)?(o(this,oi).set([i,l,e,t],2),o(this,un).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(o(this,oi)[0])&&o(this,un).splice(6,6),o(this,oi).set([n,r,i,l,e,t],0),o(this,un).push(...xt.createBezierPoints(n,r,i,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(o(this,$n).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,i){w(this,hc,n),w(this,dc,r),w(this,cc,i),[e,t]=k(this,Ih,sv).call(this,e,t);const l=w(this,un,[NaN,NaN,NaN,NaN,e,t]);w(this,$n,[e,t]);const c=o(this,hn).at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),o(this,hn).push({line:l,points:o(this,$n)}),o(this,oi).set(l,0),w(this,ls,0),this.toSVGPath(),null}getLastElement(){return o(this,hn).at(-1)}setLastElement(e){return o(this,hn)?(o(this,hn).push(e),w(this,un,e.line),w(this,$n,e.points),w(this,ls,0),{path:{d:this.toSVGPath()}}):o(this,uc).setLastElement(e)}removeLastElement(){if(!o(this,hn))return o(this,uc).removeLastElement();o(this,hn).pop(),w(this,bn,"");for(let e=0,t=o(this,hn).length;e<t;e++){const{line:n,points:r}=o(this,hn)[e];w(this,un,n),w(this,$n,r),w(this,ls,0),this.toSVGPath()}return{path:{d:o(this,bn)}}}toSVGPath(){const e=xt.svgRound(o(this,un)[4]),t=xt.svgRound(o(this,un)[5]);if(o(this,$n).length===2)return w(this,bn,`${o(this,bn)} M ${e} ${t} Z`),o(this,bn);if(o(this,$n).length<=6){const r=o(this,bn).lastIndexOf("M");w(this,bn,`${o(this,bn).slice(0,r)} M ${e} ${t}`),w(this,ls,6)}if(o(this,$n).length===4){const r=xt.svgRound(o(this,un)[10]),i=xt.svgRound(o(this,un)[11]);return w(this,bn,`${o(this,bn)} L ${r} ${i}`),w(this,ls,12),o(this,bn)}const n=[];o(this,ls)===0&&(n.push(`M ${e} ${t}`),w(this,ls,6));for(let r=o(this,ls),i=o(this,un).length;r<i;r+=6){const[l,c,h,f,p,g]=o(this,un).slice(r,r+6).map(xt.svgRound);n.push(`C${l} ${c} ${h} ${f} ${p} ${g}`)}return w(this,bn,o(this,bn)+n.join(" ")),w(this,ls,o(this,un).length),o(this,bn)}getOutlines(e,t,n,r){const i=o(this,hn).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),o(this,uc).build(o(this,hn),e,t,n,o(this,cc),o(this,Rh),r),w(this,oi,null),w(this,un,null),w(this,hn,null),w(this,bn,null),o(this,uc)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}oi=new WeakMap,un=new WeakMap,hn=new WeakMap,cc=new WeakMap,Rh=new WeakMap,$n=new WeakMap,bn=new WeakMap,ls=new WeakMap,uc=new WeakMap,hc=new WeakMap,dc=new WeakMap,Ih=new WeakSet,sv=function(e,t){return xt._normalizePoint(e,t,o(this,hc),o(this,dc),o(this,cc))};var Vn,nm,rm,Lr,li,ci,Mh,Dh,fc,En,Pi,ET,CT,TT;class hm extends xt{constructor(){super(...arguments);P(this,En);P(this,Vn);P(this,nm,0);P(this,rm);P(this,Lr);P(this,li);P(this,ci);P(this,Mh);P(this,Dh);P(this,fc)}build(t,n,r,i,l,c,h){w(this,li,n),w(this,ci,r),w(this,Mh,i),w(this,Dh,l),w(this,fc,c),w(this,rm,h??0),w(this,Lr,t),k(this,En,CT).call(this)}get thickness(){return o(this,fc)}setLastElement(t){return o(this,Lr).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return o(this,Lr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of o(this,Lr)){if(t.push(`M${xt.svgRound(n[4])} ${xt.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${xt.svgRound(n[10])} ${xt.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[l,c,h,f,p,g]=n.subarray(r,r+6).map(xt.svgRound);t.push(`C${l} ${c} ${h} ${f} ${p} ${g}`)}}return t.join("")}serialize([t,n,r,i],l){const c=[],h=[],[f,p,g,v]=k(this,En,ET).call(this);let x,A,b,E,T,R,N,D,M;switch(o(this,Dh)){case 0:M=xt._rescale,x=t,A=n+i,b=r,E=-i,T=t+f*r,R=n+(1-p-v)*i,N=t+(f+g)*r,D=n+(1-p)*i;break;case 90:M=xt._rescaleAndSwap,x=t,A=n,b=r,E=i,T=t+p*r,R=n+f*i,N=t+(p+v)*r,D=n+(f+g)*i;break;case 180:M=xt._rescale,x=t+r,A=n,b=-r,E=i,T=t+(1-f-g)*r,R=n+p*i,N=t+(1-f)*r,D=n+(p+v)*i;break;case 270:M=xt._rescaleAndSwap,x=t+r,A=n+i,b=-r,E=-i,T=t+(1-p-v)*r,R=n+(1-f-g)*i,N=t+(1-p)*r,D=n+(1-f)*i;break}for(const{line:L,points:F}of o(this,Lr))c.push(M(L,x,A,b,E,l?new Array(L.length):null)),h.push(M(F,x,A,b,E,l?new Array(F.length):null));return{lines:c,points:h,rect:[T,R,N,D]}}static deserialize(t,n,r,i,l,{paths:{lines:c,points:h},rotation:f,thickness:p}){const g=[];let v,x,A,b,E;switch(f){case 0:E=xt._rescale,v=-t/r,x=n/i+1,A=1/r,b=-1/i;break;case 90:E=xt._rescaleAndSwap,v=-n/i,x=-t/r,A=1/i,b=1/r;break;case 180:E=xt._rescale,v=t/r+1,x=-n/i,A=-1/r,b=1/i;break;case 270:E=xt._rescaleAndSwap,v=n/i+1,x=t/r+1,A=-1/i,b=-1/r;break}if(!c){c=[];for(const R of h){const N=R.length;if(N===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1]]));continue}if(N===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1],NaN,NaN,NaN,NaN,R[2],R[3]]));continue}const D=new Float32Array(3*(N-2));c.push(D);let[M,L,F,U]=R.subarray(0,4);D.set([NaN,NaN,NaN,NaN,M,L],0);for(let z=4;z<N;z+=2){const G=R[z],X=R[z+1];D.set(xt.createBezierPoints(M,L,F,U,G,X),(z-2)*3),[M,L,F,U]=[F,U,G,X]}}}for(let R=0,N=c.length;R<N;R++)g.push({line:E(c[R].map(D=>D??NaN),v,x,A,b),points:E(h[R].map(D=>D??NaN),v,x,A,b)});const T=new this.prototype.constructor;return T.build(g,r,i,1,f,p,l),T}get box(){return o(this,Vn)}updateProperty(t,n){return t==="stroke-width"?k(this,En,TT).call(this,n):null}updateParentDimensions([t,n],r){const[i,l]=k(this,En,Pi).call(this);w(this,li,t),w(this,ci,n),w(this,Mh,r);const[c,h]=k(this,En,Pi).call(this),f=c-i,p=h-l,g=o(this,Vn);return g[0]-=f,g[1]-=p,g[2]+=2*f,g[3]+=2*p,g}updateRotation(t){return w(this,nm,t),{path:{transform:this.rotationTransform}}}get viewBox(){return o(this,Vn).map(xt.svgRound).join(" ")}get defaultProperties(){const[t,n]=o(this,Vn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${xt.svgRound(t)} ${xt.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=o(this,Vn);let r=0,i=0,l=0,c=0,h=0,f=0;switch(o(this,nm)){case 90:i=n/t,l=-t/n,h=t;break;case 180:r=-1,c=-1,h=t,f=n;break;case 270:i=-n/t,l=t/n,f=n;break;default:return""}return`matrix(${r} ${i} ${l} ${c} ${xt.svgRound(h)} ${xt.svgRound(f)})`}getPathResizingSVGProperties([t,n,r,i]){const[l,c]=k(this,En,Pi).call(this),[h,f,p,g]=o(this,Vn);if(Math.abs(p-l)<=xt.PRECISION||Math.abs(g-c)<=xt.PRECISION){const E=t+r/2-(h+p/2),T=n+i/2-(f+g/2);return{path:{"transform-origin":`${xt.svgRound(t)} ${xt.svgRound(n)}`,transform:`${this.rotationTransform} translate(${E} ${T})`}}}const v=(r-2*l)/(p-2*l),x=(i-2*c)/(g-2*c),A=p/r,b=g/i;return{path:{"transform-origin":`${xt.svgRound(h)} ${xt.svgRound(f)}`,transform:`${this.rotationTransform} scale(${A} ${b}) translate(${xt.svgRound(l)} ${xt.svgRound(c)}) scale(${v} ${x}) translate(${xt.svgRound(-l)} ${xt.svgRound(-c)})`}}}getPathResizedSVGProperties([t,n,r,i]){const[l,c]=k(this,En,Pi).call(this),h=o(this,Vn),[f,p,g,v]=h;if(h[0]=t,h[1]=n,h[2]=r,h[3]=i,Math.abs(g-l)<=xt.PRECISION||Math.abs(v-c)<=xt.PRECISION){const T=t+r/2-(f+g/2),R=n+i/2-(p+v/2);for(const{line:N,points:D}of o(this,Lr))xt._translate(N,T,R,N),xt._translate(D,T,R,D);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${xt.svgRound(t)} ${xt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const x=(r-2*l)/(g-2*l),A=(i-2*c)/(v-2*c),b=-x*(f+l)+t+l,E=-A*(p+c)+n+c;if(x!==1||A!==1||b!==0||E!==0)for(const{line:T,points:R}of o(this,Lr))xt._rescale(T,b,E,x,A,T),xt._rescale(R,b,E,x,A,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${xt.svgRound(t)} ${xt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],r){const[i,l]=r,c=o(this,Vn),h=t-c[0],f=n-c[1];if(o(this,li)===i&&o(this,ci)===l)for(const{line:p,points:g}of o(this,Lr))xt._translate(p,h,f,p),xt._translate(g,h,f,g);else{const p=o(this,li)/i,g=o(this,ci)/l;w(this,li,i),w(this,ci,l);for(const{line:v,points:x}of o(this,Lr))xt._rescale(v,h,f,p,g,v),xt._rescale(x,h,f,p,g,x);c[2]*=p,c[3]*=g}return c[0]=t,c[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${xt.svgRound(t)} ${xt.svgRound(n)}`}}}get defaultSVGProperties(){const t=o(this,Vn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${xt.svgRound(t[0])} ${xt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Vn=new WeakMap,nm=new WeakMap,rm=new WeakMap,Lr=new WeakMap,li=new WeakMap,ci=new WeakMap,Mh=new WeakMap,Dh=new WeakMap,fc=new WeakMap,En=new WeakSet,Pi=function(t=o(this,fc)){const n=o(this,rm)+t/2*o(this,Mh);return o(this,Dh)%180===0?[n/o(this,li),n/o(this,ci)]:[n/o(this,ci),n/o(this,li)]},ET=function(){const[t,n,r,i]=o(this,Vn),[l,c]=k(this,En,Pi).call(this,0);return[t+l,n+c,r-2*l,i-2*c]},CT=function(){const t=w(this,Vn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of o(this,Lr)){if(i.length<=12){for(let h=4,f=i.length;h<f;h+=6)pt.pointBoundingBox(i[h],i[h+1],t);continue}let l=i[4],c=i[5];for(let h=6,f=i.length;h<f;h+=6){const[p,g,v,x,A,b]=i.subarray(h,h+6);pt.bezierBoundingBox(l,c,p,g,v,x,A,b,t),l=A,c=b}}const[n,r]=k(this,En,Pi).call(this);t[0]=An(t[0]-n,0,1),t[1]=An(t[1]-r,0,1),t[2]=An(t[2]+n,0,1),t[3]=An(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},TT=function(t){const[n,r]=k(this,En,Pi).call(this);w(this,fc,t);const[i,l]=k(this,En,Pi).call(this),[c,h]=[i-n,l-r],f=o(this,Vn);return f[0]-=c,f[1]-=h,f[2]+=2*c,f[3]+=2*h,f};class n0 extends AT{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:ge._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new n0(this._viewParameters);return e.updateAll(this),e}}var Hv,PT;const du=class du extends Ev{constructor(t){super({...t,name:"inkEditor"});P(this,Hv);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){ge.initialize(t,n),this._defaultDrawingOptions=new n0(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Dt(this,"typesMap",new Map([[$t.INK_THICKNESS,"stroke-width"],[$t.INK_COLOR,"stroke"],[$t.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,r,i,l){return new EI(t,n,r,i,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,r,i,l,c){return hm.deserialize(t,n,r,i,l,c)}static async deserialize(t,n,r){let i=null;if(t instanceof n1){const{data:{inkLists:c,rect:h,rotation:f,id:p,color:g,opacity:v,borderStyle:{rawWidth:x},popupRef:A,richText:b,contentsObj:E,creationDate:T,modificationDate:R},parent:{page:{pageNumber:N}}}=t;i=t={annotationType:Ot.INK,color:Array.from(g),thickness:x,opacity:v,paths:{points:c},boxes:null,pageIndex:N-1,rect:h.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:A,richText:b,comment:(E==null?void 0:E.str)||null,creationDate:T,modificationDate:R}}const l=await super.deserialize(t,n,r);return l._initialData=i,t.comment&&l.setCommentData(t),l}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new wv(this)),[["colorPicker",this._colorPicker]]}get colorType(){return $t.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:r}){this._drawingOptions=du.getDefaultDrawingOptions({stroke:pt.makeHexColor(...t),"stroke-width":n,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:i,"stroke-opacity":l,"stroke-width":c}}=this,h=Object.assign(super.serialize(t),{color:ge._colorManager.convert(i),opacity:l,thickness:c,paths:{lines:n,points:r}});return this.addComment(h),t?(h.isCopy=!0,h):this.annotationElementId&&!k(this,Hv,PT).call(this,h)?null:(h.id=this.annotationElementId,h)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:n,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};Hv=new WeakSet,PT=function(t){const{color:n,thickness:r,opacity:i,pageIndex:l}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((c,h)=>c!==n[h])||t.thickness!==r||t.opacity!==i||t.pageIndex!==l},K(du,"_type","ink"),K(du,"_editorType",Ot.INK),K(du,"_defaultDrawingOptions",null);let Pw=du;class kw extends hm{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}jt(9432);const Ng=8,Ld=3;var pc,qt,Nw,Rs,kT,NT,Rw,iv,RT,IT,MT,Iw,Mw,DT;class da{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:r},i,l,c,h){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const g=200,v=p.font=`${n} ${r} ${g}px ${t}`,{actualBoundingBoxLeft:x,actualBoundingBoxRight:A,actualBoundingBoxAscent:b,actualBoundingBoxDescent:E,fontBoundingBoxAscent:T,fontBoundingBoxDescent:R,width:N}=p.measureText(e),D=1.5,M=Math.ceil(Math.max(Math.abs(x)+Math.abs(A)||0,N)*D),L=Math.ceil(Math.max(Math.abs(b)+Math.abs(E)||g,Math.abs(T)+Math.abs(R)||g)*D);f=new OffscreenCanvas(M,L),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=v,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,M,L),p.fillStyle="black",p.fillText(e,M*(D-1)/2,L*(3-D)/2);const F=k(this,qt,Iw).call(this,p.getImageData(0,0,M,L).data),U=k(this,qt,MT).call(this,F),z=k(this,qt,Mw).call(this,U),G=k(this,qt,Rw).call(this,F,M,L,z);return this.processDrawnLines({lines:{curves:G,width:M,height:L},pageWidth:i,pageHeight:l,rotation:c,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(e,t,n,r,i){const[l,c,h]=k(this,qt,DT).call(this,e),[f,p]=k(this,qt,IT).call(this,l,c,h,Math.hypot(c,h)*o(this,pc).sigmaSFactor,o(this,pc).sigmaR,o(this,pc).kernelSize),g=k(this,qt,Mw).call(this,p),v=k(this,qt,Rw).call(this,f,c,h,g);return this.processDrawnLines({lines:{curves:v,width:c,height:h},pageWidth:t,pageHeight:n,rotation:r,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:i,mustSmooth:l,areContours:c}){r%180!==0&&([t,n]=[n,t]);const{curves:h,width:f,height:p}=e,g=e.thickness??0,v=[],x=Math.min(t/f,n/p),A=x/t,b=x/n,E=[];for(const{points:R}of h){const N=l?k(this,qt,RT).call(this,R):R;if(!N)continue;E.push(N);const D=N.length,M=new Float32Array(D),L=new Float32Array(3*(D===2?2:D-2));if(v.push({line:L,points:M}),D===2){M[0]=N[0]*A,M[1]=N[1]*b,L.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[F,U,z,G]=N;F*=A,U*=b,z*=A,G*=b,M.set([F,U,z,G],0),L.set([NaN,NaN,NaN,NaN,F,U],0);for(let X=4;X<D;X+=2){const ot=M[X]=N[X]*A,q=M[X+1]=N[X+1]*b;L.set(xt.createBezierPoints(F,U,z,G,ot,q),(X-2)*3),[F,U,z,G]=[z,G,ot,q]}}if(v.length===0)return null;const T=c?new kw:new hm;return T.build(v,t,n,1,r,c?0:g,i),{outline:T,newCurves:E,areContours:c,thickness:g,width:f,height:p}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:r,height:i}){let l=1/0,c=-1/0,h=0;for(const N of e){h+=N.length;for(let D=2,M=N.length;D<M;D++){const L=N[D]-N[D-2];l=Math.min(l,L),c=Math.max(c,L)}}let f;l>=-128&&c<=127?f=Int8Array:l>=-32768&&c<=32767?f=Int16Array:f=Int32Array;const p=e.length,g=Ng+Ld*p,v=new Uint32Array(g);let x=0;v[x++]=g*Uint32Array.BYTES_PER_ELEMENT+(h-2*p)*f.BYTES_PER_ELEMENT,v[x++]=0,v[x++]=r,v[x++]=i,v[x++]=t?0:1,v[x++]=Math.max(0,Math.floor(n??0)),v[x++]=p,v[x++]=f.BYTES_PER_ELEMENT;for(const N of e)v[x++]=N.length-2,v[x++]=N[0],v[x++]=N[1];const A=new CompressionStream("deflate-raw"),b=A.writable.getWriter();await b.ready,b.write(v);const E=f.prototype.constructor;for(const N of e){const D=new E(N.length-2);for(let M=2,L=N.length;M<L;M++)D[M-2]=N[M]-N[M-2];b.write(D)}b.close();const T=await new Response(A.readable).arrayBuffer();return new Uint8Array(T).toBase64()}static async decompressSignature(e){try{const t=Uint8Array.fromBase64(e),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),i=r.getWriter();await i.ready,i.write(t).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let l=null,c=0;for await(const N of n)l||(l=new Uint8Array(new Uint32Array(N.buffer,0,4)[0])),l.set(N,c),c+=N.length;const h=new Uint32Array(l.buffer,0,l.length>>2),f=h[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=h[2],g=h[3],v=h[4]===0,x=h[5],A=h[6],b=h[7],E=[],T=(Ng+Ld*A)*Uint32Array.BYTES_PER_ELEMENT;let R;switch(b){case Int8Array.BYTES_PER_ELEMENT:R=new Int8Array(l.buffer,T);break;case Int16Array.BYTES_PER_ELEMENT:R=new Int16Array(l.buffer,T);break;case Int32Array.BYTES_PER_ELEMENT:R=new Int32Array(l.buffer,T);break}c=0;for(let N=0;N<A;N++){const D=h[Ld*N+Ng],M=new Float32Array(D+2);E.push(M);for(let L=0;L<Ld-1;L++)M[L]=h[Ld*N+Ng+L+1];for(let L=0;L<D;L++)M[L+2]=M[L]+R[c++]}return{areContours:v,thickness:x,outlines:E,width:p,height:g}}catch(t){return Rt(`decompressSignature: ${t}`),null}}}pc=new WeakMap,qt=new WeakSet,Nw=function(e,t,n,r){return n-=e,r-=t,n===0?r>0?0:4:n===1?r+6:2-r},Rs=new WeakMap,kT=function(e,t,n,r,i,l,c){const h=k(this,qt,Nw).call(this,n,r,i,l);for(let f=0;f<8;f++){const p=(-f+h-c+16)%8,g=o(this,Rs)[2*p],v=o(this,Rs)[2*p+1];if(e[(n+g)*t+(r+v)]!==0)return p}return-1},NT=function(e,t,n,r,i,l,c){const h=k(this,qt,Nw).call(this,n,r,i,l);for(let f=0;f<8;f++){const p=(f+h+c+16)%8,g=o(this,Rs)[2*p],v=o(this,Rs)[2*p+1];if(e[(n+g)*t+(r+v)]!==0)return p}return-1},Rw=function(e,t,n,r){const i=e.length,l=new Int32Array(i);for(let p=0;p<i;p++)l[p]=e[p]<=r?1:0;for(let p=1;p<n-1;p++)l[p*t]=l[p*t+t-1]=0;for(let p=0;p<t;p++)l[p]=l[t*n-1-p]=0;let c=1,h;const f=[];for(let p=1;p<n-1;p++){h=1;for(let g=1;g<t-1;g++){const v=p*t+g,x=l[v];if(x===0)continue;let A=p,b=g;if(x===1&&l[v-1]===0)c+=1,b-=1;else if(x>=1&&l[v+1]===0)c+=1,b+=1,x>1&&(h=x);else{x!==1&&(h=Math.abs(x));continue}const E=[g,p],T=b===g+1,R={isHole:T,points:E,id:c,parent:0};f.push(R);let N;for(const X of f)if(X.id===h){N=X;break}N?N.isHole?R.parent=T?N.parent:h:R.parent=T?h:N.parent:R.parent=T?h:0;const D=k(this,qt,kT).call(this,l,t,p,g,A,b,0);if(D===-1){l[v]=-c,l[v]!==1&&(h=Math.abs(l[v]));continue}let M=o(this,Rs)[2*D],L=o(this,Rs)[2*D+1];const F=p+M,U=g+L;A=F,b=U;let z=p,G=g;for(;;){const X=k(this,qt,NT).call(this,l,t,z,G,A,b,1);M=o(this,Rs)[2*X],L=o(this,Rs)[2*X+1];const ot=z+M,q=G+L;E.push(q,ot);const st=z*t+G;if(l[st+1]===0?l[st]=-c:l[st]===1&&(l[st]=c),ot===p&&q===g&&z===F&&G===U){l[v]!==1&&(h=Math.abs(l[v]));break}else A=z,b=G,z=ot,G=q}}}return f},iv=function(e,t,n,r){if(n-t<=4){for(let F=t;F<n-2;F+=2)r.push(e[F],e[F+1]);return}const i=e[t],l=e[t+1],c=e[n-4]-i,h=e[n-3]-l,f=Math.hypot(c,h),p=c/f,g=h/f,v=p*l-g*i,x=h/c,A=1/f,b=Math.atan(x),E=Math.cos(b),T=Math.sin(b),R=A*(Math.abs(E)+Math.abs(T)),N=A*(1-R+R**2),D=Math.max(Math.atan(Math.abs(T+E)*N),Math.atan(Math.abs(T-E)*N));let M=0,L=t;for(let F=t+2;F<n-2;F+=2){const U=Math.abs(v-p*e[F+1]+g*e[F]);U>M&&(L=F,M=U)}M>(f*D)**2?(k(this,qt,iv).call(this,e,t,L+2,r),k(this,qt,iv).call(this,e,L,n,r)):r.push(i,l)},RT=function(e){const t=[],n=e.length;return k(this,qt,iv).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},IT=function(e,t,n,r,i,l){const c=new Float32Array(l**2),h=-2*r**2,f=l>>1;for(let b=0;b<l;b++){const E=(b-f)**2;for(let T=0;T<l;T++)c[b*l+T]=Math.exp((E+(T-f)**2)/h)}const p=new Float32Array(256),g=-2*i**2;for(let b=0;b<256;b++)p[b]=Math.exp(b**2/g);const v=e.length,x=new Uint8Array(v),A=new Uint32Array(256);for(let b=0;b<n;b++)for(let E=0;E<t;E++){const T=b*t+E,R=e[T];let N=0,D=0;for(let L=0;L<l;L++){const F=b+L-f;if(!(F<0||F>=n))for(let U=0;U<l;U++){const z=E+U-f;if(z<0||z>=t)continue;const G=e[F*t+z],X=c[L*l+U]*p[Math.abs(G-R)];N+=G*X,D+=X}}const M=x[T]=Math.round(N/D);A[M]++}return[x,A]},MT=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},Iw=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let r=-1/0,i=1/0;for(let c=0,h=n.length;c<h;c++){const f=n[c]=e[c<<2];r=Math.max(r,f),i=Math.min(i,f)}const l=255/(r-i);for(let c=0,h=n.length;c<h;c++)n[c]=(n[c]-i)*l;return n},Mw=function(e){let t,n=-1/0,r=-1/0;const i=e.findIndex(h=>h!==0);let l=i,c=i;for(t=i;t<256;t++){const h=e[t];h>n&&(t-l>r&&(r=t-l,c=t-1),n=h,l=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t},DT=function(e){const t=e,{width:n,height:r}=e,{maxDim:i}=o(this,pc);let l=n,c=r;if(n>i||r>i){let v=n,x=r,A=Math.log2(Math.max(n,r)/i);const b=Math.floor(A);A=A===b?b-1:b;for(let T=0;T<A;T++){l=Math.ceil(v/2),c=Math.ceil(x/2);const R=new OffscreenCanvas(l,c);R.getContext("2d").drawImage(e,0,0,v,x,0,0,l,c),v=l,x=c,e!==t&&e.close(),e=R.transferToImageBitmap()}const E=Math.min(i/l,i/c);l=Math.round(l*E),c=Math.round(c*E)}const f=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,c),f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,l,c);const p=f.getImageData(0,0,l,c).data;return[k(this,qt,Iw).call(this,p),l,c]},P(da,qt),P(da,pc,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),P(da,Rs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class r1 extends AT{constructor(){super(),super.updateProperties({fill:ge._defaultLineColor,"stroke-width":0})}clone(){const e=new r1;return e.updateAll(this),e}}class s1 extends n0{constructor(e){super(e),super.updateProperties({stroke:ge._defaultLineColor,"stroke-width":1})}clone(){const e=new s1(this._viewParameters);return e.updateAll(this),e}}var Po,ui,ko,mc;const gr=class gr extends Ev{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});P(this,Po,!1);P(this,ui,null);P(this,ko,null);P(this,mc,null);this._willKeepAspectRatio=!0,w(this,ko,t.signatureData||null),w(this,ui,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){ge.initialize(t,n),this._defaultDrawingOptions=new r1,this._defaultDrawnSignatureOptions=new s1(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Dt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!o(this,ui)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(o(this,ko)){const{lines:i,mustSmooth:l,areContours:c,description:h,uuid:f,heightInPage:p}=o(this,ko),{rawDims:{pageWidth:g,pageHeight:v},rotation:x}=this.parent.viewport,A=da.processDrawnLines({lines:i,pageWidth:g,pageHeight:v,rotation:x,innerMargin:gr._INNER_MARGIN,mustSmooth:l,areContours:c});this.addSignature(A,p,h,f)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:o(this,ui)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){w(this,mc,t),this.addEditToolbar()}getUuid(){return o(this,mc)}get description(){return o(this,ui)}set description(t){w(this,ui,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:r,width:i,height:l}=o(this,ko),c=Math.max(i,l),h=da.processDrawnLines({lines:{curves:t.map(f=>({points:f})),thickness:r,width:i,height:l},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:h.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,r,i){const{x:l,y:c}=this,{outline:h}=w(this,ko,t);w(this,Po,h instanceof kw),this.description=r;let f;o(this,Po)?f=gr.getDefaultDrawingOptions():(f=gr._defaultDrawnSignatureOptions.clone(),f.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:f});const[,p]=this.pageDimensions;let g=n/p;g=g>=1?.5:g,this.width*=g/this.height,this.width>=1&&(g*=.9/this.width,this.width=.9),this.height=g,this.setDims(),this.x=l,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return da.process(t,n,r,i,gr._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:l}=this.parent.viewport;return da.extractContoursFromText(t,n,r,i,l,gr._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return da.processDrawnLines({lines:t,pageWidth:n,pageHeight:r,rotation:i,innerMargin:gr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=gr.getDefaultDrawingOptions():(this._drawingOptions=gr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":i}}=this,l=Object.assign(super.serialize(t),{isSignature:!0,areContours:o(this,Po),color:[0,0,0],thickness:o(this,Po)?0:i});return this.addComment(l),t?(l.paths={lines:n,points:r},l.uuid=o(this,mc),l.isCopy=!0):l.lines=n,o(this,ui)&&(l.accessibilityData={type:"Figure",alt:o(this,ui)}),l}static deserializeDraw(t,n,r,i,l,c){return c.areContours?kw.deserialize(t,n,r,i,l,c):hm.deserialize(t,n,r,i,l,c)}static async deserialize(t,n,r){var l;const i=await super.deserialize(t,n,r);return w(i,Po,t.areContours),i.description=((l=t.accessibilityData)==null?void 0:l.alt)||"",w(i,mc,t.uuid),i}};Po=new WeakMap,ui=new WeakMap,ko=new WeakMap,mc=new WeakMap,K(gr,"_type","signature"),K(gr,"_editorType",Ot.SIGNATURE),K(gr,"_defaultDrawingOptions",null);let Dw=gr;var Se,dn,No,oa,Ro,Lh,la,gc,hi,Or,Oh,Xt,tf,ef,av,ov,lv,Ow,cv,LT;class Lw extends ge{constructor(t){super({...t,name:"stampEditor"});P(this,Xt);P(this,Se,null);P(this,dn,null);P(this,No,null);P(this,oa,null);P(this,Ro,null);P(this,Lh,"");P(this,la,null);P(this,gc,!1);P(this,hi,null);P(this,Or,!1);P(this,Oh,!1);w(this,oa,t.bitmapUrl),w(this,Ro,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){ge.initialize(t,n)}static isHandlingMimeForPasting(t){return vx.includes(t)}static paste(t,n){n.pasteEditor({mode:Ot.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,h=await r.guess({name:"altText",request:{data:i,width:l,height:c,channels:i.length/(l*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const f=h.output;return await this.setGuessedAltText(f),n&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}remove(){var t;o(this,dn)&&(w(this,Se,null),this._uiManager.imageManager.deleteId(o(this,dn)),(t=o(this,la))==null||t.remove(),w(this,la,null),o(this,hi)&&(clearTimeout(o(this,hi)),w(this,hi,null))),super.remove()}rebuild(){if(!this.parent){o(this,dn)&&k(this,Xt,av).call(this);return}super.rebuild(),this.div!==null&&(o(this,dn)&&o(this,la)===null&&k(this,Xt,av).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(o(this,No)||o(this,Se)||o(this,oa)||o(this,Ro)||o(this,dn)||o(this,gc))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),o(this,gc)||(o(this,Se)?k(this,Xt,ov).call(this):k(this,Xt,av).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(w(this,dn,r),i&&w(this,Se,i),w(this,gc,!1),k(this,Xt,ov).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;o(this,hi)!==null&&clearTimeout(o(this,hi)),w(this,hi,setTimeout(()=>{w(this,hi,null),k(this,Xt,Ow).call(this)},200))}copyCanvas(t,n,r=!1){t||(t=224);const{width:i,height:l}=o(this,Se),c=new fi;let h=o(this,Se),f=i,p=l,g=null;if(n){if(i>n||l>n){const F=Math.min(n/i,n/l);f=Math.floor(i*F),p=Math.floor(l*F)}g=document.createElement("canvas");const x=g.width=Math.ceil(f*c.sx),A=g.height=Math.ceil(p*c.sy);o(this,Or)||(h=k(this,Xt,lv).call(this,x,A));const b=g.getContext("2d");b.filter=this._uiManager.hcmFilter;let E="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":GN.isDarkMode&&(E="#8f8f9d",T="#42414d");const R=15,N=R*c.sx,D=R*c.sy,M=new OffscreenCanvas(N*2,D*2),L=M.getContext("2d");L.fillStyle=E,L.fillRect(0,0,N*2,D*2),L.fillStyle=T,L.fillRect(0,0,N,D),L.fillRect(N,D,N,D),b.fillStyle=b.createPattern(M,"repeat"),b.fillRect(0,0,x,A),b.drawImage(h,0,0,h.width,h.height,0,0,x,A)}let v=null;if(r){let x,A;if(c.symmetric&&h.width<t&&h.height<t)x=h.width,A=h.height;else if(h=o(this,Se),i>t||l>t){const T=Math.min(t/i,t/l);x=Math.floor(i*T),A=Math.floor(l*T),o(this,Or)||(h=k(this,Xt,lv).call(this,x,A))}const E=new OffscreenCanvas(x,A).getContext("2d",{willReadFrequently:!0});E.drawImage(h,0,0,h.width,h.height,0,0,x,A),v={width:x,height:A,data:E.getImageData(0,0,x,A).data}}return{canvas:g,width:f,height:p,imageData:v}}static async deserialize(t,n,r){var E;let i=null,l=!1;if(t instanceof QC){const{data:{rect:T,rotation:R,id:N,structParent:D,popupRef:M,richText:L,contentsObj:F,creationDate:U,modificationDate:z},container:G,parent:{page:{pageNumber:X}},canvas:ot}=t;let q,st;ot?(delete t.canvas,{id:q,bitmap:st}=r.imageManager.getFromCanvas(G.id,ot),ot.remove()):(l=!0,t._hasNoCanvas=!0);const ht=((E=await n._structTree.getAriaAttributes(`${ou}${N}`))==null?void 0:E.get("aria-label"))||"";i=t={annotationType:Ot.STAMP,bitmapId:q,bitmap:st,pageIndex:X-1,rect:T.slice(0),rotation:R,annotationElementId:N,id:N,deleted:!1,accessibilityData:{decorative:!1,altText:ht},isSvg:!1,structParent:D,popupRef:M,richText:L,comment:(F==null?void 0:F.str)||null,creationDate:U,modificationDate:z}}const c=await super.deserialize(t,n,r),{rect:h,bitmap:f,bitmapUrl:p,bitmapId:g,isSvg:v,accessibilityData:x}=t;l?(r.addMissingCanvas(t.id,c),w(c,gc,!0)):g&&r.imageManager.isValidId(g)?(w(c,dn,g),f&&w(c,Se,f)):w(c,oa,p),w(c,Or,v);const[A,b]=c.pageDimensions;return c.width=(h[2]-h[0])/A,c.height=(h[3]-h[1])/b,x&&(c.altTextData=x),c._initialData=i,t.comment&&c.setCommentData(t),w(c,Oh,!!i),c}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:o(this,dn),isSvg:o(this,Or)});if(this.addComment(r),t)return r.bitmapUrl=k(this,Xt,cv).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:l}=this.serializeAltText(!1);if(!i&&l&&(r.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=k(this,Xt,LT).call(this,r);return h.isSame?null:(h.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(n===null)return r;n.stamps||(n.stamps=new Map);const c=o(this,Or)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(o(this,dn)))n.stamps.set(o(this,dn),{area:c,serialized:r}),r.bitmap=k(this,Xt,cv).call(this,!1);else if(o(this,Or)){const h=n.stamps.get(o(this,dn));c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=k(this,Xt,cv).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Se=new WeakMap,dn=new WeakMap,No=new WeakMap,oa=new WeakMap,Ro=new WeakMap,Lh=new WeakMap,la=new WeakMap,gc=new WeakMap,hi=new WeakMap,Or=new WeakMap,Oh=new WeakMap,Xt=new WeakSet,tf=function(t,n=!1){if(!t){this.remove();return}w(this,Se,t.bitmap),n||(w(this,dn,t.id),w(this,Or,t.isSvg)),t.file&&w(this,Lh,t.file.name),k(this,Xt,ov).call(this)},ef=function(){if(w(this,No,null),this._uiManager.enableWaiting(!1),!!o(this,la)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&o(this,Se)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&o(this,Se)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},av=function(){if(o(this,dn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(o(this,dn)).then(r=>k(this,Xt,tf).call(this,r,!0)).finally(()=>k(this,Xt,ef).call(this));return}if(o(this,oa)){const r=o(this,oa);w(this,oa,null),this._uiManager.enableWaiting(!0),w(this,No,this._uiManager.imageManager.getFromUrl(r).then(i=>k(this,Xt,tf).call(this,i)).finally(()=>k(this,Xt,ef).call(this)));return}if(o(this,Ro)){const r=o(this,Ro);w(this,Ro,null),this._uiManager.enableWaiting(!0),w(this,No,this._uiManager.imageManager.getFromFile(r).then(i=>k(this,Xt,tf).call(this,i)).finally(()=>k(this,Xt,ef).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=vx.join(",");const n=this._uiManager._signal;w(this,No,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,Xt,tf).call(this,i)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>k(this,Xt,ef).call(this))),t.click()},ov=function(){var f;const{div:t}=this;let{width:n,height:r}=o(this,Se);const[i,l]=this.pageDimensions,c=.75;if(this.width)n=this.width*i,r=this.height*l;else if(n>c*i||r>c*l){const p=Math.min(c*i/n,c*l/r);n*=p,r*=p}this._uiManager.enableWaiting(!1);const h=w(this,la,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=n/i,this.height=r/l,this.setDims(),(f=this._initialOptions)!=null&&f.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),k(this,Xt,Ow).call(this),o(this,Oh)||(this.parent.addUndoableEditor(this),w(this,Oh,!0)),this._reportTelemetry({action:"inserted_image"}),o(this,Lh)&&this.div.setAttribute("aria-description",o(this,Lh)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},lv=function(t,n){const{width:r,height:i}=o(this,Se);let l=r,c=i,h=o(this,Se);for(;l>2*t||c>2*n;){const f=l,p=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const g=new OffscreenCanvas(l,c);g.getContext("2d").drawImage(h,0,0,f,p,0,0,l,c),h=g.transferToImageBitmap()}return h},Ow=function(){const[t,n]=this.parentDimensions,{width:r,height:i}=this,l=new fi,c=Math.ceil(r*t*l.sx),h=Math.ceil(i*n*l.sy),f=o(this,la);if(!f||f.width===c&&f.height===h)return;f.width=c,f.height=h;const p=o(this,Or)?o(this,Se):k(this,Xt,lv).call(this,c,h),g=f.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,c,h)},cv=function(t){if(t){if(o(this,Or)){const i=this._uiManager.imageManager.getSvgUrl(o(this,dn));if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=o(this,Se),n.getContext("2d").drawImage(o(this,Se),0,0),n.toDataURL()}if(o(this,Or)){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*_o.PDF_TO_CSS_UNITS),l=Math.round(this.height*r*_o.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(i,l);return c.getContext("2d").drawImage(o(this,Se),0,0,o(this,Se).width,o(this,Se).height,0,0,i,l),c.transferToImageBitmap()}return structuredClone(o(this,Se))},LT=function(t){var c;const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=t.pageIndex===n,l=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&l,isSameAltText:l}},K(Lw,"_type","stamp"),K(Lw,"_editorType",Ot.STAMP);var vc,Fh,Io,Mo,ca,ur,Do,jh,Bh,Is,ua,fn,ha,Lo,_h,Et,Oo,de,jw,OT,$s,Bw,_w,uv;const ws=class ws{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:i,annotationLayer:l,drawLayer:c,textLayer:h,viewport:f,l10n:p}){P(this,de);P(this,vc);P(this,Fh,!1);P(this,Io,null);P(this,Mo,null);P(this,ca,null);P(this,ur,new Map);P(this,Do,!1);P(this,jh,!1);P(this,Bh,!1);P(this,Is,null);P(this,ua,null);P(this,fn,null);P(this,ha,null);P(this,Lo,null);P(this,_h,-1);P(this,Et);const g=[...o(ws,Oo).values()];if(!ws._initialized){ws._initialized=!0;for(const v of g)v.initialize(p,e)}e.registerEditorTypes(g),w(this,Et,e),this.pageIndex=t,this.div=n,w(this,vc,i),w(this,Io,l),this.viewport=f,w(this,fn,h),this.drawLayer=c,this._structTree=r,o(this,Et).addLayer(this)}updatePageIndex(e){this.pageIndex=e}get isEmpty(){return o(this,ur).size===0}get isInvisible(){return this.isEmpty&&o(this,Et).getMode()===Ot.NONE}updateToolbar(e){o(this,Et).updateToolbar(e)}updateMode(e=o(this,Et).getMode()){switch(k(this,de,uv).call(this),e){case Ot.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ot.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ot.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Ot.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of o(ws,Oo).values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=o(this,fn))==null?void 0:t.div)}setEditingState(e){o(this,Et).setEditingState(e)}addCommands(e){o(this,Et).addCommands(e)}cleanUndoStack(e){o(this,Et).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=o(this,Io))==null||t.togglePointerEvents(e)}async enable(){var n;w(this,Bh,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=o(this,Lo))==null||n.abort(),w(this,Lo,null);const e=new Set;for(const r of o(this,de,jw))r.enableEditing(),r.show(!0),r.annotationElementId&&(o(this,Et).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=o(this,Io);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),o(this,Et).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}w(this,Bh,!1),o(this,Et)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(w(this,jh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),o(this,fn)&&!o(this,Lo)){w(this,Lo,new AbortController);const i=o(this,Et).combinedSignal(o(this,Lo));o(this,fn).div.addEventListener("pointerdown",l=>{const{clientX:h,clientY:f,timeStamp:p}=l,g=o(this,_h);if(p-g>500){w(this,_h,p);return}w(this,_h,-1);const{classList:v}=this.div;v.toggle("getElements",!0);const x=document.elementsFromPoint(h,f);if(v.toggle("getElements",!1),!this.div.contains(x[0]))return;let A;const b=new RegExp(`^${sf}[0-9]+$`);for(const T of x)if(b.test(T.id)){A=T.id;break}if(!A)return;const E=o(this,ur).get(A);(E==null?void 0:E.annotationElementId)===null&&(l.stopPropagation(),l.preventDefault(),E.dblclick(l))},{signal:i,capture:!0})}const e=o(this,Io),t=[];if(e){const i=new Map,l=new Map;for(const h of o(this,de,jw)){if(h.disableEditing(),!h.annotationElementId){t.push(h);continue}if(h.serialize()!==null){i.set(h.annotationElementId,h);continue}else l.set(h.annotationElementId,h);(r=this.getEditableAnnotation(h.annotationElementId))==null||r.show(),h.remove()}const c=e.getEditableAnnotations();for(const h of c){const{id:f}=h.data;if(o(this,Et).isDeletedAnnotationElement(f)){h.updateEdited({deleted:!0});continue}let p=l.get(f);if(p){p.resetAnnotationElement(h),p.show(!1),h.show();continue}p=i.get(f),p&&(o(this,Et).addChangedExistingAnnotation(p),p.renderAnnotationElement(h)&&p.show(!1)),h.show()}}k(this,de,uv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of o(ws,Oo).values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),w(this,jh,!1)}getEditableAnnotation(e){var t;return((t=o(this,Io))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){o(this,Et).getActive()!==e&&o(this,Et).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=o(this,fn))!=null&&e.div&&!o(this,ha)){w(this,ha,new AbortController);const t=o(this,Et).combinedSignal(o(this,ha));o(this,fn).div.addEventListener("pointerdown",k(this,de,OT).bind(this),{signal:t}),o(this,fn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=o(this,fn))!=null&&e.div&&o(this,ha)&&(o(this,ha).abort(),w(this,ha,null),o(this,fn).div.classList.remove("highlighting"))}enableClick(){if(o(this,Mo))return;w(this,Mo,new AbortController);const e=o(this,Et).combinedSignal(o(this,Mo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=o(this,Mo))==null||e.abort(),w(this,Mo,null)}attach(e){o(this,ur).set(e.id,e);const{annotationElementId:t}=e;t&&o(this,Et).isDeletedAnnotationElement(t)&&o(this,Et).removeDeletedAnnotationElement(e)}detach(e){var t;o(this,ur).delete(e.id),(t=o(this,vc))==null||t.removePointerInTextLayer(e.contentDiv),!o(this,jh)&&e.annotationElementId&&o(this,Et).addDeletedAnnotationElement(e)}remove(e){this.detach(e),o(this,Et).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(o(this,Et).addDeletedAnnotationElement(e),ge.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),o(this,Et).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!o(this,Bh)),o(this,Et).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!o(this,ca)&&(e._focusEventsAllowed=!1,w(this,ca,setTimeout(()=>{w(this,ca,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:o(this,Et)._signal}),t.focus())},0))),e._structTreeParentId=(n=o(this,vc))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of o(this,ur).values())if(t.uid===e)return t;return null}getNextId(){return o(this,Et).getId()}combinedSignal(e){return o(this,Et).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=o(this,de,$s))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await o(this,Et).updateMode(e.mode);const{offsetX:n,offsetY:r}=k(this,de,_w).call(this),i=this.getNextId(),l=k(this,de,Bw).call(this,{parent:this,id:i,x:n,y:r,uiManager:o(this,Et),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=o(ws,Oo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,o(this,Et)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),i=k(this,de,Bw).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:o(this,Et),isCentered:t,...n});return i&&this.add(i),i}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(k(this,de,_w).call(this),!0,e)}setSelected(e){o(this,Et).setSelected(e)}toggleSelected(e){o(this,Et).toggleSelected(e)}unselect(e){o(this,Et).unselect(e)}pointerup(e){var r;const{isMac:t}=en.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!o(this,Do)||(w(this,Do,!1),(r=o(this,de,$s))!=null&&r.isDrawer&&o(this,de,$s).supportMultipleDrawings))return;if(!o(this,Fh)){w(this,Fh,!0);return}const n=o(this,Et).getMode();if(n===Ot.STAMP||n===Ot.SIGNATURE){o(this,Et).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(o(this,Et).getMode()===Ot.HIGHLIGHT&&this.enableTextSelection(),o(this,Do)){w(this,Do,!1);return}const{isMac:t}=en.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(w(this,Do,!0),(r=o(this,de,$s))!=null&&r.isDrawer){this.startDrawingSession(e);return}const n=o(this,Et).getActive();w(this,Fh,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),o(this,Is)){o(this,de,$s).startDrawing(this,o(this,Et),!1,e);return}o(this,Et).setCurrentDrawingSession(this),w(this,Is,new AbortController);const t=o(this,Et).combinedSignal(o(this,Is));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(w(this,ua,null),this.commitOrRemove())},{signal:t}),o(this,de,$s).startDrawing(this,o(this,Et),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&w(this,ua,t);return}o(this,ua)&&setTimeout(()=>{var t;(t=o(this,ua))==null||t.focus(),w(this,ua,null)},0)}endDrawingSession(e=!1){return o(this,Is)?(o(this,Et).setCurrentDrawingSession(null),o(this,Is).abort(),w(this,Is,null),w(this,ua,null),o(this,de,$s).endDrawing(e)):null}findNewParent(e,t,n){const r=o(this,Et).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return o(this,Is)?(this.endDrawingSession(),!0):!1}onScaleChanging(){o(this,Is)&&o(this,de,$s).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=o(this,Et).getActive())==null?void 0:e.parent)===this&&(o(this,Et).commitOrRemove(),o(this,Et).setActiveEditor(null)),o(this,ca)&&(clearTimeout(o(this,ca)),w(this,ca,null));for(const n of o(this,ur).values())(t=o(this,vc))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,o(this,ur).clear(),o(this,Et).removeLayer(this)}render({viewport:e}){this.viewport=e,wc(this.div,e);for(const t of o(this,Et).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){o(this,Et).commitOrRemove(),k(this,de,uv).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,wc(this.div,{rotation:n}),t!==n)for(const r of o(this,ur).values())r.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return o(this,Et).viewParameters.realScale}};vc=new WeakMap,Fh=new WeakMap,Io=new WeakMap,Mo=new WeakMap,ca=new WeakMap,ur=new WeakMap,Do=new WeakMap,jh=new WeakMap,Bh=new WeakMap,Is=new WeakMap,ua=new WeakMap,fn=new WeakMap,ha=new WeakMap,Lo=new WeakMap,_h=new WeakMap,Et=new WeakMap,Oo=new WeakMap,de=new WeakSet,jw=function(){return o(this,ur).size!==0?o(this,ur).values():o(this,Et).getEditors(this.pageIndex)},OT=function(e){o(this,Et).unselectAll();const{target:t}=e;if(t===o(this,fn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&o(this,fn).div.contains(t)){const{isMac:n}=en.platform;if(e.button!==0||e.ctrlKey&&n)return;o(this,Et).showAllEditors("highlight",!0,!0),o(this,fn).div.classList.add("free"),this.toggleDrawing(),Sv.startHighlighting(this,o(this,Et).direction==="ltr",{target:o(this,fn).div,x:e.x,y:e.y}),o(this,fn).div.addEventListener("pointerup",()=>{o(this,fn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:o(this,Et)._signal}),e.preventDefault()}},$s=function(){return o(ws,Oo).get(o(this,Et).getMode())},Bw=function(e){const t=o(this,de,$s);return t?new t.prototype.constructor(e):null},_w=function(){const{x:e,y:t,width:n,height:r}=this.boundingClientRect,i=Math.max(0,e),l=Math.max(0,t),c=Math.min(window.innerWidth,e+n),h=Math.min(window.innerHeight,t+r),f=(i+c)/2-e,p=(l+h)/2-t,[g,v]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:g,offsetY:v}},uv=function(){for(const e of o(this,ur).values())e.isEmpty()&&e.remove()},K(ws,"_initialized",!1),P(ws,Oo,new Map([vw,Pw,Lw,Sv,Dw].map(e=>[e._editorType,e])));let Fw=ws;var Ms,Wn,yc,sm,$v,FT,mi,zw,jT,Hw;const Ze=class Ze{constructor(){P(this,mi);P(this,Ms,null);P(this,Wn,new Map);P(this,yc,new Map)}setParent(e){if(!o(this,Ms)){w(this,Ms,e);return}if(o(this,Ms)!==e){if(o(this,Wn).size>0)for(const t of o(this,Wn).values())t.remove(),e.append(t);w(this,Ms,e)}}static get _svgFactory(){return Dt(this,"_svgFactory",new bv)}draw(e,t=!1,n=!1){const r=Qe(Ze,sm)._++,i=k(this,mi,zw).call(this),l=Ze._svgFactory.createElement("defs");i.append(l);const c=Ze._svgFactory.createElement("path");l.append(c);const h=`path_${r}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke"),t&&o(this,yc).set(r,c);const f=n?k(this,mi,jT).call(this,l,h):null,p=Ze._svgFactory.createElement("use");return i.append(p),p.setAttribute("href",`#${h}`),this.updateProperties(i,e),o(this,Wn).set(r,i),{id:r,clipPathId:`url(#${f})`}}drawOutline(e,t){const n=Qe(Ze,sm)._++,r=k(this,mi,zw).call(this),i=Ze._svgFactory.createElement("defs");r.append(i);const l=Ze._svgFactory.createElement("path");i.append(l);const c=`path_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t){const g=Ze._svgFactory.createElement("mask");i.append(g),h=`mask_${n}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const v=Ze._svgFactory.createElement("rect");g.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const x=Ze._svgFactory.createElement("use");g.append(x),x.setAttribute("href",`#${c}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const f=Ze._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${c}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,e),o(this,Wn).set(n,r),n}finalizeDraw(e,t){o(this,yc).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var h;if(!t)return;const{root:n,bbox:r,rootClass:i,path:l}=t,c=typeof e=="number"?o(this,Wn).get(e):e;if(c){if(n&&k(this,mi,Hw).call(this,c,n),r&&k(h=Ze,$v,FT).call(h,c,r),i){const{classList:f}=c;for(const[p,g]of Object.entries(i))f.toggle(p,g)}if(l){const p=c.firstElementChild.firstElementChild;k(this,mi,Hw).call(this,p,l)}}}updateParent(e,t){if(t===this)return;const n=o(this,Wn).get(e);n&&(o(t,Ms).append(n),o(this,Wn).delete(e),o(t,Wn).set(e,n))}remove(e){o(this,yc).delete(e),o(this,Ms)!==null&&(o(this,Wn).get(e).remove(),o(this,Wn).delete(e))}destroy(){w(this,Ms,null);for(const e of o(this,Wn).values())e.remove();o(this,Wn).clear(),o(this,yc).clear()}};Ms=new WeakMap,Wn=new WeakMap,yc=new WeakMap,sm=new WeakMap,$v=new WeakSet,FT=function(e,[t,n,r,i]){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*i}%`},mi=new WeakSet,zw=function(){const e=Ze._svgFactory.create(1,1,!0);return o(this,Ms).append(e),e.setAttribute("aria-hidden",!0),e},jT=function(e,t){const n=Ze._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const i=Ze._svgFactory.createElement("use");return n.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),r},Hw=function(e,t){for(const[n,r]of Object.entries(t))r===null?e.removeAttribute(n):e.setAttribute(n,r)},P(Ze,$v),P(Ze,sm,0);let Uw=Ze;globalThis._pdfjsTestingUtils={HighlightOutliner:xw};globalThis.pdfjsLib={AbortException:Bo,AnnotationEditorLayer:Fw,AnnotationEditorParamsType:$t,AnnotationEditorType:Ot,AnnotationEditorUIManager:bc,AnnotationLayer:mw,AnnotationMode:Ua,AnnotationType:Ve,applyOpacity:YN,build:eI,ColorPicker:xv,createValidAbsoluteUrl:mE,CSSConstants:XN,DOMSVGFactory:bv,DrawLayer:Uw,FeatureTest:en,fetchData:om,findContrastColor:KN,getDocument:LC,getFilenameFromUrl:zN,getPdfFilenameFromUrl:HN,getRGB:cm,getUuid:vE,getXfaPageViewport:VN,GlobalWorkerOptions:di,ImageKind:Rg,InvalidPDFException:mx,isDataScheme:Qv,isPdfFile:Jw,isValidExplicitDest:aR,MathClamp:An,noContextMenu:hs,normalizeUnicode:_N,OPS:af,OutputScale:fi,PagesMapper:lf,PasswordResponses:NN,PDFDataRangeTransport:OC,PDFDateString:fv,PDFWorker:uf,PermissionFlag:kN,PixelsPerInch:_o,RenderingCancelledException:Qw,renderRichText:xE,ResponseException:dv,setLayerDimensions:wc,shadow:Dt,SignatureExtractor:da,stopEvent:Oe,SupportedImageMimeTypes:vx,TextLayer:cf,TouchManager:mv,updateUrlHash:gE,Util:pt,VerbosityLevel:Gv,version:tI,XfaLayer:yE};const CI="/assets/pdf.worker.min-Cr_QfRGn.mjs";di.workerSrc=CI;async function $w(u){try{const e=await LC({data:u}).promise,t=e.numPages;let n="";for(let r=1;r<=t;r++){const l=await(await e.getPage(r)).getTextContent();n+=l.items.map(c=>c.str).join(" ")+`
`}return n}catch(e){return console.error("PDF text extraction failed",e),""}}function TI(u){const e=atob(u),t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function PI(u,e=""){const t=(u||"").toLowerCase(),n=(u||"").split(/\n/).map(f=>f.trim()).filter(Boolean),r={name:e||"",age:null,qualifications:null,experience:null,education:null,skills:null,summary:null},i=f=>new RegExp(`\\b${f}\\b[\\s:]*([\\s\\S]*?)(?=\\n\\s*[A-Z][a-z]+:|$)`,"i"),l=(f,...p)=>{for(const g of p){const v=u.match(i(g));if(v&&v[1]){const x=v[1].replace(/\s+/g," ").trim().slice(0,500);x&&(r[f]=x);return}}};l("experience","experience","work experience","employment","professional experience"),l("education","education","academic","qualifications","degrees"),l("qualifications","qualifications","certifications","credentials"),l("skills","skills","core competencies","expertise");const c=u.match(/(?:age|dob|date of birth|year of birth|y\.o\.?|years old)[\s:]*(\d{1,3})/i);c&&(r.age=c[1]);const h=u.match(/(?:dob|date of birth|d\.o\.b\.?)[\s:]*([^\n]+)/i);if(h&&!r.age&&(r.age=h[1].trim().slice(0,50)),!r.qualifications&&r.education&&(r.qualifications=r.education),!r.experience&&t.includes("experience")){const f=n.findIndex(p=>/experience/i.test(p));f>=0&&n[f+1]&&(r.experience=n.slice(f+1).join(" ").slice(0,500))}return r}async function kI(u){if(!(u!=null&&u.base64))return"";const e=TI(u.base64),t=(u.fileName||"").toLowerCase();if(t.endsWith(".pdf"))return $w(e.buffer);if(t.endsWith(".txt"))try{return new TextDecoder().decode(e)}catch{return""}return t.match(/\.(doc|docx)$/)?"":$w(e.buffer)}async function NI(u){try{const e=await fetch(u);if(!e.ok)return"";const t=await e.arrayBuffer();return $w(t)}catch(e){return console.error("Fetch CV failed",e),""}}function JS(){const u=am(),e=et.useRef(null),[t,n]=et.useState(!1),r=()=>{n(!1),sessionStorage.removeItem(xc),u("/admin",{replace:!0})};return et.useEffect(()=>{function i(l){e.current&&!e.current.contains(l.target)&&n(!1)}if(t)return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[t]),C.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-xl border-b border-slate-200/60 shadow-soft",children:C.jsx("nav",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"flex items-center justify-between h-18 md:h-20",children:[C.jsxs("button",{type:"button",onClick:()=>u("/admin-dashboard"),className:"flex items-center gap-2 text-left",children:[C.jsx("img",{src:Yw,alt:"VeriDx.ai",className:"w-10 h-10"}),C.jsxs("div",{className:"flex flex-col gap-0",children:[C.jsxs("span",{className:"font-display font-bold text-xl text-medical-navy tracking-tight leading-tight",children:["VeriDx",C.jsx("span",{className:"text-primary-600",children:".ai"})]}),C.jsx("span",{className:"text-sm font-normal text-slate-500 tracking-tight leading-tight",children:"Admin"})]})]}),C.jsxs("div",{className:"relative",ref:e,children:[C.jsx("button",{type:"button",onClick:()=>n(i=>!i),className:"p-2.5 rounded-xl text-slate-600 hover:bg-slate-100 hover:text-primary-600 transition-colors","aria-label":"Profile","aria-expanded":t,children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),t&&C.jsx("div",{className:"absolute right-0 top-full mt-1 py-1 min-w-[140px] rounded-xl bg-white border border-slate-200 shadow-lg z-50",children:C.jsxs("button",{type:"button",onClick:r,className:"w-full flex items-center gap-2 px-4 py-2.5 text-left text-sm font-medium text-slate-700 hover:bg-slate-50 hover:text-red-600 transition-colors rounded-lg mx-1",children:[C.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})]})})})}function RI(){const{id:u}=Sk(),e=am(),[t,n]=et.useState(null),[r,i]=et.useState(null),[l,c]=et.useState(!0),[h,f]=et.useState(!1);if(et.useEffect(()=>{if(!sessionStorage.getItem(xc)){e("/admin",{replace:!0});return}let v=!1;async function x(){const A=await pE();let b=null;if(A&&Array.isArray(A)&&(b=A.find(N=>N.id===u)),b||(b=Wv().find(D=>D.id===u)),v)return;if(!b){e("/admin-dashboard",{replace:!0});return}n(b);let E="";const T=gN(u);if(T?E=await kI(T):b.hasFile&&bS()?E=await NI(bS()):f(!0),v)return;const R=PI(E,b.name||"");i(R),c(!1)}return x(),()=>{v=!0}},[u,e]),!sessionStorage.getItem(xc))return null;if(l||!t)return C.jsxs("div",{className:"min-h-screen bg-medical-mist bg-grid-pattern",children:[C.jsx(JS,{}),C.jsx("main",{className:"pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:C.jsx("div",{className:"max-w-2xl mx-auto text-center py-12 text-slate-500",children:t?"Loading CV key points":"Redirecting"})})]});const p=r||{},g=p.experience||p.education||p.qualifications||p.skills||p.age;return C.jsxs("div",{className:"min-h-screen bg-medical-mist bg-grid-pattern",children:[C.jsx(JS,{}),C.jsx("main",{className:"pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-2xl mx-auto",children:[C.jsxs("button",{type:"button",onClick:()=>e("/admin-dashboard"),className:"inline-flex items-center gap-2 text-slate-600 hover:text-primary-600 text-sm font-semibold mb-8 transition-colors",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to experts"]}),C.jsxs("div",{className:"p-6 sm:p-8 rounded-3xl bg-white border border-slate-200/80 shadow-soft-lg",children:[C.jsx("h1",{className:"font-display font-bold text-2xl text-medical-navy",children:"Expert CV summary"}),C.jsx("p",{className:"mt-1 text-slate-600 text-sm",children:"Key points from resume / CV"}),C.jsxs("dl",{className:"mt-8 space-y-6",children:[C.jsxs("div",{children:[C.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Name"}),C.jsx("dd",{className:"mt-1 font-medium text-slate-900",children:t.name||""})]}),C.jsxs("div",{children:[C.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Email"}),C.jsx("dd",{className:"mt-1 text-slate-700",children:t.email||""})]}),C.jsxs("div",{children:[C.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Phone number"}),C.jsx("dd",{className:"mt-1 text-slate-700",children:t.phone||""})]}),C.jsxs("div",{children:[C.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Age / Date of birth"}),C.jsx("dd",{className:"mt-1 text-slate-700",children:p.age||""})]}),C.jsxs("div",{children:[C.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Qualifications"}),C.jsx("dd",{className:"mt-1 text-slate-700 whitespace-pre-wrap",children:p.qualifications||""})]}),C.jsxs("div",{children:[C.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Education"}),C.jsx("dd",{className:"mt-1 text-slate-700 whitespace-pre-wrap",children:p.education||""})]}),C.jsxs("div",{children:[C.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Experience"}),C.jsx("dd",{className:"mt-1 text-slate-700 whitespace-pre-wrap",children:p.experience||""})]}),C.jsxs("div",{children:[C.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Skills"}),C.jsx("dd",{className:"mt-1 text-slate-700 whitespace-pre-wrap",children:p.skills||""})]})]}),h&&!g&&C.jsx("p",{className:"mt-6 p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"CV file is no longer available (storage expired after 10 hours). Contact and submission details are shown above."})]})]})})]})}function II(){const e=$h().pathname.startsWith("/admin-dashboard");return C.jsxs(C.Fragment,{children:[!e&&C.jsx(Qk,{}),C.jsxs(_k,{children:[C.jsx(Ei,{path:"/",element:C.jsx(uN,{})}),C.jsx(Ei,{path:"/expert-intake",element:C.jsx(hN,{})}),C.jsx(Ei,{path:"/expert-intake/signup",element:C.jsx(wN,{})}),C.jsx(Ei,{path:"/login",element:C.jsx(bN,{})}),C.jsx(Ei,{path:"/admin",element:C.jsx(EN,{})}),C.jsx(Ei,{path:"/admin/signup",element:C.jsx(CN,{})}),C.jsx(Ei,{path:"/admin-dashboard",element:C.jsx(TN,{})}),C.jsx(Ei,{path:"/admin-dashboard/expert/:id",element:C.jsx(RI,{})})]}),!e&&C.jsx(Jk,{})]})}function MI(){return C.jsx(Gk,{children:C.jsx(II,{})})}GP.createRoot(document.getElementById("root")).render(C.jsx(eE.StrictMode,{children:C.jsx(MI,{})}));
